diff --git a/expo-app/app/(tabs)/_layout.tsx b/expo-app/app/(tabs)/_layout.tsx
index 8ec2b77..c2d2f04 100644
--- a/expo-app/app/(tabs)/_layout.tsx
+++ b/expo-app/app/(tabs)/_layout.tsx
@@ -1,20 +1,23 @@
 import { Tabs } from "expo-router";
 import { Platform } from "react-native";
 import { useSafeAreaInsets } from "react-native-safe-area-context";
-import { Home, BookOpen, PenLine, GraduationCap, MessageCircle } from "lucide-react-native";
+import { Home, BookOpen, PenLine, GraduationCap, MessageCircle, User } from "lucide-react-native";
+import { useColorScheme } from "nativewind";
 
 export default function TabLayout() {
   const insets = useSafeAreaInsets();
+  const { colorScheme } = useColorScheme();
+  const isDark = colorScheme === "dark";
 
   return (
     <Tabs
       screenOptions={{
         headerShown: false,
         tabBarActiveTintColor: "#4f46e5",
-        tabBarInactiveTintColor: "#94a3b8",
+        tabBarInactiveTintColor: isDark ? "#64748b" : "#94a3b8",
         tabBarStyle: {
-          borderTopColor: "#f1f5f9",
-          backgroundColor: "#ffffff",
+          borderTopColor: isDark ? "#1e293b" : "#f1f5f9",
+          backgroundColor: isDark ? "#020617" : "#ffffff",
           paddingBottom: Platform.OS === "web" ? 8 : insets.bottom,
         },
         tabBarLabelStyle: {
@@ -68,6 +71,15 @@ export default function TabLayout() {
           ),
         }}
       />
+      <Tabs.Screen
+        name="profile"
+        options={{
+          title: "Profile",
+          tabBarIcon: ({ color, size }) => (
+            <User size={size} color={color} />
+          ),
+        }}
+      />
     </Tabs>
   );
 }
diff --git a/expo-app/app/(tabs)/chat.tsx b/expo-app/app/(tabs)/chat.tsx
index 50b964e..7a75222 100644
--- a/expo-app/app/(tabs)/chat.tsx
+++ b/expo-app/app/(tabs)/chat.tsx
@@ -21,6 +21,7 @@ import {
 import { useChatLanguages } from "../../src/store/useChatLanguages";
 import { useChatNotes } from "../../src/store/useChatNotes";
 import { useDecks } from "../../src/store/useDecks";
+import { useChatHistory } from "../../src/store/useChatHistory";
 
 import { LanguageSelector } from "../../src/components/Chat/LanguageSelector";
 import { ChatInput } from "../../src/components/Chat/ChatInput";
@@ -29,7 +30,7 @@ import { SaveCardModal } from "../../src/components/Chat/SaveCardModal";
 import { NotesModal } from "../../src/components/Chat/NotesModal";
 
 export default function ChatScreen() {
-  const [messages, setMessages] = useState<ChatMessage[]>([]);
+  const { messages, setMessages, addMessage, clearHistory, loaded } = useChatHistory();
   const [isLoading, setIsLoading] = useState(false);
 
   const [showNotes, setShowNotes] = useState(false);
@@ -64,24 +65,31 @@ export default function ChatScreen() {
       };
 
       const nextMessages = [...messages, userMessage];
-      setMessages(nextMessages);
+      // We set local state immediately for responsiveness, though the hook also syncs
       setIsLoading(true);
       scrollToEnd();
 
-      const reply = await sendChatMessage(nextMessages, systemPrompt);
+      try {
+        await addMessage(userMessage);
+        const reply = await sendChatMessage(nextMessages, systemPrompt);
 
-      const assistantMessage: ChatMessage = {
-        id: Math.random().toString(36).substr(2, 9),
-        role: "assistant",
-        content: reply,
-        timestamp: new Date().toISOString(),
-      };
+        const assistantMessage: ChatMessage = {
+          id: Math.random().toString(36).substr(2, 9),
+          role: "assistant",
+          content: reply,
+          timestamp: new Date().toISOString(),
+        };
 
-      setMessages((prev) => [...prev, assistantMessage]);
-      setIsLoading(false);
-      scrollToEnd();
+        await addMessage(assistantMessage, nextMessages);
+      } catch (error) {
+        console.error("Chat error:", error);
+        Toast.show({ type: "error", text1: "Failed to send message" });
+      } finally {
+        setIsLoading(false);
+        scrollToEnd();
+      }
     },
-    [messages, systemPrompt, scrollToEnd]
+    [messages, systemPrompt, scrollToEnd, addMessage]
   );
 
   const handleOpenSaveCard = useCallback(
@@ -157,7 +165,7 @@ export default function ChatScreen() {
   const handleChangeStudyLang = useCallback(
     (lang: Language) => {
       changeStudyLang(lang);
-      setMessages([]);
+      clearHistory();
       Toast.show({ type: "info", text1: "Language changed â€” starting fresh" });
     },
     [changeStudyLang]
@@ -166,38 +174,46 @@ export default function ChatScreen() {
   const handleChangeNativeLang = useCallback(
     (lang: Language) => {
       changeNativeLang(lang);
-      setMessages([]);
+      clearHistory();
       Toast.show({ type: "info", text1: "Language changed â€” starting fresh" });
     },
     [changeNativeLang]
   );
 
   const handleNewChat = useCallback(() => {
-    setMessages([]);
-  }, []);
+    clearHistory();
+  }, [clearHistory]);
+
+  if (!loaded) {
+    return (
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
+        <ActivityIndicator size="large" color="#4f46e5" />
+      </SafeAreaView>
+    );
+  }
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       {/* Header */}
-      <View className="px-6 py-4 flex-row items-center justify-between border-b border-slate-100">
+      <View className="px-6 py-4 flex-row items-center justify-between border-b border-slate-100 dark:border-slate-800">
         <View>
-          <Text className="text-2xl font-semibold tracking-tight text-slate-900">
+          <Text className="text-2xl font-semibold tracking-tight text-slate-900 dark:text-white">
             Chat
           </Text>
-          <Text className="text-slate-500 text-sm mt-1">
+          <Text className="text-slate-500 dark:text-slate-400 text-sm mt-1">
             Your AI language tutor
           </Text>
         </View>
         <View className="flex-row gap-2 items-center">
           <Pressable
             onPress={() => setShowNotes(true)}
-            className="p-2 rounded-xl bg-slate-50"
+            className="p-2 rounded-xl bg-slate-50 dark:bg-slate-900"
           >
             <StickyNote size={20} color="#64748b" />
           </Pressable>
           <Pressable
             onPress={handleNewChat}
-            className="p-2 rounded-xl bg-slate-50"
+            className="p-2 rounded-xl bg-slate-50 dark:bg-slate-900"
           >
             <RotateCcw size={20} color="#64748b" />
           </Pressable>
@@ -234,7 +250,7 @@ export default function ChatScreen() {
           ListFooterComponent={
             isLoading ? (
               <View className="items-start py-2">
-                <View className="bg-slate-100 rounded-2xl px-4 py-3">
+                <View className="bg-slate-100 dark:bg-slate-900 rounded-2xl px-4 py-3">
                   <ActivityIndicator size="small" color="#4f46e5" />
                 </View>
               </View>
diff --git a/expo-app/app/(tabs)/decks.tsx b/expo-app/app/(tabs)/decks.tsx
index 0becf61..c9e299d 100644
--- a/expo-app/app/(tabs)/decks.tsx
+++ b/expo-app/app/(tabs)/decks.tsx
@@ -12,19 +12,19 @@ export default function HomeScreen() {
 
   if (!loaded) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#4f46e5" />
       </SafeAreaView>
     );
   }
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       <View className="p-6 pb-2">
-        <Text className="text-2xl font-semibold tracking-tight text-slate-900">
+        <Text className="text-2xl font-semibold tracking-tight text-slate-900 dark:text-white">
           Decks
         </Text>
-        <Text className="text-slate-500 text-sm mt-1">
+        <Text className="text-slate-500 dark:text-slate-400 text-sm mt-1">
           Master your learning, card by card.
         </Text>
       </View>
@@ -56,7 +56,7 @@ export default function HomeScreen() {
         />
       </ScrollView>
 
-      <View className="p-6 border-t border-slate-100 bg-white">
+      <View className="p-6 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950">
         <Pressable
           onPress={() => router.push("/editor")}
           className="w-full bg-indigo-600 py-4 rounded-2xl flex-row items-center justify-center gap-2"
diff --git a/expo-app/app/(tabs)/grammar.tsx b/expo-app/app/(tabs)/grammar.tsx
index 8ab86e2..ea648e4 100644
--- a/expo-app/app/(tabs)/grammar.tsx
+++ b/expo-app/app/(tabs)/grammar.tsx
@@ -47,12 +47,12 @@ export default function GrammarScreen() {
   };
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       <View className="p-6 pb-2">
-        <Text className="text-2xl font-semibold tracking-tight text-slate-900">
+        <Text className="text-2xl font-semibold tracking-tight text-slate-900 dark:text-white">
           Grammar
         </Text>
-        <Text className="text-slate-500 text-sm mt-1">
+        <Text className="text-slate-500 dark:text-slate-400 text-sm mt-1">
           Choose a topic and test your grammar
         </Text>
       </View>
diff --git a/expo-app/app/(tabs)/index.tsx b/expo-app/app/(tabs)/index.tsx
index f8a4bfa..c476610 100644
--- a/expo-app/app/(tabs)/index.tsx
+++ b/expo-app/app/(tabs)/index.tsx
@@ -47,6 +47,7 @@ import Animated, {
   runOnJS,
 } from "react-native-reanimated";
 import { useDailyProgress } from "../../src/store/useDailyProgress";
+import { useAuth } from "../../src/context/AuthContext";
 import {
   ChecklistItem,
   ChecklistItemId,
@@ -151,12 +152,12 @@ function WeekSummaryCard({
   const pct = totalTasks > 0 ? Math.round((totalCompleted / totalTasks) * 100) : 0;
 
   return (
-    <View className="mx-6 mb-4 bg-slate-50 rounded-2xl px-4 py-3 flex-row items-center justify-between">
+    <View className="mx-6 mb-4 bg-slate-50 dark:bg-slate-900 rounded-2xl px-4 py-3 flex-row items-center justify-between">
       <View className="flex-1">
-        <Text className="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">
+        <Text className="text-xs font-semibold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-1">
           Week Summary
         </Text>
-        <Text className="text-slate-700 text-sm">
+        <Text className="text-slate-700 dark:text-slate-200 text-sm">
           <Text className="font-semibold">{totalCompleted}</Text>
           <Text>/{totalTasks} tasks</Text>
           <Text className="text-slate-400"> Â· </Text>
@@ -164,8 +165,8 @@ function WeekSummaryCard({
           <Text> perfect {daysFullyDone === 1 ? "day" : "days"}</Text>
         </Text>
       </View>
-      <View className="w-12 h-12 rounded-full bg-white items-center justify-center border-2 border-indigo-100">
-        <Text className="text-indigo-600 font-bold text-sm">{pct}%</Text>
+      <View className="w-12 h-12 rounded-full bg-white dark:bg-slate-800 items-center justify-center border-2 border-indigo-100 dark:border-indigo-900/30">
+        <Text className="text-indigo-600 dark:text-indigo-400 font-bold text-sm">{pct}%</Text>
       </View>
     </View>
   );
@@ -197,7 +198,7 @@ function WeekCalendarStrip({
           <ChevronLeft size={20} color="#64748b" />
         </Pressable>
         <Pressable>
-          <Text className="text-slate-600 text-xs font-semibold">
+          <Text className="text-slate-600 dark:text-slate-400 text-xs font-semibold">
             {isCurrentWeek ? "This Week" : getWeekLabel(weekDays)}
           </Text>
         </Pressable>
@@ -237,8 +238,8 @@ function WeekCalendarStrip({
                   className={`text-sm font-semibold ${isSelected
                     ? "text-white"
                     : isToday
-                      ? "text-indigo-600"
-                      : "text-slate-700"
+                      ? "text-indigo-600 dark:text-indigo-400"
+                      : "text-slate-700 dark:text-slate-300"
                     }`}
                 >
                   {dayNum}
@@ -270,10 +271,10 @@ function StreakBadge({ count }: { count: number }) {
   return (
     <Animated.View
       style={style}
-      className="flex-row items-center bg-orange-50 px-3 py-1.5 rounded-full"
+      className="flex-row items-center bg-orange-50 dark:bg-orange-900/20 px-3 py-1.5 rounded-full"
     >
       <Flame size={16} color="#f97316" />
-      <Text className="text-orange-600 font-semibold text-sm ml-1">{count}</Text>
+      <Text className="text-orange-600 dark:text-orange-400 font-semibold text-sm ml-1">{count}</Text>
     </Animated.View>
   );
 }
@@ -312,7 +313,7 @@ function ProgressBar({
         </Text>
       </View>
       <View
-        className="h-2.5 bg-slate-100 rounded-full overflow-hidden"
+        className="h-2.5 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden"
         onLayout={(e) => {
           containerWidth.value = e.nativeEvent.layout.width;
         }}
@@ -331,9 +332,9 @@ function MotivationalBanner({ completedCount }: { completedCount: number }) {
     <Animated.View
       key={completedCount}
       entering={FadeInDown.duration(400)}
-      className="mx-6 mb-5 bg-indigo-50 rounded-2xl px-4 py-3"
+      className="mx-6 mb-5 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl px-4 py-3"
     >
-      <Text className="text-indigo-700 font-medium text-center">{phrase}</Text>
+      <Text className="text-indigo-700 dark:text-indigo-300 font-medium text-center">{phrase}</Text>
     </Animated.View>
   );
 }
@@ -433,7 +434,7 @@ function ChecklistRow({
             onComplete();
           }
         }}
-        className="flex-row items-center bg-white border border-slate-100 rounded-2xl px-4 py-3.5"
+        className="flex-row items-center bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-2xl px-4 py-3.5"
         style={({ pressed }) => ({
           transform: [{ scale: pressed && !disabled ? 0.98 : 1 }],
           opacity: disabled ? 0.5 : isCompleted ? 0.7 : 1,
@@ -447,7 +448,7 @@ function ChecklistRow({
         </View>
         <View className="flex-1">
           <Text
-            className={`font-medium text-base ${isCompleted ? "text-slate-400 line-through" : "text-slate-800"
+            className={`font-medium text-base ${isCompleted ? "text-slate-400 dark:text-slate-600 line-through" : "text-slate-800 dark:text-white"
               }`}
           >
             {item.label}
@@ -546,7 +547,7 @@ function CustomTaskRow({
         onLongPress={() => {
           if (!disabled) onToggle();
         }}
-        className="flex-row items-center bg-white border border-slate-100 rounded-2xl px-4 py-3.5"
+        className="flex-row items-center bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-2xl px-4 py-3.5"
         style={({ pressed }) => ({
           transform: [{ scale: pressed && !disabled ? 0.98 : 1 }],
           opacity: disabled ? 0.5 : isCompleted ? 0.7 : 1,
@@ -558,7 +559,7 @@ function CustomTaskRow({
         <View className="flex-1">
           <View className="flex-row items-center">
             <Text
-              className={`font-medium text-base ${isCompleted ? "text-slate-400 line-through" : "text-slate-800"
+              className={`font-medium text-base ${isCompleted ? "text-slate-400 dark:text-slate-600 line-through" : "text-slate-800 dark:text-white"
                 }`}
             >
               {task.label}
@@ -596,7 +597,7 @@ function CustomTaskRow({
         {!hasSubs && (
           <Animated.View
             style={checkStyle}
-            className={`w-7 h-7 rounded-full items-center justify-center ${isCompleted ? "bg-emerald-500" : "border-2 border-slate-200"
+            className={`w-7 h-7 rounded-full items-center justify-center ${isCompleted ? "bg-emerald-500" : "border-2 border-slate-200 dark:border-slate-800"
               }`}
           >
             {isCompleted && <Check size={16} color="#fff" strokeWidth={3} />}
@@ -605,7 +606,7 @@ function CustomTaskRow({
         {hasSubs && (
           <Pressable onPress={() => { if (!disabled) onToggle(); }}>
             <View
-              className={`w-7 h-7 rounded-full items-center justify-center ${isCompleted ? "bg-emerald-500" : "border-2 border-slate-200"
+              className={`w-7 h-7 rounded-full items-center justify-center ${isCompleted ? "bg-emerald-500" : "border-2 border-slate-200 dark:border-slate-800"
                 }`}
             >
               {isCompleted && <Check size={16} color="#fff" strokeWidth={3} />}
@@ -616,22 +617,22 @@ function CustomTaskRow({
 
       {/* Inline delete options for recurring tasks */}
       {showDeleteOptions && (
-        <View className="mt-1 bg-white border border-slate-100 rounded-xl overflow-hidden">
+        <View className="mt-1 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-xl overflow-hidden">
           <Pressable
             onPress={() => {
               setShowDeleteOptions(false);
               onRemove();
             }}
-            className="px-4 py-3 border-b border-slate-100"
+            className="px-4 py-3 border-b border-slate-100 dark:border-slate-800"
           >
-            <Text className="text-slate-700 text-sm font-medium">Remove today only</Text>
+            <Text className="text-slate-700 dark:text-slate-200 text-sm font-medium">Remove today only</Text>
           </Pressable>
           <Pressable
             onPress={() => {
               setShowDeleteOptions(false);
               if (onRemoveRecurring) onRemoveRecurring();
             }}
-            className="px-4 py-3 border-b border-slate-100"
+            className="px-4 py-3 border-b border-slate-100 dark:border-slate-800"
           >
             <Text className="text-red-500 text-sm font-medium">Stop recurring</Text>
           </Pressable>
@@ -661,7 +662,7 @@ function CustomTaskRow({
                 <Square size={16} color="#cbd5e1" />
               )}
               <Text
-                className={`ml-2 text-sm ${sub.checked ? "text-slate-400 line-through" : "text-slate-700"
+                className={`ml-2 text-sm ${sub.checked ? "text-slate-400 dark:text-slate-600 line-through" : "text-slate-700 dark:text-slate-300"
                   }`}
               >
                 {sub.text}
@@ -693,13 +694,13 @@ function TimeOfDayPicker({
           <Pressable
             key={opt}
             onPress={() => onChange(opt)}
-            className={`flex-1 flex-row items-center justify-center py-2.5 rounded-xl mx-1 ${selected ? "border-2" : "border border-slate-200"
+            className={`flex-1 flex-row items-center justify-center py-2.5 rounded-xl mx-1 ${selected ? "border-2" : "border border-slate-200 dark:border-slate-800"
               }`}
             style={selected ? { borderColor: config.color, backgroundColor: config.bg } : undefined}
           >
             <Icon size={16} color={selected ? config.color : "#94a3b8"} />
             <Text
-              className={`ml-1.5 text-xs font-semibold ${selected ? "" : "text-slate-400"
+              className={`ml-1.5 text-xs font-semibold ${selected ? "" : "text-slate-400 dark:text-slate-500"
                 }`}
               style={selected ? { color: config.color } : undefined}
             >
@@ -758,7 +759,7 @@ function DayOfWeekPicker({
             <Pressable
               key={idx}
               onPress={() => toggleDay(idx)}
-              className={`w-10 h-10 rounded-full items-center justify-center ${selected ? "bg-indigo-600" : "bg-slate-100"
+              className={`w-10 h-10 rounded-full items-center justify-center ${selected ? "bg-indigo-600" : "bg-slate-100 dark:bg-slate-800"
                 }`}
             >
               <Text
@@ -792,9 +793,9 @@ function DefaultItemsSettingsModal({
   return (
     <Modal visible={visible} transparent animationType="slide">
       <Pressable className="flex-1 bg-black/40" onPress={onClose} />
-      <View className="bg-white rounded-t-3xl p-6 pb-10">
+      <View className="bg-white dark:bg-slate-900 rounded-t-3xl p-6 pb-10">
         <View className="flex-row items-center justify-between mb-5">
-          <Text className="text-lg font-semibold text-slate-900">Default Tasks</Text>
+          <Text className="text-lg font-semibold text-slate-900 dark:text-white">Default Tasks</Text>
           <Pressable onPress={onClose} hitSlop={8}>
             <X size={20} color="#94a3b8" />
           </Pressable>
@@ -809,7 +810,7 @@ function DefaultItemsSettingsModal({
           return (
             <View
               key={item.id}
-              className="flex-row items-center justify-between py-3 border-b border-slate-100"
+              className="flex-row items-center justify-between py-3 border-b border-slate-100 dark:border-slate-800"
             >
               <View className="flex-row items-center flex-1 mr-3">
                 <View
@@ -819,7 +820,7 @@ function DefaultItemsSettingsModal({
                   <Icon size={18} color={config.color} />
                 </View>
                 <View className="flex-1">
-                  <Text className="text-sm font-medium text-slate-800">{item.label}</Text>
+                  <Text className="text-sm font-medium text-slate-800 dark:text-white">{item.label}</Text>
                   <Text className="text-slate-400 text-xs">{item.sublabel}</Text>
                 </View>
               </View>
@@ -953,10 +954,11 @@ function TaskModal({
       <Pressable className="flex-1 bg-black/40" onPress={onClose} />
       <KeyboardAvoidingView
         behavior={Platform.OS === "ios" ? "padding" : undefined}
+        className="flex-1 justify-end"
       >
-        <View className="bg-white rounded-t-3xl p-6 pb-10">
+        <View className="bg-white dark:bg-slate-900 rounded-t-3xl p-6 pb-10">
           <View className="flex-row items-center justify-between mb-4">
-            <Text className="text-lg font-semibold text-slate-900">
+            <Text className="text-lg font-semibold text-slate-900 dark:text-white">
               {isEditing ? "Edit Task" : "Add Task"}
             </Text>
             <Pressable onPress={onClose} hitSlop={8}>
@@ -970,7 +972,7 @@ function TaskModal({
             placeholderTextColor="#94a3b8"
             value={label}
             onChangeText={setLabel}
-            className="border border-slate-200 rounded-xl px-4 py-3 text-base text-slate-900 mb-3"
+            className="border border-slate-200 dark:border-slate-800 rounded-xl px-4 py-3 text-base text-slate-900 dark:text-white mb-3"
             autoFocus
           />
 
@@ -980,7 +982,7 @@ function TaskModal({
             placeholderTextColor="#94a3b8"
             value={sublabel}
             onChangeText={setSublabel}
-            className="border border-slate-200 rounded-xl px-4 py-3 text-base text-slate-900 mb-4"
+            className="border border-slate-200 dark:border-slate-800 rounded-xl px-4 py-3 text-base text-slate-900 dark:text-white mb-4"
           />
 
           {/* Time of day */}
@@ -995,10 +997,10 @@ function TaskModal({
           </Text>
           {subItems.map((item) => (
             <View key={item.id} className="flex-row items-center mb-2">
-              <View className="w-5 h-5 rounded border border-slate-200 items-center justify-center mr-2">
-                <Square size={12} color="#cbd5e1" />
+              <View className="w-5 h-5 rounded border border-slate-200 dark:border-slate-800 items-center justify-center mr-2">
+                <Square size={12} color="#94a3b8" />
               </View>
-              <Text className="flex-1 text-sm text-slate-700">{item.text}</Text>
+              <Text className="flex-1 text-sm text-slate-700 dark:text-slate-300">{item.text}</Text>
               <Pressable onPress={() => removeSubItem(item.id)} hitSlop={8}>
                 <X size={14} color="#94a3b8" />
               </Pressable>
@@ -1011,12 +1013,12 @@ function TaskModal({
               value={newSubText}
               onChangeText={setNewSubText}
               onSubmitEditing={addSubItem}
-              className="flex-1 border border-slate-200 rounded-xl px-3 py-2 text-sm text-slate-900 mr-2"
+              className="flex-1 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-sm text-slate-900 dark:text-white mr-2"
             />
             <Pressable
               onPress={addSubItem}
               disabled={!newSubText.trim()}
-              className={`w-8 h-8 rounded-lg items-center justify-center ${newSubText.trim() ? "bg-indigo-100" : "bg-slate-100"
+              className={`w-8 h-8 rounded-lg items-center justify-center ${newSubText.trim() ? "bg-indigo-100 dark:bg-indigo-900/30" : "bg-slate-100 dark:bg-slate-800"
                 }`}
             >
               <Plus size={16} color={newSubText.trim() ? "#4f46e5" : "#94a3b8"} />
@@ -1024,10 +1026,10 @@ function TaskModal({
           </View>
 
           {/* Recurring toggle */}
-          <View className="flex-row items-center justify-between mb-3 bg-slate-50 rounded-xl px-4 py-3">
+          <View className="flex-row items-center justify-between mb-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl px-4 py-3">
             <View className="flex-row items-center">
               <Repeat size={16} color="#64748b" />
-              <Text className="text-sm font-medium text-slate-700 ml-2">
+              <Text className="text-sm font-medium text-slate-700 dark:text-slate-300 ml-2">
                 Repeat daily
               </Text>
             </View>
@@ -1051,14 +1053,14 @@ function TaskModal({
           <Pressable
             onPress={handleSubmit}
             disabled={!label.trim()}
-            className={`py-3.5 rounded-2xl items-center ${label.trim() ? "bg-indigo-600" : "bg-slate-200"
+            className={`py-3.5 rounded-2xl items-center ${label.trim() ? "bg-indigo-600" : "bg-slate-200 dark:bg-slate-800"
               }`}
             style={({ pressed }) => ({
               transform: [{ scale: pressed ? 0.98 : 1 }],
             })}
           >
             <Text
-              className={`font-medium ${label.trim() ? "text-white" : "text-slate-400"
+              className={`font-medium ${label.trim() ? "text-white" : "text-slate-400 dark:text-slate-600"
                 }`}
             >
               {isEditing ? "Save Changes" : "Add Task"}
@@ -1147,6 +1149,7 @@ function TimeSection({
 // --- Main Screen ---
 
 export default function HomeScreen() {
+  const { signOut } = useAuth();
   const {
     dayProgress,
     streakCount,
@@ -1203,23 +1206,23 @@ export default function HomeScreen() {
 
   if (!loaded) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#4f46e5" />
       </SafeAreaView>
     );
   }
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       <AllDoneBanner visible={showCelebration} />
 
       {/* Header */}
       <View className="p-6 pb-4 flex-row items-center justify-between">
         <View>
-          <Text className="text-2xl font-semibold tracking-tight text-slate-900">
+          <Text className="text-2xl font-semibold tracking-tight text-slate-900 dark:text-white">
             Hej!
           </Text>
-          <Text className="text-slate-500 text-sm mt-0.5">
+          <Text className="text-slate-500 dark:text-slate-400 text-sm mt-0.5">
             {formatDateDisplay(selectedDate)}
           </Text>
         </View>
@@ -1230,19 +1233,18 @@ export default function HomeScreen() {
                 setWeekOffset(0);
                 setSelectedDate(today);
               }}
-              className="bg-indigo-50 px-3 py-1.5 rounded-full mr-2"
+              className="bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1.5 rounded-full mr-2"
             >
-              <Text className="text-indigo-600 font-semibold text-xs">Today</Text>
+              <Text className="text-indigo-600 dark:text-indigo-400 font-semibold text-xs">Today</Text>
             </Pressable>
           )}
+          <StreakBadge count={streakCount} />
           <Pressable
             onPress={() => setShowSettings(true)}
-            hitSlop={8}
-            className="mr-2"
+            className="w-9 h-9 items-center justify-center rounded-full bg-slate-50 dark:bg-slate-900 ml-2"
           >
-            <Settings size={20} color="#94a3b8" />
+            <Settings size={18} color="#64748b" />
           </Pressable>
-          <StreakBadge count={streakCount} />
         </View>
       </View>
 
@@ -1298,7 +1300,7 @@ export default function HomeScreen() {
             setEditingTask(null);
             setShowTaskModal(true);
           }}
-          className="mx-6 mt-2 mb-3 flex-row items-center justify-center py-3 border border-dashed border-slate-200 rounded-2xl"
+          className="mx-6 mt-2 mb-3 flex-row items-center justify-center py-3 border border-dashed border-slate-200 dark:border-slate-800 rounded-2xl"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.98 : 1 }],
           })}
diff --git a/expo-app/app/(tabs)/writing-test.tsx b/expo-app/app/(tabs)/writing-test.tsx
index f8026e1..4fe3c0d 100644
--- a/expo-app/app/(tabs)/writing-test.tsx
+++ b/expo-app/app/(tabs)/writing-test.tsx
@@ -21,12 +21,12 @@ export default function WritingTestScreen() {
   };
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       <View className="p-6 pb-2">
-        <Text className="text-2xl font-semibold tracking-tight text-slate-900">
+        <Text className="text-2xl font-semibold tracking-tight text-slate-900 dark:text-white">
           Writing
         </Text>
-        <Text className="text-slate-500 text-sm mt-1">
+        <Text className="text-slate-500 dark:text-slate-400 text-sm mt-1">
           ðŸ‡©ðŸ‡° Choose your level and start writing
         </Text>
       </View>
diff --git a/expo-app/app/_layout.tsx b/expo-app/app/_layout.tsx
index b6f2578..5f220e5 100644
--- a/expo-app/app/_layout.tsx
+++ b/expo-app/app/_layout.tsx
@@ -1,66 +1,94 @@
 import "../global.css";
 import { GestureHandlerRootView } from "react-native-gesture-handler";
+import { Platform, StyleSheet } from "react-native";
 import { SafeAreaProvider } from "react-native-safe-area-context";
-import { Stack } from "expo-router";
+import { Stack, useRouter, useSegments } from "expo-router";
 import { StatusBar } from "expo-status-bar";
 import Toast from "react-native-toast-message";
+import { useEffect } from "react";
+import { AuthProvider, useAuth } from "../src/context/AuthContext";
+
+function RootNavigator() {
+  const { user, loading } = useAuth();
+  const segments = useSegments();
+  const router = useRouter();
+
+  useEffect(() => {
+    if (loading) return;
+
+    const inAuthGroup = segments[0] === "(auth)";
+
+    if (!user && !inAuthGroup) {
+      router.replace("/(auth)/login");
+    } else if (user && inAuthGroup) {
+      router.replace("/(tabs)");
+    }
+  }, [user, loading, segments]);
+
+  return (
+    <Stack
+      screenOptions={{
+        headerShown: false,
+        animation: "slide_from_right",
+      }}
+    >
+      <Stack.Screen name="(auth)" options={{ headerShown: false }} />
+      <Stack.Screen name="(tabs)" options={{ headerShown: false }} />
+      <Stack.Screen
+        name="editor"
+        options={{ animation: "slide_from_bottom" }}
+      />
+      <Stack.Screen
+        name="study"
+        options={{
+          animation: "slide_from_right",
+          gestureEnabled: false,
+        }}
+      />
+      <Stack.Screen
+        name="test"
+        options={{ animation: "slide_from_right" }}
+      />
+      <Stack.Screen
+        name="summary"
+        options={{ animation: "slide_from_bottom" }}
+      />
+      <Stack.Screen
+        name="writing-session"
+        options={{
+          animation: "slide_from_right",
+          gestureEnabled: false,
+        }}
+      />
+      <Stack.Screen
+        name="writing-summary"
+        options={{ animation: "slide_from_bottom" }}
+      />
+      <Stack.Screen
+        name="grammar-session"
+        options={{
+          animation: "slide_from_right",
+          gestureEnabled: false,
+        }}
+      />
+      <Stack.Screen
+        name="grammar-summary"
+        options={{ animation: "slide_from_bottom" }}
+      />
+    </Stack>
+  );
+}
 
 export default function RootLayout() {
   return (
-    <GestureHandlerRootView style={{ flex: 1 }}>
-      <SafeAreaProvider>
-        <StatusBar style="dark" />
-        <Stack
-          screenOptions={{
-            headerShown: false,
-            animation: "slide_from_right",
-          }}
-        >
-          <Stack.Screen name="(tabs)" options={{ headerShown: false }} />
-          <Stack.Screen
-            name="editor"
-            options={{ animation: "slide_from_bottom" }}
-          />
-          <Stack.Screen
-            name="study"
-            options={{
-              animation: "slide_from_right",
-              gestureEnabled: false,
-            }}
-          />
-          <Stack.Screen
-            name="test"
-            options={{ animation: "slide_from_right" }}
-          />
-          <Stack.Screen
-            name="summary"
-            options={{ animation: "slide_from_bottom" }}
-          />
-          <Stack.Screen
-            name="writing-session"
-            options={{
-              animation: "slide_from_right",
-              gestureEnabled: false,
-            }}
-          />
-          <Stack.Screen
-            name="writing-summary"
-            options={{ animation: "slide_from_bottom" }}
-          />
-          <Stack.Screen
-            name="grammar-session"
-            options={{
-              animation: "slide_from_right",
-              gestureEnabled: false,
-            }}
-          />
-          <Stack.Screen
-            name="grammar-summary"
-            options={{ animation: "slide_from_bottom" }}
-          />
-        </Stack>
-        <Toast />
-      </SafeAreaProvider>
-    </GestureHandlerRootView>
+    <AuthProvider>
+      <GestureHandlerRootView style={{ flex: 1 }}>
+        <SafeAreaProvider>
+          <StatusBar style="auto" />
+          <RootNavigator />
+          <Toast />
+        </SafeAreaProvider>
+      </GestureHandlerRootView>
+    </AuthProvider>
   );
 }
diff --git a/expo-app/app/editor.tsx b/expo-app/app/editor.tsx
index f360b1a..c4ee821 100644
--- a/expo-app/app/editor.tsx
+++ b/expo-app/app/editor.tsx
@@ -12,7 +12,7 @@ export default function EditorScreen() {
 
   if (!loaded) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#4f46e5" />
       </SafeAreaView>
     );
@@ -21,7 +21,7 @@ export default function EditorScreen() {
   const deck = deckId ? getDeck(deckId) : undefined;
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       <DeckEditor
         deck={deck}
         onSave={(deckData) => {
diff --git a/expo-app/app/grammar-session.tsx b/expo-app/app/grammar-session.tsx
index 73bfa3a..384de0d 100644
--- a/expo-app/app/grammar-session.tsx
+++ b/expo-app/app/grammar-session.tsx
@@ -12,6 +12,10 @@ import Animated, {
 } from "react-native-reanimated";
 import AsyncStorage from "@react-native-async-storage/async-storage";
 import Toast from "react-native-toast-message";
+import { doc, setDoc } from "firebase/firestore";
+import { db } from "../src/firebase/config";
+import { useAuth } from "../src/context/AuthContext";
+import { sanitize } from "../src/utils/firestore";
 import { QuestionCard } from "../src/components/Grammar/QuestionCard";
 import { AnswerFeedback } from "../src/components/Grammar/AnswerFeedback";
 import { generateGrammarQuestions } from "../src/services/grammarService";
@@ -34,6 +38,7 @@ export default function GrammarSessionScreen() {
       customTopic?: string;
       questionCount?: string;
     }>();
+  const { user } = useAuth();
   const topicConfig = topicId ? getTopicConfig(topicId as GrammarTopicId) : null;
   const questionCount = questionCountParam ? parseInt(questionCountParam, 10) : 10;
   const displayLabel = customTopic || topicConfig?.label || "Grammar Quiz";
@@ -122,6 +127,10 @@ export default function GrammarSessionScreen() {
         scorePercent,
       };
 
+
+      if (user) {
+        await setDoc(doc(db, "users", user.uid, "results", "grammar"), sanitize(result));
+      }
       await AsyncStorage.setItem(GRAMMAR_RESULT_KEY, JSON.stringify(result));
       router.replace("/grammar-summary");
     }
@@ -134,8 +143,8 @@ export default function GrammarSessionScreen() {
 
   if (phase === "generating") {
     return (
-      <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
-        <View className="p-4 flex-row items-center justify-between border-b border-slate-100">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
+        <View className="p-4 flex-row items-center justify-between border-b border-slate-100 dark:border-slate-800">
           <Pressable onPress={handleCancel} className="p-2 -ml-2">
             <X size={24} color="#64748b" />
           </Pressable>
@@ -143,7 +152,7 @@ export default function GrammarSessionScreen() {
             <Text className="text-xs font-bold text-indigo-600 uppercase tracking-widest">
               Grammar Quiz
             </Text>
-            <Text className="text-sm font-semibold text-slate-800">
+            <Text className="text-sm font-semibold text-slate-800 dark:text-white">
               {displayLabel}
             </Text>
           </View>
@@ -161,6 +170,7 @@ export default function GrammarSessionScreen() {
                   borderWidth: 4,
                   borderColor: "#e0e7ff",
                   borderTopColor: "#4f46e5",
+                  backgroundColor: "transparent",
                 },
               ]}
             />
@@ -169,7 +179,7 @@ export default function GrammarSessionScreen() {
             </View>
           </View>
           <View className="items-center gap-2">
-            <Text className="text-xl font-bold text-slate-800">
+            <Text className="text-xl font-bold text-slate-800 dark:text-white">
               Preparing your quiz...
             </Text>
             <Text className="text-slate-500 text-sm text-center max-w-[240px]">
@@ -187,9 +197,9 @@ export default function GrammarSessionScreen() {
   const isCorrect = currentAnswer?.isCorrect ?? false;
 
   return (
-    <SafeAreaView className="flex-1 bg-slate-50" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-slate-50 dark:bg-slate-950" edges={["top"]}>
       {/* Header */}
-      <View className="p-4 flex-row items-center justify-between bg-white border-b border-slate-100">
+      <View className="p-4 flex-row items-center justify-between bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <Pressable onPress={handleCancel} className="p-2 -ml-2">
           <X size={24} color="#64748b" />
         </Pressable>
@@ -200,7 +210,7 @@ export default function GrammarSessionScreen() {
               Grammar Quiz
             </Text>
           </View>
-          <Text className="text-sm font-semibold text-slate-800">
+          <Text className="text-sm font-semibold text-slate-800 dark:text-white">
             {displayLabel}
           </Text>
         </View>
@@ -208,7 +218,7 @@ export default function GrammarSessionScreen() {
       </View>
 
       {/* Progress */}
-      <View className="px-6 py-4 bg-white border-b border-slate-100">
+      <View className="px-6 py-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <View className="flex-row justify-between items-center mb-2">
           <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-tight">
             Progress
@@ -217,7 +227,7 @@ export default function GrammarSessionScreen() {
             {currentIndex + 1} / {questions.length}
           </Text>
         </View>
-        <View className="h-1 w-full bg-slate-100 rounded-full overflow-hidden">
+        <View className="h-1 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
           <View
             style={{ width: `${progressPercent}%` }}
             className="h-full bg-indigo-500 rounded-full"
diff --git a/expo-app/app/grammar-summary.tsx b/expo-app/app/grammar-summary.tsx
index 2577092..d068e11 100644
--- a/expo-app/app/grammar-summary.tsx
+++ b/expo-app/app/grammar-summary.tsx
@@ -17,14 +17,14 @@ export default function GrammarSummaryScreen() {
       if (raw) {
         try {
           setResult(JSON.parse(raw));
-        } catch {}
+        } catch { }
       }
     });
   }, []);
 
   if (!result) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#4f46e5" />
       </SafeAreaView>
     );
@@ -48,7 +48,7 @@ export default function GrammarSummaryScreen() {
   };
 
   return (
-    <SafeAreaView className="flex-1 bg-slate-50" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-slate-50 dark:bg-slate-950" edges={["top"]}>
       <GrammarSummary
         result={result}
         topicConfig={topicConfig}
diff --git a/expo-app/app/study.tsx b/expo-app/app/study.tsx
index 3decb1f..af82ca0 100644
--- a/expo-app/app/study.tsx
+++ b/expo-app/app/study.tsx
@@ -11,7 +11,7 @@ export default function StudyScreen() {
 
   if (!loaded) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#4f46e5" />
       </SafeAreaView>
     );
@@ -24,7 +24,7 @@ export default function StudyScreen() {
   }
 
   return (
-    <SafeAreaView className="flex-1 bg-slate-50" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-slate-50 dark:bg-slate-950" edges={["top"]}>
       <StudySession
         deck={deck}
         onComplete={(correct, total) => {
diff --git a/expo-app/app/summary.tsx b/expo-app/app/summary.tsx
index 13ea089..867f0b1 100644
--- a/expo-app/app/summary.tsx
+++ b/expo-app/app/summary.tsx
@@ -16,7 +16,7 @@ export default function SummaryScreen() {
   const deck = getDeck(deckId!);
 
   return (
-    <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
       <Summary
         results={{
           correct: parseInt(correct || "0", 10),
diff --git a/expo-app/app/test.tsx b/expo-app/app/test.tsx
index 23e9ac9..4f74e38 100644
--- a/expo-app/app/test.tsx
+++ b/expo-app/app/test.tsx
@@ -11,7 +11,7 @@ export default function TestScreen() {
 
   if (!loaded) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#4f46e5" />
       </SafeAreaView>
     );
@@ -24,7 +24,7 @@ export default function TestScreen() {
   }
 
   return (
-    <SafeAreaView className="flex-1 bg-slate-50" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-slate-50 dark:bg-slate-950" edges={["top"]}>
       <TestMode
         deck={deck}
         onComplete={(correct, total) => {
diff --git a/expo-app/app/writing-session.tsx b/expo-app/app/writing-session.tsx
index ab5214b..def297c 100644
--- a/expo-app/app/writing-session.tsx
+++ b/expo-app/app/writing-session.tsx
@@ -12,6 +12,10 @@ import Animated, {
 } from "react-native-reanimated";
 import AsyncStorage from "@react-native-async-storage/async-storage";
 import Toast from "react-native-toast-message";
+import { doc, setDoc } from "firebase/firestore";
+import { db } from "../src/firebase/config";
+import { useAuth } from "../src/context/AuthContext";
+import { sanitize } from "../src/utils/firestore";
 import { useDecks } from "../src/store/useDecks";
 import { WritingPromptCard } from "../src/components/WritingTest/WritingPromptCard";
 import { EvaluationFeedback } from "../src/components/WritingTest/EvaluationFeedback";
@@ -42,6 +46,7 @@ export default function WritingSessionScreen() {
     deckId?: string;
     topic?: string;
   }>();
+  const { user } = useAuth();
   const { getDeck } = useDecks();
   const deck = deckId ? getDeck(deckId) : null;
   const levelConfig = getLevelConfig(level as WritingLevel);
@@ -152,6 +157,10 @@ export default function WritingSessionScreen() {
         passed: overallScore >= levelConfig.passMark,
       };
 
+
+      if (user) {
+        await setDoc(doc(db, "users", user.uid, "results", "writing"), sanitize(result));
+      }
       await AsyncStorage.setItem(WRITING_RESULT_KEY, JSON.stringify(result));
       router.replace("/writing-summary");
     }
@@ -165,8 +174,8 @@ export default function WritingSessionScreen() {
   if (phase === "generating" || phase === "evaluating") {
     const isEvaluating = phase === "evaluating";
     return (
-      <SafeAreaView className="flex-1 bg-white" edges={["top"]}>
-        <View className="p-4 flex-row items-center justify-between border-b border-slate-100">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950" edges={["top"]}>
+        <View className="p-4 flex-row items-center justify-between border-b border-slate-100 dark:border-slate-800">
           <Pressable onPress={handleCancel} className="p-2 -ml-2">
             <X size={24} color="#64748b" />
           </Pressable>
@@ -174,7 +183,7 @@ export default function WritingSessionScreen() {
             <Text className="text-xs font-bold text-amber-600 uppercase tracking-widest">
               Writing Exam
             </Text>
-            <Text className="text-sm font-semibold text-slate-800">
+            <Text className="text-sm font-semibold text-slate-800 dark:text-white">
               {levelConfig.label}
             </Text>
           </View>
@@ -204,7 +213,7 @@ export default function WritingSessionScreen() {
             </View>
           </View>
           <View className="items-center gap-2">
-            <Text className="text-xl font-bold text-slate-800">
+            <Text className="text-xl font-bold text-slate-800 dark:text-white">
               {isEvaluating
                 ? "Evaluating your writing..."
                 : "Preparing your exam..."}
@@ -224,9 +233,9 @@ export default function WritingSessionScreen() {
   const progressPercent = ((currentIndex + 1) / prompts.length) * 100;
 
   return (
-    <SafeAreaView className="flex-1 bg-slate-50" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-slate-50 dark:bg-slate-950" edges={["top"]}>
       {/* Header */}
-      <View className="p-4 flex-row items-center justify-between bg-white border-b border-slate-100">
+      <View className="p-4 flex-row items-center justify-between bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <Pressable onPress={handleCancel} className="p-2 -ml-2">
           <X size={24} color="#64748b" />
         </Pressable>
@@ -237,7 +246,7 @@ export default function WritingSessionScreen() {
               Writing Exam
             </Text>
           </View>
-          <Text className="text-sm font-semibold text-slate-800">
+          <Text className="text-sm font-semibold text-slate-800 dark:text-white">
             {levelConfig.label}
           </Text>
         </View>
@@ -245,7 +254,7 @@ export default function WritingSessionScreen() {
       </View>
 
       {/* Progress */}
-      <View className="px-6 py-4 bg-white border-b border-slate-100">
+      <View className="px-6 py-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <View className="flex-row justify-between items-center mb-2">
           <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-tight">
             Progress
@@ -254,7 +263,7 @@ export default function WritingSessionScreen() {
             {currentIndex + 1} / {prompts.length}
           </Text>
         </View>
-        <View className="h-1 w-full bg-slate-100 rounded-full overflow-hidden">
+        <View className="h-1 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
           <View
             style={{ width: `${progressPercent}%` }}
             className="h-full bg-amber-500 rounded-full"
diff --git a/expo-app/app/writing-summary.tsx b/expo-app/app/writing-summary.tsx
index 859c014..fb75e71 100644
--- a/expo-app/app/writing-summary.tsx
+++ b/expo-app/app/writing-summary.tsx
@@ -19,14 +19,14 @@ export default function WritingSummaryScreen() {
       if (raw) {
         try {
           setResult(JSON.parse(raw));
-        } catch {}
+        } catch { }
       }
     });
   }, []);
 
   if (!result) {
     return (
-      <SafeAreaView className="flex-1 bg-white items-center justify-center">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950 items-center justify-center">
         <ActivityIndicator size="large" color="#f59e0b" />
       </SafeAreaView>
     );
@@ -57,7 +57,7 @@ export default function WritingSummaryScreen() {
   };
 
   return (
-    <SafeAreaView className="flex-1 bg-slate-50" edges={["top"]}>
+    <SafeAreaView className="flex-1 bg-slate-50 dark:bg-slate-950" edges={["top"]}>
       <WritingSummary
         result={result}
         levelConfig={levelConfig}
diff --git a/expo-app/package-lock.json b/expo-app/package-lock.json
index 20edfa5..db438af 100644
--- a/expo-app/package-lock.json
+++ b/expo-app/package-lock.json
@@ -16,6 +16,7 @@
         "expo-router": "~6.0.23",
         "expo-speech": "~14.0.8",
         "expo-status-bar": "~3.0.9",
+        "firebase": "^12.9.0",
         "lucide-react-native": "^0.574.0",
         "openai": "^6.22.0",
         "react": "19.1.0",
@@ -2225,6 +2226,645 @@
         "js-yaml": "bin/js-yaml.js"
       }
     },
+    "node_modules/@firebase/ai": {
+      "version": "2.8.0",
+      "resolved": "https://registry.npmjs.org/@firebase/ai/-/ai-2.8.0.tgz",
+      "integrity": "sha512-grWYGFPsSo+pt+6CYeKR0kWnUfoLLS3xgWPvNrhAS5EPxl6xWq7+HjDZqX24yLneETyl45AVgDsTbVgxeWeRfg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/app-check-interop-types": "0.3.3",
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x",
+        "@firebase/app-types": "0.x"
+      }
+    },
+    "node_modules/@firebase/analytics": {
+      "version": "0.10.19",
+      "resolved": "https://registry.npmjs.org/@firebase/analytics/-/analytics-0.10.19.tgz",
+      "integrity": "sha512-3wU676fh60gaiVYQEEXsbGS4HbF2XsiBphyvvqDbtC1U4/dO4coshbYktcCHq+HFaGIK07iHOh4pME0hEq1fcg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/installations": "0.6.19",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/analytics-compat": {
+      "version": "0.2.25",
+      "resolved": "https://registry.npmjs.org/@firebase/analytics-compat/-/analytics-compat-0.2.25.tgz",
+      "integrity": "sha512-fdzoaG0BEKbqksRDhmf4JoyZf16Wosrl0Y7tbZtJyVDOOwziE0vrFjmZuTdviL0yhak+Nco6rMsUUbkbD+qb6Q==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/analytics": "0.10.19",
+        "@firebase/analytics-types": "0.8.3",
+        "@firebase/component": "0.7.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/analytics-types": {
+      "version": "0.8.3",
+      "resolved": "https://registry.npmjs.org/@firebase/analytics-types/-/analytics-types-0.8.3.tgz",
+      "integrity": "sha512-VrIp/d8iq2g501qO46uGz3hjbDb8xzYMrbu8Tp0ovzIzrvJZ2fvmj649gTjge/b7cCCcjT0H37g1gVtlNhnkbg==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/app": {
+      "version": "0.14.8",
+      "resolved": "https://registry.npmjs.org/@firebase/app/-/app-0.14.8.tgz",
+      "integrity": "sha512-WiE9uCGRLUnShdjb9iP20sA3ToWrBbNXr14/N5mow7Nls9dmKgfGaGX5cynLvrltxq2OrDLh1VDNaUgsnS/k/g==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "idb": "7.1.1",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/app-check": {
+      "version": "0.11.0",
+      "resolved": "https://registry.npmjs.org/@firebase/app-check/-/app-check-0.11.0.tgz",
+      "integrity": "sha512-XAvALQayUMBJo58U/rxW02IhsesaxxfWVmVkauZvGEz3vOAjMEQnzFlyblqkc2iAaO82uJ2ZVyZv9XzPfxjJ6w==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/app-check-compat": {
+      "version": "0.4.0",
+      "resolved": "https://registry.npmjs.org/@firebase/app-check-compat/-/app-check-compat-0.4.0.tgz",
+      "integrity": "sha512-UfK2Q8RJNjYM/8MFORltZRG9lJj11k0nW84rrffiKvcJxLf1jf6IEjCIkCamykHE73C6BwqhVfhIBs69GXQV0g==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/app-check": "0.11.0",
+        "@firebase/app-check-types": "0.5.3",
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/app-check-interop-types": {
+      "version": "0.3.3",
+      "resolved": "https://registry.npmjs.org/@firebase/app-check-interop-types/-/app-check-interop-types-0.3.3.tgz",
+      "integrity": "sha512-gAlxfPLT2j8bTI/qfe3ahl2I2YcBQ8cFIBdhAQA4I2f3TndcO+22YizyGYuttLHPQEpWkhmpFW60VCFEPg4g5A==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/app-check-types": {
+      "version": "0.5.3",
+      "resolved": "https://registry.npmjs.org/@firebase/app-check-types/-/app-check-types-0.5.3.tgz",
+      "integrity": "sha512-hyl5rKSj0QmwPdsAxrI5x1otDlByQ7bvNvVt8G/XPO2CSwE++rmSVf3VEhaeOR4J8ZFaF0Z0NDSmLejPweZ3ng==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/app-compat": {
+      "version": "0.5.8",
+      "resolved": "https://registry.npmjs.org/@firebase/app-compat/-/app-compat-0.5.8.tgz",
+      "integrity": "sha512-4De6SUZ36zozl9kh5rZSxKWULpgty27rMzZ6x+xkoo7+NWyhWyFdsdvhFsWhTw/9GGj0wXIcbTjwHYCUIUuHyg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/app": "0.14.8",
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/app-types": {
+      "version": "0.9.3",
+      "resolved": "https://registry.npmjs.org/@firebase/app-types/-/app-types-0.9.3.tgz",
+      "integrity": "sha512-kRVpIl4vVGJ4baogMDINbyrIOtOxqhkZQg4jTq3l8Lw6WSk0xfpEYzezFu+Kl4ve4fbPl79dvwRtaFqAC/ucCw==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/auth": {
+      "version": "1.12.0",
+      "resolved": "https://registry.npmjs.org/@firebase/auth/-/auth-1.12.0.tgz",
+      "integrity": "sha512-zkvLpsrxynWHk07qGrUDfCSqKf4AvfZGEqJ7mVCtYGjNNDbGE71k0Yn84rg8QEZu4hQw1BC0qDEHzpNVBcSVmA==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x",
+        "@react-native-async-storage/async-storage": "^2.2.0"
+      },
+      "peerDependenciesMeta": {
+        "@react-native-async-storage/async-storage": {
+          "optional": true
+        }
+      }
+    },
+    "node_modules/@firebase/auth-compat": {
+      "version": "0.6.2",
+      "resolved": "https://registry.npmjs.org/@firebase/auth-compat/-/auth-compat-0.6.2.tgz",
+      "integrity": "sha512-8UhCzF6pav9bw/eXA8Zy1QAKssPRYEYXaWagie1ewLTwHkXv6bKp/j6/IwzSYQP67sy/BMFXIFaCCsoXzFLr7A==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/auth": "1.12.0",
+        "@firebase/auth-types": "0.13.0",
+        "@firebase/component": "0.7.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/auth-interop-types": {
+      "version": "0.2.4",
+      "resolved": "https://registry.npmjs.org/@firebase/auth-interop-types/-/auth-interop-types-0.2.4.tgz",
+      "integrity": "sha512-JPgcXKCuO+CWqGDnigBtvo09HeBs5u/Ktc2GaFj2m01hLarbxthLNm7Fk8iOP1aqAtXV+fnnGj7U28xmk7IwVA==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/auth-types": {
+      "version": "0.13.0",
+      "resolved": "https://registry.npmjs.org/@firebase/auth-types/-/auth-types-0.13.0.tgz",
+      "integrity": "sha512-S/PuIjni0AQRLF+l9ck0YpsMOdE8GO2KU6ubmBB7P+7TJUCQDa3R1dlgYm9UzGbbePMZsp0xzB93f2b/CgxMOg==",
+      "license": "Apache-2.0",
+      "peerDependencies": {
+        "@firebase/app-types": "0.x",
+        "@firebase/util": "1.x"
+      }
+    },
+    "node_modules/@firebase/component": {
+      "version": "0.7.0",
+      "resolved": "https://registry.npmjs.org/@firebase/component/-/component-0.7.0.tgz",
+      "integrity": "sha512-wR9En2A+WESUHexjmRHkqtaVH94WLNKt6rmeqZhSLBybg4Wyf0Umk04SZsS6sBq4102ZsDBFwoqMqJYj2IoDSg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/data-connect": {
+      "version": "0.3.12",
+      "resolved": "https://registry.npmjs.org/@firebase/data-connect/-/data-connect-0.3.12.tgz",
+      "integrity": "sha512-baPddcoNLj/+vYo+HSJidJUdr5W4OkhT109c5qhR8T1dJoZcyJpkv/dFpYlw/VJ3dV66vI8GHQFrmAZw/xUS4g==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/auth-interop-types": "0.2.4",
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/database": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/@firebase/database/-/database-1.1.0.tgz",
+      "integrity": "sha512-gM6MJFae3pTyNLoc9VcJNuaUDej0ctdjn3cVtILo3D5lpp0dmUHHLFN/pUKe7ImyeB1KAvRlEYxvIHNF04Filg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/app-check-interop-types": "0.3.3",
+        "@firebase/auth-interop-types": "0.2.4",
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "faye-websocket": "0.11.4",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/database-compat": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/@firebase/database-compat/-/database-compat-2.1.0.tgz",
+      "integrity": "sha512-8nYc43RqxScsePVd1qe1xxvWNf0OBnbwHxmXJ7MHSuuTVYFO3eLyLW3PiCKJ9fHnmIz4p4LbieXwz+qtr9PZDg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/database": "1.1.0",
+        "@firebase/database-types": "1.0.16",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/database-types": {
+      "version": "1.0.16",
+      "resolved": "https://registry.npmjs.org/@firebase/database-types/-/database-types-1.0.16.tgz",
+      "integrity": "sha512-xkQLQfU5De7+SPhEGAXFBnDryUWhhlFXelEg2YeZOQMCdoe7dL64DDAd77SQsR+6uoXIZY5MB4y/inCs4GTfcw==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/app-types": "0.9.3",
+        "@firebase/util": "1.13.0"
+      }
+    },
+    "node_modules/@firebase/firestore": {
+      "version": "4.11.0",
+      "resolved": "https://registry.npmjs.org/@firebase/firestore/-/firestore-4.11.0.tgz",
+      "integrity": "sha512-Zb88s8rssBd0J2Tt+NUXMPt2sf+Dq7meatKiJf5t9oto1kZ8w9gK59Koe1uPVbaKfdgBp++N/z0I4G/HamyEhg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "@firebase/webchannel-wrapper": "1.0.5",
+        "@grpc/grpc-js": "~1.9.0",
+        "@grpc/proto-loader": "^0.7.8",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/firestore-compat": {
+      "version": "0.4.5",
+      "resolved": "https://registry.npmjs.org/@firebase/firestore-compat/-/firestore-compat-0.4.5.tgz",
+      "integrity": "sha512-yVX1CkVvqBI4qbA56uZo42xFA4TNU0ICQ+9AFDvYq9U9Xu6iAx9lFDAk/tN+NGereQQXXCSnpISwc/oxsQqPLA==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/firestore": "4.11.0",
+        "@firebase/firestore-types": "3.0.3",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/firestore-types": {
+      "version": "3.0.3",
+      "resolved": "https://registry.npmjs.org/@firebase/firestore-types/-/firestore-types-3.0.3.tgz",
+      "integrity": "sha512-hD2jGdiWRxB/eZWF89xcK9gF8wvENDJkzpVFb4aGkzfEaKxVRD1kjz1t1Wj8VZEp2LCB53Yx1zD8mrhQu87R6Q==",
+      "license": "Apache-2.0",
+      "peerDependencies": {
+        "@firebase/app-types": "0.x",
+        "@firebase/util": "1.x"
+      }
+    },
+    "node_modules/@firebase/functions": {
+      "version": "0.13.1",
+      "resolved": "https://registry.npmjs.org/@firebase/functions/-/functions-0.13.1.tgz",
+      "integrity": "sha512-sUeWSb0rw5T+6wuV2o9XNmh9yHxjFI9zVGFnjFi+n7drTEWpl7ZTz1nROgGrSu472r+LAaj+2YaSicD4R8wfbw==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/app-check-interop-types": "0.3.3",
+        "@firebase/auth-interop-types": "0.2.4",
+        "@firebase/component": "0.7.0",
+        "@firebase/messaging-interop-types": "0.2.3",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/functions-compat": {
+      "version": "0.4.1",
+      "resolved": "https://registry.npmjs.org/@firebase/functions-compat/-/functions-compat-0.4.1.tgz",
+      "integrity": "sha512-AxxUBXKuPrWaVNQ8o1cG1GaCAtXT8a0eaTDfqgS5VsRYLAR0ALcfqDLwo/QyijZj1w8Qf8n3Qrfy/+Im245hOQ==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/functions": "0.13.1",
+        "@firebase/functions-types": "0.6.3",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/functions-types": {
+      "version": "0.6.3",
+      "resolved": "https://registry.npmjs.org/@firebase/functions-types/-/functions-types-0.6.3.tgz",
+      "integrity": "sha512-EZoDKQLUHFKNx6VLipQwrSMh01A1SaL3Wg6Hpi//x6/fJ6Ee4hrAeswK99I5Ht8roiniKHw4iO0B1Oxj5I4plg==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/installations": {
+      "version": "0.6.19",
+      "resolved": "https://registry.npmjs.org/@firebase/installations/-/installations-0.6.19.tgz",
+      "integrity": "sha512-nGDmiwKLI1lerhwfwSHvMR9RZuIH5/8E3kgUWnVRqqL7kGVSktjLTWEMva7oh5yxQ3zXfIlIwJwMcaM5bK5j8Q==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/util": "1.13.0",
+        "idb": "7.1.1",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/installations-compat": {
+      "version": "0.2.19",
+      "resolved": "https://registry.npmjs.org/@firebase/installations-compat/-/installations-compat-0.2.19.tgz",
+      "integrity": "sha512-khfzIY3EI5LePePo7vT19/VEIH1E3iYsHknI/6ek9T8QCozAZshWT9CjlwOzZrKvTHMeNcbpo/VSOSIWDSjWdQ==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/installations": "0.6.19",
+        "@firebase/installations-types": "0.5.3",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/installations-types": {
+      "version": "0.5.3",
+      "resolved": "https://registry.npmjs.org/@firebase/installations-types/-/installations-types-0.5.3.tgz",
+      "integrity": "sha512-2FJI7gkLqIE0iYsNQ1P751lO3hER+Umykel+TkLwHj6plzWVxqvfclPUZhcKFVQObqloEBTmpi2Ozn7EkCABAA==",
+      "license": "Apache-2.0",
+      "peerDependencies": {
+        "@firebase/app-types": "0.x"
+      }
+    },
+    "node_modules/@firebase/logger": {
+      "version": "0.5.0",
+      "resolved": "https://registry.npmjs.org/@firebase/logger/-/logger-0.5.0.tgz",
+      "integrity": "sha512-cGskaAvkrnh42b3BA3doDWeBmuHFO/Mx5A83rbRDYakPjO9bJtRL3dX7javzc2Rr/JHZf4HlterTW2lUkfeN4g==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/messaging": {
+      "version": "0.12.23",
+      "resolved": "https://registry.npmjs.org/@firebase/messaging/-/messaging-0.12.23.tgz",
+      "integrity": "sha512-cfuzv47XxqW4HH/OcR5rM+AlQd1xL/VhuaeW/wzMW1LFrsFcTn0GND/hak1vkQc2th8UisBcrkVcQAnOnKwYxg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/installations": "0.6.19",
+        "@firebase/messaging-interop-types": "0.2.3",
+        "@firebase/util": "1.13.0",
+        "idb": "7.1.1",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/messaging-compat": {
+      "version": "0.2.23",
+      "resolved": "https://registry.npmjs.org/@firebase/messaging-compat/-/messaging-compat-0.2.23.tgz",
+      "integrity": "sha512-SN857v/kBUvlQ9X/UjAqBoQ2FEaL1ZozpnmL1ByTe57iXkmnVVFm9KqAsTfmf+OEwWI4kJJe9NObtN/w22lUgg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/messaging": "0.12.23",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/messaging-interop-types": {
+      "version": "0.2.3",
+      "resolved": "https://registry.npmjs.org/@firebase/messaging-interop-types/-/messaging-interop-types-0.2.3.tgz",
+      "integrity": "sha512-xfzFaJpzcmtDjycpDeCUj0Ge10ATFi/VHVIvEEjDNc3hodVBQADZ7BWQU7CuFpjSHE+eLuBI13z5F/9xOoGX8Q==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/performance": {
+      "version": "0.7.9",
+      "resolved": "https://registry.npmjs.org/@firebase/performance/-/performance-0.7.9.tgz",
+      "integrity": "sha512-UzybENl1EdM2I1sjYm74xGt/0JzRnU/0VmfMAKo2LSpHJzaj77FCLZXmYQ4oOuE+Pxtt8Wy2BVJEENiZkaZAzQ==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/installations": "0.6.19",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0",
+        "web-vitals": "^4.2.4"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/performance-compat": {
+      "version": "0.2.22",
+      "resolved": "https://registry.npmjs.org/@firebase/performance-compat/-/performance-compat-0.2.22.tgz",
+      "integrity": "sha512-xLKxaSAl/FVi10wDX/CHIYEUP13jXUjinL+UaNXT9ByIvxII5Ne5150mx6IgM8G6Q3V+sPiw9C8/kygkyHUVxg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/performance": "0.7.9",
+        "@firebase/performance-types": "0.2.3",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/performance-types": {
+      "version": "0.2.3",
+      "resolved": "https://registry.npmjs.org/@firebase/performance-types/-/performance-types-0.2.3.tgz",
+      "integrity": "sha512-IgkyTz6QZVPAq8GSkLYJvwSLr3LS9+V6vNPQr0x4YozZJiLF5jYixj0amDtATf1X0EtYHqoPO48a9ija8GocxQ==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/remote-config": {
+      "version": "0.8.0",
+      "resolved": "https://registry.npmjs.org/@firebase/remote-config/-/remote-config-0.8.0.tgz",
+      "integrity": "sha512-sJz7C2VACeE257Z/3kY9Ap2WXbFsgsDLfaGfZmmToKAK39ipXxFan+vzB9CSbF6mP7bzjyzEnqPcMXhAnYE6fQ==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/installations": "0.6.19",
+        "@firebase/logger": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/remote-config-compat": {
+      "version": "0.2.21",
+      "resolved": "https://registry.npmjs.org/@firebase/remote-config-compat/-/remote-config-compat-0.2.21.tgz",
+      "integrity": "sha512-9+lm0eUycxbu8GO25JfJe4s6R2xlDqlVt0CR6CvN9E6B4AFArEV4qfLoDVRgIEB7nHKwvH2nYRocPWfmjRQTnw==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/logger": "0.5.0",
+        "@firebase/remote-config": "0.8.0",
+        "@firebase/remote-config-types": "0.5.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/remote-config-types": {
+      "version": "0.5.0",
+      "resolved": "https://registry.npmjs.org/@firebase/remote-config-types/-/remote-config-types-0.5.0.tgz",
+      "integrity": "sha512-vI3bqLoF14L/GchtgayMiFpZJF+Ao3uR8WCde0XpYNkSokDpAKca2DxvcfeZv7lZUqkUwQPL2wD83d3vQ4vvrg==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@firebase/storage": {
+      "version": "0.14.0",
+      "resolved": "https://registry.npmjs.org/@firebase/storage/-/storage-0.14.0.tgz",
+      "integrity": "sha512-xWWbb15o6/pWEw8H01UQ1dC5U3rf8QTAzOChYyCpafV6Xki7KVp3Yaw2nSklUwHEziSWE9KoZJS7iYeyqWnYFA==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app": "0.x"
+      }
+    },
+    "node_modules/@firebase/storage-compat": {
+      "version": "0.4.0",
+      "resolved": "https://registry.npmjs.org/@firebase/storage-compat/-/storage-compat-0.4.0.tgz",
+      "integrity": "sha512-vDzhgGczr1OfcOy285YAPur5pWDEvD67w4thyeCUh6Ys0izN9fNYtA1MJERmNBfqjqu0lg0FM5GLbw0Il21M+g==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/component": "0.7.0",
+        "@firebase/storage": "0.14.0",
+        "@firebase/storage-types": "0.8.3",
+        "@firebase/util": "1.13.0",
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      },
+      "peerDependencies": {
+        "@firebase/app-compat": "0.x"
+      }
+    },
+    "node_modules/@firebase/storage-types": {
+      "version": "0.8.3",
+      "resolved": "https://registry.npmjs.org/@firebase/storage-types/-/storage-types-0.8.3.tgz",
+      "integrity": "sha512-+Muk7g9uwngTpd8xn9OdF/D48uiQ7I1Fae7ULsWPuKoCH3HU7bfFPhxtJYzyhjdniowhuDpQcfPmuNRAqZEfvg==",
+      "license": "Apache-2.0",
+      "peerDependencies": {
+        "@firebase/app-types": "0.x",
+        "@firebase/util": "1.x"
+      }
+    },
+    "node_modules/@firebase/util": {
+      "version": "1.13.0",
+      "resolved": "https://registry.npmjs.org/@firebase/util/-/util-1.13.0.tgz",
+      "integrity": "sha512-0AZUyYUfpMNcztR5l09izHwXkZpghLgCUaAGjtMwXnCg3bj4ml5VgiwqOMOxJ+Nw4qN/zJAaOQBcJ7KGkWStqQ==",
+      "hasInstallScript": true,
+      "license": "Apache-2.0",
+      "dependencies": {
+        "tslib": "^2.1.0"
+      },
+      "engines": {
+        "node": ">=20.0.0"
+      }
+    },
+    "node_modules/@firebase/webchannel-wrapper": {
+      "version": "1.0.5",
+      "resolved": "https://registry.npmjs.org/@firebase/webchannel-wrapper/-/webchannel-wrapper-1.0.5.tgz",
+      "integrity": "sha512-+uGNN7rkfn41HLO0vekTFhTxk61eKa8mTpRGLO0QSqlQdKvIoGAvLp3ppdVIWbTGYJWM6Kp0iN+PjMIOcnVqTw==",
+      "license": "Apache-2.0"
+    },
+    "node_modules/@grpc/grpc-js": {
+      "version": "1.9.15",
+      "resolved": "https://registry.npmjs.org/@grpc/grpc-js/-/grpc-js-1.9.15.tgz",
+      "integrity": "sha512-nqE7Hc0AzI+euzUwDAy0aY5hCp10r734gMGRdU+qOPX0XSceI2ULrcXB5U2xSc5VkWwalCj4M7GzCAygZl2KoQ==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@grpc/proto-loader": "^0.7.8",
+        "@types/node": ">=12.12.47"
+      },
+      "engines": {
+        "node": "^8.13.0 || >=10.10.0"
+      }
+    },
+    "node_modules/@grpc/proto-loader": {
+      "version": "0.7.15",
+      "resolved": "https://registry.npmjs.org/@grpc/proto-loader/-/proto-loader-0.7.15.tgz",
+      "integrity": "sha512-tMXdRCfYVixjuFK+Hk0Q1s38gV9zDiDJfWL3h1rv4Qc39oILCu1TRTDt7+fGUI8K4G1Fj125Hx/ru3azECWTyQ==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "lodash.camelcase": "^4.3.0",
+        "long": "^5.0.0",
+        "protobufjs": "^7.2.5",
+        "yargs": "^17.7.2"
+      },
+      "bin": {
+        "proto-loader-gen-types": "build/bin/proto-loader-gen-types.js"
+      },
+      "engines": {
+        "node": ">=6"
+      }
+    },
     "node_modules/@isaacs/fs-minipass": {
       "version": "4.0.1",
       "resolved": "https://registry.npmjs.org/@isaacs/fs-minipass/-/fs-minipass-4.0.1.tgz",
@@ -2472,6 +3112,70 @@
         "node": ">= 8"
       }
     },
+    "node_modules/@protobufjs/aspromise": {
+      "version": "1.1.2",
+      "resolved": "https://registry.npmjs.org/@protobufjs/aspromise/-/aspromise-1.1.2.tgz",
+      "integrity": "sha512-j+gKExEuLmKwvz3OgROXtrJ2UG2x8Ch2YZUxahh+s1F2HZ+wAceUNLkvy6zKCPVRkU++ZWQrdxsUeQXmcg4uoQ==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/base64": {
+      "version": "1.1.2",
+      "resolved": "https://registry.npmjs.org/@protobufjs/base64/-/base64-1.1.2.tgz",
+      "integrity": "sha512-AZkcAA5vnN/v4PDqKyMR5lx7hZttPDgClv83E//FMNhR2TMcLUhfRUBHCmSl0oi9zMgDDqRUJkSxO3wm85+XLg==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/codegen": {
+      "version": "2.0.4",
+      "resolved": "https://registry.npmjs.org/@protobufjs/codegen/-/codegen-2.0.4.tgz",
+      "integrity": "sha512-YyFaikqM5sH0ziFZCN3xDC7zeGaB/d0IUb9CATugHWbd1FRFwWwt4ld4OYMPWu5a3Xe01mGAULCdqhMlPl29Jg==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/eventemitter": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/@protobufjs/eventemitter/-/eventemitter-1.1.0.tgz",
+      "integrity": "sha512-j9ednRT81vYJ9OfVuXG6ERSTdEL1xVsNgqpkxMsbIabzSo3goCjDIveeGv5d03om39ML71RdmrGNjG5SReBP/Q==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/fetch": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/@protobufjs/fetch/-/fetch-1.1.0.tgz",
+      "integrity": "sha512-lljVXpqXebpsijW71PZaCYeIcE5on1w5DlQy5WH6GLbFryLUrBD4932W/E2BSpfRJWseIL4v/KPgBFxDOIdKpQ==",
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "@protobufjs/aspromise": "^1.1.1",
+        "@protobufjs/inquire": "^1.1.0"
+      }
+    },
+    "node_modules/@protobufjs/float": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/@protobufjs/float/-/float-1.0.2.tgz",
+      "integrity": "sha512-Ddb+kVXlXst9d+R9PfTIxh1EdNkgoRe5tOX6t01f1lYWOvJnSPDBlG241QLzcyPdoNTsblLUdujGSE4RzrTZGQ==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/inquire": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/@protobufjs/inquire/-/inquire-1.1.0.tgz",
+      "integrity": "sha512-kdSefcPdruJiFMVSbn801t4vFK7KB/5gd2fYvrxhuJYg8ILrmn9SKSX2tZdV6V+ksulWqS7aXjBcRXl3wHoD9Q==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/path": {
+      "version": "1.1.2",
+      "resolved": "https://registry.npmjs.org/@protobufjs/path/-/path-1.1.2.tgz",
+      "integrity": "sha512-6JOcJ5Tm08dOHAbdR3GrvP+yUUfkjG5ePsHYczMFLq3ZmMkAD98cDgcT2iA1lJ9NVwFd4tH/iSSoe44YWkltEA==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/pool": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/@protobufjs/pool/-/pool-1.1.0.tgz",
+      "integrity": "sha512-0kELaGSIDBKvcgS4zkjz1PeddatrjYcmMWOlAuAPwAeccUrPHdUqo/J6LiymHHEiJT5NrF1UVwxY14f+fy4WQw==",
+      "license": "BSD-3-Clause"
+    },
+    "node_modules/@protobufjs/utf8": {
+      "version": "1.1.0",
+      "resolved": "https://registry.npmjs.org/@protobufjs/utf8/-/utf8-1.1.0.tgz",
+      "integrity": "sha512-Vvn3zZrhQZkkBE8LSuW3em98c0FwgO4nxzv6OdSxPKJIEKY2bGbHn+mhGIPerzI4twdxaP8/0+06HBpwf345Lw==",
+      "license": "BSD-3-Clause"
+    },
     "node_modules/@radix-ui/primitive": {
       "version": "1.1.3",
       "resolved": "https://registry.npmjs.org/@radix-ui/primitive/-/primitive-1.1.3.tgz",
@@ -5283,6 +5987,18 @@
         "reusify": "^1.0.4"
       }
     },
+    "node_modules/faye-websocket": {
+      "version": "0.11.4",
+      "resolved": "https://registry.npmjs.org/faye-websocket/-/faye-websocket-0.11.4.tgz",
+      "integrity": "sha512-CzbClwlXAuiRQAlUyfqPgvPoNKTckTPGfwZV4ZdAhVcP2lh9KUxJg2b5GkE7XbjKQ3YJnQ9z6D9ntLAlB+tP8g==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "websocket-driver": ">=0.5.1"
+      },
+      "engines": {
+        "node": ">=0.8.0"
+      }
+    },
     "node_modules/fb-watchman": {
       "version": "2.0.2",
       "resolved": "https://registry.npmjs.org/fb-watchman/-/fb-watchman-2.0.2.tgz",
@@ -5389,6 +6105,42 @@
         "node": ">=8"
       }
     },
+    "node_modules/firebase": {
+      "version": "12.9.0",
+      "resolved": "https://registry.npmjs.org/firebase/-/firebase-12.9.0.tgz",
+      "integrity": "sha512-CwwTYoqZg6KxygPOaaJqIc4aoLvo0RCRrXoln9GoxLE8QyAwTydBaSLGVlR4WPcuOgN3OEL0tJLT1H4IU/dv7w==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "@firebase/ai": "2.8.0",
+        "@firebase/analytics": "0.10.19",
+        "@firebase/analytics-compat": "0.2.25",
+        "@firebase/app": "0.14.8",
+        "@firebase/app-check": "0.11.0",
+        "@firebase/app-check-compat": "0.4.0",
+        "@firebase/app-compat": "0.5.8",
+        "@firebase/app-types": "0.9.3",
+        "@firebase/auth": "1.12.0",
+        "@firebase/auth-compat": "0.6.2",
+        "@firebase/data-connect": "0.3.12",
+        "@firebase/database": "1.1.0",
+        "@firebase/database-compat": "2.1.0",
+        "@firebase/firestore": "4.11.0",
+        "@firebase/firestore-compat": "0.4.5",
+        "@firebase/functions": "0.13.1",
+        "@firebase/functions-compat": "0.4.1",
+        "@firebase/installations": "0.6.19",
+        "@firebase/installations-compat": "0.2.19",
+        "@firebase/messaging": "0.12.23",
+        "@firebase/messaging-compat": "0.2.23",
+        "@firebase/performance": "0.7.9",
+        "@firebase/performance-compat": "0.2.22",
+        "@firebase/remote-config": "0.8.0",
+        "@firebase/remote-config-compat": "0.2.21",
+        "@firebase/storage": "0.14.0",
+        "@firebase/storage-compat": "0.4.0",
+        "@firebase/util": "1.13.0"
+      }
+    },
     "node_modules/flow-enums-runtime": {
       "version": "0.0.6",
       "resolved": "https://registry.npmjs.org/flow-enums-runtime/-/flow-enums-runtime-0.0.6.tgz",
@@ -5665,6 +6417,12 @@
         "node": ">= 0.8"
       }
     },
+    "node_modules/http-parser-js": {
+      "version": "0.5.10",
+      "resolved": "https://registry.npmjs.org/http-parser-js/-/http-parser-js-0.5.10.tgz",
+      "integrity": "sha512-Pysuw9XpUq5dVc/2SMHpuTY01RFl8fttgcyunjL7eEMhGM3cI4eOmiCycJDVCo/7O7ClfQD3SaI6ftDzqOXYMA==",
+      "license": "MIT"
+    },
     "node_modules/https-proxy-agent": {
       "version": "7.0.6",
       "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
@@ -5684,6 +6442,12 @@
       "integrity": "sha512-WDC/ui2VVRrz3jOVi+XtjqkDjiVjTtFaAGiW37k6b+ohyQ5wYDOGkvCZa8+H0nx3gyvv0+BST9xuOgIyGQ00gw==",
       "license": "BSD-3-Clause"
     },
+    "node_modules/idb": {
+      "version": "7.1.1",
+      "resolved": "https://registry.npmjs.org/idb/-/idb-7.1.1.tgz",
+      "integrity": "sha512-gchesWBzyvGHRO9W8tzUWFDycow5gwjvFKfyV9FF32Y7F50yZMp7mP+T2mJIWFx49zicqyC4uefHM17o6xKIVQ==",
+      "license": "ISC"
+    },
     "node_modules/ieee754": {
       "version": "1.2.1",
       "resolved": "https://registry.npmjs.org/ieee754/-/ieee754-1.2.1.tgz",
@@ -6490,6 +7254,12 @@
         "node": ">=8"
       }
     },
+    "node_modules/lodash.camelcase": {
+      "version": "4.3.0",
+      "resolved": "https://registry.npmjs.org/lodash.camelcase/-/lodash.camelcase-4.3.0.tgz",
+      "integrity": "sha512-TwuEnCnxbc3rAvhf/LbG7tJUDzhqXyFnv3dtzLOPgCG/hODL7WFnsbwktkD7yUV0RrreP/l1PALq/YSg6VvjlA==",
+      "license": "MIT"
+    },
     "node_modules/lodash.debounce": {
       "version": "4.0.8",
       "resolved": "https://registry.npmjs.org/lodash.debounce/-/lodash.debounce-4.0.8.tgz",
@@ -6585,6 +7355,12 @@
         "node": ">=4"
       }
     },
+    "node_modules/long": {
+      "version": "5.3.2",
+      "resolved": "https://registry.npmjs.org/long/-/long-5.3.2.tgz",
+      "integrity": "sha512-mNAgZ1GmyNhD7AuqnTG3/VQ26o760+ZYBPKjPvugO8+nLbYfX6TVpJPseBvopbdY+qpZ/lKUnmEc1LeZYS3QAA==",
+      "license": "Apache-2.0"
+    },
     "node_modules/loose-envify": {
       "version": "1.4.0",
       "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
@@ -7921,6 +8697,30 @@
         "node": ">= 6"
       }
     },
+    "node_modules/protobufjs": {
+      "version": "7.5.4",
+      "resolved": "https://registry.npmjs.org/protobufjs/-/protobufjs-7.5.4.tgz",
+      "integrity": "sha512-CvexbZtbov6jW2eXAvLukXjXUW1TzFaivC46BpWc/3BpcCysb5Vffu+B3XHMm8lVEuy2Mm4XGex8hBSg1yapPg==",
+      "hasInstallScript": true,
+      "license": "BSD-3-Clause",
+      "dependencies": {
+        "@protobufjs/aspromise": "^1.1.2",
+        "@protobufjs/base64": "^1.1.2",
+        "@protobufjs/codegen": "^2.0.4",
+        "@protobufjs/eventemitter": "^1.1.0",
+        "@protobufjs/fetch": "^1.1.0",
+        "@protobufjs/float": "^1.0.2",
+        "@protobufjs/inquire": "^1.1.0",
+        "@protobufjs/path": "^1.1.2",
+        "@protobufjs/pool": "^1.1.0",
+        "@protobufjs/utf8": "^1.1.0",
+        "@types/node": ">=13.7.0",
+        "long": "^5.0.0"
+      },
+      "engines": {
+        "node": ">=12.0.0"
+      }
+    },
     "node_modules/punycode": {
       "version": "2.3.1",
       "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
@@ -10242,12 +11042,41 @@
         "defaults": "^1.0.3"
       }
     },
+    "node_modules/web-vitals": {
+      "version": "4.2.4",
+      "resolved": "https://registry.npmjs.org/web-vitals/-/web-vitals-4.2.4.tgz",
+      "integrity": "sha512-r4DIlprAGwJ7YM11VZp4R884m0Vmgr6EAKe3P+kO0PPj3Unqyvv59rczf6UiGcb9Z8QxZVcqKNwv/g0WNdWwsw==",
+      "license": "Apache-2.0"
+    },
     "node_modules/webidl-conversions": {
       "version": "3.0.1",
       "resolved": "https://registry.npmjs.org/webidl-conversions/-/webidl-conversions-3.0.1.tgz",
       "integrity": "sha512-2JAn3z8AR6rjK8Sm8orRC0h/bcl/DqL7tRPdGZ4I1CjdF+EaMLmYxBHyXuKL849eucPFhvBoxMsflfOb8kxaeQ==",
       "license": "BSD-2-Clause"
     },
+    "node_modules/websocket-driver": {
+      "version": "0.7.4",
+      "resolved": "https://registry.npmjs.org/websocket-driver/-/websocket-driver-0.7.4.tgz",
+      "integrity": "sha512-b17KeDIQVjvb0ssuSDF2cYXSg2iztliJ4B9WdsuB6J952qCPKmnVq4DyW5motImXHDC1cBT/1UezrJVsKw5zjg==",
+      "license": "Apache-2.0",
+      "dependencies": {
+        "http-parser-js": ">=0.5.1",
+        "safe-buffer": ">=5.1.0",
+        "websocket-extensions": ">=0.1.1"
+      },
+      "engines": {
+        "node": ">=0.8.0"
+      }
+    },
+    "node_modules/websocket-extensions": {
+      "version": "0.1.4",
+      "resolved": "https://registry.npmjs.org/websocket-extensions/-/websocket-extensions-0.1.4.tgz",
+      "integrity": "sha512-OqedPIGOfsDlo31UNwYbCFMSaO9m9G/0faIHj5/dZFDMFqPTcx6UwqyOy3COEaEOg/9VsGIpdqn62W5KhoKSpg==",
+      "license": "Apache-2.0",
+      "engines": {
+        "node": ">=0.8.0"
+      }
+    },
     "node_modules/whatwg-fetch": {
       "version": "3.6.20",
       "resolved": "https://registry.npmjs.org/whatwg-fetch/-/whatwg-fetch-3.6.20.tgz",
diff --git a/expo-app/package.json b/expo-app/package.json
index 865f23d..89fd13d 100644
--- a/expo-app/package.json
+++ b/expo-app/package.json
@@ -18,6 +18,7 @@
     "expo-router": "~6.0.23",
     "expo-speech": "~14.0.8",
     "expo-status-bar": "~3.0.9",
+    "firebase": "^12.9.0",
     "lucide-react-native": "^0.574.0",
     "openai": "^6.22.0",
     "react": "19.1.0",
diff --git a/expo-app/src/components/Chat/ChatInput.tsx b/expo-app/src/components/Chat/ChatInput.tsx
index 249c3c8..4fdaa5b 100644
--- a/expo-app/src/components/Chat/ChatInput.tsx
+++ b/expo-app/src/components/Chat/ChatInput.tsx
@@ -20,14 +20,14 @@ export function ChatInput({ onSend, disabled }: ChatInputProps) {
   const canSend = !disabled && text.trim().length > 0;
 
   return (
-    <View className="flex-row items-end gap-2 px-4 py-3 border-t border-slate-100 bg-white">
+    <View className="flex-row items-end gap-2 px-4 py-3 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900">
       <TextInput
         value={text}
         onChangeText={setText}
         placeholder="Ask anything..."
         placeholderTextColor="#94a3b8"
         multiline
-        className="flex-1 bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 text-sm text-slate-900"
+        className="flex-1 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-4 py-3 text-sm text-slate-900 dark:text-white"
         style={{ maxHeight: 112 }}
         editable={!disabled}
         returnKeyType="send"
diff --git a/expo-app/src/components/Chat/ChatMessage.tsx b/expo-app/src/components/Chat/ChatMessage.tsx
index 9f67cb1..7bee9e8 100644
--- a/expo-app/src/components/Chat/ChatMessage.tsx
+++ b/expo-app/src/components/Chat/ChatMessage.tsx
@@ -23,11 +23,11 @@ export function ChatMessageBubble({ message, onSaveCard, onAddNote }: ChatMessag
         className={
           isUser
             ? "bg-indigo-600 rounded-3xl rounded-br-sm px-4 py-3 max-w-[80%]"
-            : "bg-slate-50 border border-slate-100 rounded-3xl rounded-bl-sm px-4 py-3 max-w-[85%]"
+            : "bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-3xl rounded-bl-sm px-4 py-3 max-w-[85%]"
         }
       >
         <Text
-          className={`text-sm leading-5 ${isUser ? "text-white" : "text-slate-900"}`}
+          className={`text-sm leading-5 ${isUser ? "text-white" : "text-slate-900 dark:text-slate-100"}`}
         >
           {message.content}
         </Text>
@@ -41,17 +41,17 @@ export function ChatMessageBubble({ message, onSaveCard, onAddNote }: ChatMessag
         <View className="flex-row gap-2 mt-1 ml-1">
           <Pressable
             onPress={() => onSaveCard(message)}
-            className="flex-row items-center gap-1 px-3 py-1.5 rounded-full border border-slate-200 bg-white"
+            className="flex-row items-center gap-1 px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900"
           >
             <BookmarkPlus size={13} color="#64748b" />
-            <Text className="text-xs text-slate-600 font-medium">Save Card</Text>
+            <Text className="text-xs text-slate-600 dark:text-slate-300 font-medium">Save Card</Text>
           </Pressable>
           <Pressable
             onPress={() => onAddNote(message)}
-            className="flex-row items-center gap-1 px-3 py-1.5 rounded-full border border-slate-200 bg-white"
+            className="flex-row items-center gap-1 px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900"
           >
             <StickyNote size={13} color="#64748b" />
-            <Text className="text-xs text-slate-600 font-medium">Add Note</Text>
+            <Text className="text-xs text-slate-600 dark:text-slate-300 font-medium">Add Note</Text>
           </Pressable>
         </View>
       )}
diff --git a/expo-app/src/components/Chat/LanguageSelector.tsx b/expo-app/src/components/Chat/LanguageSelector.tsx
index 5004d1a..ad9f462 100644
--- a/expo-app/src/components/Chat/LanguageSelector.tsx
+++ b/expo-app/src/components/Chat/LanguageSelector.tsx
@@ -18,7 +18,7 @@ export function LanguageSelector({
   onChangeNative,
 }: LanguageSelectorProps) {
   return (
-    <View className="flex-row items-center px-4 py-3 border-b border-slate-100 bg-white gap-2">
+    <View className="flex-row items-center px-4 py-3 border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 gap-2">
       <View className="flex-1">
         <LanguagePicker value={studyLang} onChange={onChangeStudy} label="Studying" />
       </View>
diff --git a/expo-app/src/components/Chat/NotesModal.tsx b/expo-app/src/components/Chat/NotesModal.tsx
index fbe1f49..83d3545 100644
--- a/expo-app/src/components/Chat/NotesModal.tsx
+++ b/expo-app/src/components/Chat/NotesModal.tsx
@@ -5,8 +5,8 @@ import {
   Pressable,
   Modal,
   FlatList,
-  SafeAreaView,
 } from "react-native";
+import { SafeAreaView } from "react-native-safe-area-context";
 import { X, Trash2, FileText } from "lucide-react-native";
 import { ChatNote } from "../../types";
 
@@ -39,20 +39,20 @@ export function NotesModal({
       presentationStyle="pageSheet"
       onRequestClose={onClose}
     >
-      <SafeAreaView className="flex-1 bg-white">
+      <SafeAreaView className="flex-1 bg-white dark:bg-slate-950">
         {/* Header */}
-        <View className="flex-row items-center justify-between px-6 py-4 border-b border-slate-100">
+        <View className="flex-row items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800">
           <View className="flex-row items-center gap-2">
-            <Text className="text-lg font-semibold text-slate-900">Notes</Text>
+            <Text className="text-lg font-semibold text-slate-900 dark:text-white">Notes</Text>
             {notes.length > 0 && (
-              <View className="bg-indigo-100 rounded-full px-2 py-0.5">
-                <Text className="text-xs font-semibold text-indigo-600">
+              <View className="bg-indigo-100 dark:bg-indigo-900 px-2 py-0.5 rounded-full">
+                <Text className="text-xs font-semibold text-indigo-600 dark:text-indigo-400">
                   {notes.length}
                 </Text>
               </View>
             )}
           </View>
-          <Pressable onPress={onClose} className="p-2 rounded-xl bg-slate-50">
+          <Pressable onPress={onClose} className="p-2 rounded-xl bg-slate-50 dark:bg-slate-900">
             <X size={18} color="#64748b" />
           </Pressable>
         </View>
@@ -71,19 +71,19 @@ export function NotesModal({
             keyExtractor={(item) => item.id}
             contentContainerStyle={{ padding: 16, gap: 12 }}
             renderItem={({ item }) => (
-              <View className="bg-slate-50 rounded-2xl p-4 border border-slate-100">
+              <View className="bg-slate-50 dark:bg-slate-900 rounded-2xl p-4 border border-slate-100 dark:border-slate-800">
                 <View className="flex-row items-start justify-between gap-3">
                   <View className="flex-1">
                     <Text className="text-xs text-slate-400 mb-1">
                       {formatNoteDate(item.timestamp)}
                     </Text>
-                    <Text className="text-sm text-slate-900 leading-5">
+                    <Text className="text-sm text-slate-900 dark:text-slate-200 leading-5">
                       {item.text}
                     </Text>
                   </View>
                   <Pressable
                     onPress={() => onDeleteNote(item.id)}
-                    className="p-2 rounded-lg bg-red-50"
+                    className="p-2 rounded-lg bg-red-50 dark:bg-red-900/20"
                   >
                     <Trash2 size={15} color="#ef4444" />
                   </Pressable>
diff --git a/expo-app/src/components/Chat/SaveCardModal.tsx b/expo-app/src/components/Chat/SaveCardModal.tsx
index 36a516c..9400484 100644
--- a/expo-app/src/components/Chat/SaveCardModal.tsx
+++ b/expo-app/src/components/Chat/SaveCardModal.tsx
@@ -92,13 +92,13 @@ export function SaveCardModal({
       <KeyboardAvoidingView
         behavior={Platform.OS === "ios" ? "padding" : "height"}
       >
-        <View className="bg-white rounded-t-3xl px-6 pt-6 pb-10">
+        <View className="bg-white dark:bg-slate-900 rounded-t-3xl px-6 pt-6 pb-10">
           {/* Header */}
           <View className="flex-row items-center justify-between mb-6">
-            <Text className="text-lg font-semibold text-slate-900">
+            <Text className="text-lg font-semibold text-slate-900 dark:text-white">
               Save Flashcard
             </Text>
-            <Pressable onPress={onClose} className="p-2 rounded-xl bg-slate-50">
+            <Pressable onPress={onClose} className="p-2 rounded-xl bg-slate-50 dark:bg-slate-800">
               <X size={18} color="#64748b" />
             </Pressable>
           </View>
@@ -113,7 +113,7 @@ export function SaveCardModal({
               onChangeText={setFront}
               placeholder={`Word in ${studyLabel}...`}
               placeholderTextColor="#94a3b8"
-              className="bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-900"
+              className="bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-900 dark:text-white"
               style={{ writingDirection: studyLang === "ar-SA" ? "rtl" : "ltr" }}
             />
             {isExtracting && !front && (
@@ -135,7 +135,7 @@ export function SaveCardModal({
               onChangeText={setBack}
               placeholder={`Translation in ${nativeLabel}...`}
               placeholderTextColor="#94a3b8"
-              className="bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-900"
+              className="bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-900 dark:text-white"
               style={{ writingDirection: nativeLang === "ar-SA" ? "rtl" : "ltr" }}
             />
             {isExtracting && !back && (
@@ -160,10 +160,10 @@ export function SaveCardModal({
                   setSelectedDeckId(deck.id);
                   setIsCreatingNew(false);
                 }}
-                className="flex-row items-center justify-between py-3 border-b border-slate-100"
+                className="flex-row items-center justify-between py-3 border-b border-slate-100 dark:border-slate-800"
               >
                 <View>
-                  <Text className="text-sm font-medium text-slate-900">
+                  <Text className="text-sm font-medium text-slate-900 dark:text-white">
                     {deck.title}
                   </Text>
                   <Text className="text-xs text-slate-400">
@@ -186,9 +186,8 @@ export function SaveCardModal({
             >
               <Plus size={16} color={isCreatingNew ? "#4f46e5" : "#94a3b8"} />
               <Text
-                className={`text-sm font-medium ${
-                  isCreatingNew ? "text-indigo-600" : "text-slate-500"
-                }`}
+                className={`text-sm font-medium ${isCreatingNew ? "text-indigo-600" : "text-slate-500"
+                  }`}
               >
                 Create new deck
               </Text>
@@ -202,7 +201,7 @@ export function SaveCardModal({
               onChangeText={setNewDeckTitle}
               placeholder="New deck name..."
               placeholderTextColor="#94a3b8"
-              className="bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm text-slate-900 mb-4"
+              className="bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 text-sm text-slate-900 dark:text-white mb-4"
               autoFocus
             />
           )}
@@ -211,9 +210,9 @@ export function SaveCardModal({
           <View className="flex-row gap-3">
             <Pressable
               onPress={onClose}
-              className="flex-1 py-3.5 rounded-xl border border-slate-200 items-center"
+              className="flex-1 py-3.5 rounded-xl border border-slate-200 dark:border-slate-800 items-center"
             >
-              <Text className="text-sm font-medium text-slate-600">Cancel</Text>
+              <Text className="text-sm font-medium text-slate-600 dark:text-slate-300">Cancel</Text>
             </Pressable>
             <Pressable
               onPress={handleSave}
diff --git a/expo-app/src/components/DeckEditor.tsx b/expo-app/src/components/DeckEditor.tsx
index 0f2d0b4..242088c 100644
--- a/expo-app/src/components/DeckEditor.tsx
+++ b/expo-app/src/components/DeckEditor.tsx
@@ -297,14 +297,14 @@ Guidelines:
   return (
     <KeyboardAvoidingView
       behavior={Platform.OS === "ios" ? "padding" : "height"}
-      className="flex-1 bg-white"
+      className="flex-1 bg-white dark:bg-slate-950"
     >
       {/* Header */}
-      <View className="px-4 py-4 flex-row items-center justify-between border-b border-slate-100 bg-white">
+      <View className="px-4 py-4 flex-row items-center justify-between border-b border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900">
         <Pressable onPress={onCancel} className="p-2 -ml-2">
           <ChevronLeft size={24} color="#64748b" />
         </Pressable>
-        <Text className="font-semibold">
+        <Text className="font-semibold dark:text-white">
           {deck ? "Edit Set" : "Create New Set"}
         </Text>
         <View className="flex-row items-center gap-3">
@@ -344,7 +344,7 @@ Guidelines:
               onChangeText={setTitle}
               placeholder="e.g., Arabic Vocabulary"
               placeholderTextColor="#cbd5e1"
-              className="text-xl font-medium border-b-2 border-slate-100 py-2 text-slate-900"
+              className="text-xl font-medium border-b-2 border-slate-100 dark:border-slate-800 py-2 text-slate-900 dark:text-white"
             />
           </View>
 
@@ -368,14 +368,14 @@ Guidelines:
 
         <View className="gap-6 pb-24">
           <View className="flex-row items-center gap-2">
-            <Text className="font-semibold text-slate-800">Cards</Text>
+            <Text className="font-semibold text-slate-800 dark:text-white">Cards</Text>
             <Text className="text-xs text-slate-400">({cards.length})</Text>
           </View>
 
           {cards.map((card, idx) => (
             <View
               key={card.id}
-              className="bg-slate-50 rounded-2xl p-5 border border-slate-100"
+              className="bg-slate-50 dark:bg-slate-900 rounded-2xl p-5 border border-slate-100 dark:border-slate-800"
             >
               <Pressable
                 onPress={() => removeCard(card.id)}
@@ -394,14 +394,14 @@ Guidelines:
                     onChangeText={(value) => updateCard(card.id, "front", value)}
                     placeholder="Enter term..."
                     placeholderTextColor="#cbd5e1"
-                    className="text-sm font-medium text-slate-900"
+                    className="text-sm font-medium text-slate-900 dark:text-white"
                     textAlignVertical="top"
                     style={{
                       writingDirection: frontLang === "ar-SA" ? "rtl" : "ltr",
                     }}
                   />
                 </View>
-                <View className="h-px bg-slate-200" />
+                <View className="h-px bg-slate-200 dark:bg-slate-800" />
                 <View className="gap-1.5">
                   <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-tight">
                     Back ({backLang})
@@ -412,7 +412,7 @@ Guidelines:
                     onChangeText={(value) => updateCard(card.id, "back", value)}
                     placeholder="Enter translation..."
                     placeholderTextColor="#cbd5e1"
-                    className="text-sm text-slate-900"
+                    className="text-sm text-slate-900 dark:text-slate-200"
                     textAlignVertical="top"
                     style={{
                       writingDirection: backLang === "ar-SA" ? "rtl" : "ltr",
@@ -425,7 +425,7 @@ Guidelines:
 
           <Pressable
             onPress={addCard}
-            className="w-full py-4 border-2 border-dashed border-slate-200 rounded-2xl flex-row items-center justify-center gap-2"
+            className="w-full py-4 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-2xl flex-row items-center justify-center gap-2"
             style={({ pressed }) => ({ opacity: pressed ? 0.7 : 1 })}
           >
             <Plus size={20} color="#94a3b8" />
@@ -437,9 +437,9 @@ Guidelines:
       {/* Bulk Import Modal */}
       <Modal visible={showBulk} transparent animationType="slide">
         <Pressable className="flex-1 bg-black/40" onPress={() => setShowBulk(false)} />
-        <View className="bg-white rounded-t-3xl p-6 pb-10">
+        <View className="bg-white dark:bg-slate-900 rounded-t-3xl p-6 pb-10">
           <View className="flex-row justify-between items-center mb-4">
-            <Text className="font-bold text-lg">Bulk Import</Text>
+            <Text className="font-bold text-lg dark:text-white">Bulk Import</Text>
             <Pressable onPress={() => setShowBulk(false)} className="p-2">
               <X size={20} color="#94a3b8" />
             </Pressable>
@@ -453,17 +453,17 @@ Guidelines:
             value={bulkText}
             onChangeText={setBulkText}
             placeholder={"Hello; Hej\nThank you; Tak"}
-            placeholderTextColor="#cbd5e1"
-            className="h-48 bg-slate-50 rounded-2xl p-4 text-sm border border-slate-100 text-slate-900"
+            placeholderTextColor="#94a3b8"
+            className="h-48 bg-slate-50 dark:bg-slate-950 rounded-2xl p-4 text-sm border border-slate-100 dark:border-slate-800 text-slate-900 dark:text-white"
             textAlignVertical="top"
             style={{ fontFamily: Platform.OS === "ios" ? "Menlo" : "monospace" }}
           />
           <View className="flex-row gap-3 mt-6">
             <Pressable
               onPress={() => setShowBulk(false)}
-              className="flex-1 py-3 bg-slate-100 rounded-xl items-center"
+              className="flex-1 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl items-center"
             >
-              <Text className="text-slate-600 font-semibold">Cancel</Text>
+              <Text className="text-slate-600 dark:text-slate-300 font-semibold">Cancel</Text>
             </Pressable>
             <Pressable
               onPress={handleBulkImport}
@@ -481,11 +481,11 @@ Guidelines:
           className="flex-1 bg-black/40"
           onPress={() => !aiLoading && setShowAiGenerate(false)}
         />
-        <View className="bg-white rounded-t-3xl p-6 pb-10">
+        <View className="bg-white dark:bg-slate-900 rounded-t-3xl p-6 pb-10">
           <View className="flex-row justify-between items-center mb-4">
             <View className="flex-row items-center gap-2">
               <Sparkles size={20} color="#4f46e5" />
-              <Text className="font-bold text-lg">AI Generate</Text>
+              <Text className="font-bold text-lg dark:text-white">AI Generate</Text>
             </View>
             <Pressable
               onPress={() => !aiLoading && setShowAiGenerate(false)}
@@ -504,8 +504,8 @@ Guidelines:
                 value={aiTopic}
                 onChangeText={setAiTopic}
                 placeholder="e.g., Food vocabulary, Travel phrases"
-                placeholderTextColor="#cbd5e1"
-                className="bg-slate-50 rounded-2xl p-4 text-sm border border-slate-100 text-slate-900"
+                placeholderTextColor="#94a3b8"
+                className="bg-slate-50 dark:bg-slate-950 rounded-2xl p-4 text-sm border border-slate-100 dark:border-slate-800 text-slate-900 dark:text-white"
                 editable={!aiLoading}
               />
             </View>
@@ -519,16 +519,14 @@ Guidelines:
                   <Pressable
                     key={level}
                     onPress={() => !aiLoading && setAiLevel(level)}
-                    className={`flex-1 py-3 rounded-xl items-center border-2 ${
-                      aiLevel === level
-                        ? "bg-indigo-50 border-indigo-500"
-                        : "bg-slate-50 border-slate-100"
-                    }`}
+                    className={`flex-1 py-3 rounded-xl items-center border-2 ${aiLevel === level
+                        ? "bg-indigo-50 dark:bg-indigo-950/30 border-indigo-500"
+                        : "bg-slate-50 dark:bg-slate-950 border-slate-100 dark:border-slate-800"
+                      }`}
                   >
                     <Text
-                      className={`text-xs font-bold capitalize ${
-                        aiLevel === level ? "text-indigo-600" : "text-slate-400"
-                      }`}
+                      className={`text-xs font-bold capitalize ${aiLevel === level ? "text-indigo-600" : "text-slate-400"
+                        }`}
                     >
                       {level}
                     </Text>
@@ -546,16 +544,14 @@ Guidelines:
                   <Pressable
                     key={count}
                     onPress={() => !aiLoading && setAiCardCount(count)}
-                    className={`flex-1 py-3 rounded-xl items-center border-2 ${
-                      aiCardCount === count
-                        ? "bg-indigo-50 border-indigo-500"
-                        : "bg-slate-50 border-slate-100"
-                    }`}
+                    className={`flex-1 py-3 rounded-xl items-center border-2 ${aiCardCount === count
+                        ? "bg-indigo-50 dark:bg-indigo-950/30 border-indigo-500"
+                        : "bg-slate-50 dark:bg-slate-950 border-slate-100 dark:border-slate-800"
+                      }`}
                   >
                     <Text
-                      className={`text-sm font-bold ${
-                        aiCardCount === count ? "text-indigo-600" : "text-slate-400"
-                      }`}
+                      className={`text-sm font-bold ${aiCardCount === count ? "text-indigo-600" : "text-slate-400"
+                        }`}
                     >
                       {count}
                     </Text>
@@ -568,10 +564,10 @@ Guidelines:
           <View className="flex-row gap-3 mt-6">
             <Pressable
               onPress={() => setShowAiGenerate(false)}
-              className="flex-1 py-3 bg-slate-100 rounded-xl items-center"
+              className="flex-1 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl items-center"
               disabled={aiLoading}
             >
-              <Text className="text-slate-600 font-semibold">Cancel</Text>
+              <Text className="text-slate-600 dark:text-slate-300 font-semibold">Cancel</Text>
             </Pressable>
             <Pressable
               onPress={handleAiGenerate}
@@ -598,11 +594,11 @@ Guidelines:
           className="flex-1 bg-black/40"
           onPress={() => !imageLoading && setShowImageGenerate(false)}
         />
-        <View className="bg-white rounded-t-3xl p-6 pb-10">
+        <View className="bg-white dark:bg-slate-900 rounded-t-3xl p-6 pb-10">
           <View className="flex-row justify-between items-center mb-4">
             <View className="flex-row items-center gap-2">
               <Camera size={20} color="#4f46e5" />
-              <Text className="font-bold text-lg">Image to Cards</Text>
+              <Text className="font-bold text-lg dark:text-white">Image to Cards</Text>
             </View>
             <Pressable
               onPress={() => {
@@ -622,19 +618,19 @@ Guidelines:
             <View className="flex-row gap-3">
               <Pressable
                 onPress={pickImageFromCamera}
-                className="flex-1 py-4 bg-slate-50 rounded-2xl items-center border border-slate-100"
+                className="flex-1 py-4 bg-slate-50 dark:bg-slate-950 rounded-2xl items-center border border-slate-100 dark:border-slate-800"
                 disabled={imageLoading}
               >
                 <Camera size={24} color="#4f46e5" />
-                <Text className="text-xs font-semibold text-slate-600 mt-1">Take Photo</Text>
+                <Text className="text-xs font-semibold text-slate-600 dark:text-slate-300 mt-1">Take Photo</Text>
               </Pressable>
               <Pressable
                 onPress={pickImageFromGallery}
-                className="flex-1 py-4 bg-slate-50 rounded-2xl items-center border border-slate-100"
+                className="flex-1 py-4 bg-slate-50 dark:bg-slate-950 rounded-2xl items-center border border-slate-100 dark:border-slate-800"
                 disabled={imageLoading}
               >
                 <ImagePlus size={24} color="#4f46e5" />
-                <Text className="text-xs font-semibold text-slate-600 mt-1">Gallery</Text>
+                <Text className="text-xs font-semibold text-slate-600 dark:text-slate-300 mt-1">Gallery</Text>
               </Pressable>
             </View>
 
@@ -657,16 +653,14 @@ Guidelines:
                   <Pressable
                     key={level}
                     onPress={() => !imageLoading && setImageLevel(level)}
-                    className={`flex-1 py-3 rounded-xl items-center border-2 ${
-                      imageLevel === level
-                        ? "bg-indigo-50 border-indigo-500"
-                        : "bg-slate-50 border-slate-100"
-                    }`}
+                    className={`flex-1 py-3 rounded-xl items-center border-2 ${imageLevel === level
+                        ? "bg-indigo-50 dark:bg-indigo-950/30 border-indigo-500"
+                        : "bg-slate-50 dark:bg-slate-950 border-slate-100 dark:border-slate-800"
+                      }`}
                   >
                     <Text
-                      className={`text-xs font-bold capitalize ${
-                        imageLevel === level ? "text-indigo-600" : "text-slate-400"
-                      }`}
+                      className={`text-xs font-bold capitalize ${imageLevel === level ? "text-indigo-600" : "text-slate-400"
+                        }`}
                     >
                       {level}
                     </Text>
@@ -683,10 +677,10 @@ Guidelines:
                 setImageUri(null);
                 setImageBase64(null);
               }}
-              className="flex-1 py-3 bg-slate-100 rounded-xl items-center"
+              className="flex-1 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl items-center"
               disabled={imageLoading}
             >
-              <Text className="text-slate-600 font-semibold">Cancel</Text>
+              <Text className="text-slate-600 dark:text-slate-300 font-semibold">Cancel</Text>
             </Pressable>
             <Pressable
               onPress={handleImageGenerate}
@@ -708,11 +702,11 @@ Guidelines:
       </Modal>
 
       {/* Footer */}
-      <View className="p-6 border-t border-slate-100 flex-row gap-3 bg-white">
+      <View className="p-6 border-t border-slate-100 dark:border-slate-800 flex-row gap-3 bg-white dark:bg-slate-900">
         {deck && (
           <Pressable
             onPress={() => onDelete(deck.id)}
-            className="p-4 bg-red-50 rounded-2xl"
+            className="p-4 bg-red-50 dark:bg-red-900/20 rounded-2xl"
           >
             <Trash2 size={24} color="#dc2626" />
           </Pressable>
diff --git a/expo-app/src/components/DeckList.tsx b/expo-app/src/components/DeckList.tsx
index 2b09ce8..afb8834 100644
--- a/expo-app/src/components/DeckList.tsx
+++ b/expo-app/src/components/DeckList.tsx
@@ -64,14 +64,14 @@ function DeckCard({
   return (
     <Animated.View
       style={[animatedStyle, cardShadow]}
-      className="bg-white border border-slate-200 rounded-2xl p-5"
+      className="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl p-5"
     >
       <View className="flex-row justify-between items-start mb-2">
         <View className="flex-1">
-          <Text className="font-semibold text-lg text-slate-800">
+          <Text className="font-semibold text-lg text-slate-800 dark:text-white">
             {deck.title}
           </Text>
-          <Text className="text-slate-500 text-sm mt-0.5" numberOfLines={1}>
+          <Text className="text-slate-500 dark:text-slate-400 text-sm mt-0.5" numberOfLines={1}>
             {deck.description || "No description"}
           </Text>
         </View>
@@ -97,7 +97,7 @@ function DeckCard({
       <View className="flex-row gap-2 mt-5">
         <Pressable
           onPress={onStudy}
-          className="flex-1 bg-indigo-50 py-2.5 rounded-xl flex-row items-center justify-center gap-2"
+          className="flex-1 bg-indigo-50 dark:bg-indigo-950/30 py-2.5 rounded-xl flex-row items-center justify-center gap-2"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.98 : 1 }],
           })}
@@ -107,17 +107,17 @@ function DeckCard({
         </Pressable>
         <Pressable
           onPress={onTest}
-          className="flex-1 bg-slate-50 py-2.5 rounded-xl flex-row items-center justify-center gap-2"
+          className="flex-1 bg-slate-50 dark:bg-slate-800 py-2.5 rounded-xl flex-row items-center justify-center gap-2"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.98 : 1 }],
           })}
         >
           <ClipboardCheck size={16} color="#334155" />
-          <Text className="text-slate-700 font-medium text-sm">Test</Text>
+          <Text className="text-slate-700 dark:text-slate-200 font-medium text-sm">Test</Text>
         </Pressable>
         <Pressable
           onPress={onEdit}
-          className="px-4 bg-slate-50 rounded-xl items-center justify-center"
+          className="px-4 bg-slate-50 dark:bg-slate-800 rounded-xl items-center justify-center"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.98 : 1 }],
           })}
@@ -133,10 +133,10 @@ export function DeckList({ decks, onEdit, onStudy, onTest }: DeckListProps) {
   if (decks.length === 0) {
     return (
       <View className="items-center justify-center h-64 gap-4">
-        <View className="w-16 h-16 bg-slate-100 rounded-full items-center justify-center">
+        <View className="w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full items-center justify-center">
           <Layout size={32} color="#94a3b8" />
         </View>
-        <Text className="text-center text-slate-400">
+        <Text className="text-center text-slate-400 dark:text-slate-500">
           No decks yet. Create your first one!
         </Text>
       </View>
diff --git a/expo-app/src/components/Flashcard.tsx b/expo-app/src/components/Flashcard.tsx
index a8e6315..e76e601 100644
--- a/expo-app/src/components/Flashcard.tsx
+++ b/expo-app/src/components/Flashcard.tsx
@@ -93,21 +93,21 @@ export function Flashcard({
             elevation: 6,
           },
         ]}
-        className="bg-white border-2 border-slate-100 rounded-[32px] p-8 items-center justify-center"
+        className="bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-[32px] p-8 items-center justify-center"
       >
         <View className="absolute top-6 left-6">
-          <Text className="text-[10px] font-bold text-slate-300 uppercase tracking-widest">
+          <Text className="text-[10px] font-bold text-slate-300 dark:text-slate-500 uppercase tracking-widest">
             Term ({frontLang})
           </Text>
         </View>
         <Pressable
           onPress={() => onSpeak(card.front, frontLang)}
-          className="absolute top-6 right-6 p-2 bg-indigo-50 rounded-full"
+          className="absolute top-6 right-6 p-2 bg-indigo-50 dark:bg-indigo-950/30 rounded-full"
         >
           <Volume2 size={20} color="#818cf8" />
         </Pressable>
         <Text
-          className="text-2xl font-medium text-slate-800 text-center leading-relaxed"
+          className="text-2xl font-medium text-slate-800 dark:text-white text-center leading-relaxed"
           style={{
             writingDirection: frontLang === "ar-SA" ? "rtl" : "ltr",
           }}
@@ -116,7 +116,7 @@ export function Flashcard({
         </Text>
         <View className="absolute bottom-8 flex-row items-center gap-2">
           <RotateCcw size={12} color="#cbd5e1" />
-          <Text className="text-slate-300 text-xs font-medium">
+          <Text className="text-slate-300 dark:text-slate-500 text-xs font-medium">
             Tap to flip
           </Text>
         </View>
@@ -135,21 +135,21 @@ export function Flashcard({
             elevation: 6,
           },
         ]}
-        className="bg-white border-2 border-slate-100 rounded-[32px] p-8 items-center justify-center"
+        className="bg-white dark:bg-slate-900 border-2 border-slate-100 dark:border-slate-800 rounded-[32px] p-8 items-center justify-center"
       >
         <View className="absolute top-6 left-6">
-          <Text className="text-[10px] font-bold text-slate-300 uppercase tracking-widest">
+          <Text className="text-[10px] font-bold text-slate-300 dark:text-slate-500 uppercase tracking-widest">
             Definition ({backLang})
           </Text>
         </View>
         <Pressable
           onPress={() => onSpeak(card.back, backLang)}
-          className="absolute top-6 right-6 p-2 bg-indigo-50 rounded-full"
+          className="absolute top-6 right-6 p-2 bg-indigo-50 dark:bg-indigo-950/30 rounded-full"
         >
           <Volume2 size={20} color="#818cf8" />
         </Pressable>
         <Text
-          className="text-xl font-medium text-slate-800 text-center leading-relaxed"
+          className="text-xl font-medium text-slate-800 dark:text-white text-center leading-relaxed"
           style={{
             writingDirection: backLang === "ar-SA" ? "rtl" : "ltr",
           }}
@@ -158,7 +158,7 @@ export function Flashcard({
         </Text>
         <View className="absolute bottom-8 flex-row items-center gap-2">
           <RotateCcw size={12} color="#cbd5e1" />
-          <Text className="text-slate-300 text-xs font-medium">
+          <Text className="text-slate-300 dark:text-slate-500 text-xs font-medium">
             Tap to flip back
           </Text>
         </View>
diff --git a/expo-app/src/components/Grammar/AnswerFeedback.tsx b/expo-app/src/components/Grammar/AnswerFeedback.tsx
index b2b5ed5..0dc78d0 100644
--- a/expo-app/src/components/Grammar/AnswerFeedback.tsx
+++ b/expo-app/src/components/Grammar/AnswerFeedback.tsx
@@ -23,9 +23,8 @@ export function AnswerFeedback({
     <Animated.View entering={FadeInDown.duration(400)} className="gap-5">
       {/* Result banner */}
       <View
-        className={`p-5 rounded-2xl flex-row items-center gap-3 ${
-          isCorrect ? "bg-emerald-50" : "bg-red-50"
-        }`}
+        className={`p-5 rounded-2xl flex-row items-center gap-3 ${isCorrect ? "bg-emerald-50 dark:bg-emerald-950/20" : "bg-red-50 dark:bg-red-950/20"
+          }`}
       >
         {isCorrect ? (
           <CheckCircle size={28} color="#059669" />
@@ -34,9 +33,8 @@ export function AnswerFeedback({
         )}
         <View className="flex-1">
           <Text
-            className={`text-lg font-bold ${
-              isCorrect ? "text-emerald-700" : "text-red-700"
-            }`}
+            className={`text-lg font-bold ${isCorrect ? "text-emerald-700 dark:text-emerald-300" : "text-red-700 dark:text-red-400"
+              }`}
           >
             {isCorrect ? "Correct!" : "Incorrect"}
           </Text>
@@ -50,26 +48,26 @@ export function AnswerFeedback({
       </View>
 
       {/* Sentence with correct answer */}
-      <View className="bg-white p-5 rounded-2xl border border-slate-100">
+      <View className="bg-white dark:bg-slate-900 p-5 rounded-2xl border border-slate-100 dark:border-slate-800">
         <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2">
           Correct Answer
         </Text>
-        <Text className="text-base text-slate-800 leading-6">
+        <Text className="text-base text-slate-800 dark:text-white leading-6">
           {question.sentence.includes("___")
             ? question.sentence.replace(
-                "___",
-                question.correctAnswer
-              )
+              "___",
+              question.correctAnswer
+            )
             : question.correctAnswer}
         </Text>
       </View>
 
       {/* Explanation */}
-      <View className="bg-indigo-50 p-5 rounded-2xl border border-indigo-100">
+      <View className="bg-indigo-50 dark:bg-indigo-950/20 p-5 rounded-2xl border border-indigo-100 dark:border-indigo-900/30">
         <Text className="text-[10px] font-bold text-indigo-500 uppercase tracking-widest mb-2">
           Explanation
         </Text>
-        <Text className="text-sm text-indigo-900 leading-5">
+        <Text className="text-sm text-indigo-900 dark:text-indigo-300 leading-5">
           {question.explanation}
         </Text>
       </View>
diff --git a/expo-app/src/components/Grammar/GrammarExplainer.tsx b/expo-app/src/components/Grammar/GrammarExplainer.tsx
index a09a0cd..b4c5ec0 100644
--- a/expo-app/src/components/Grammar/GrammarExplainer.tsx
+++ b/expo-app/src/components/Grammar/GrammarExplainer.tsx
@@ -65,21 +65,21 @@ export function GrammarExplainer({
       presentationStyle="pageSheet"
       onRequestClose={onClose}
     >
-      <View className="flex-1 bg-white">
+      <View className="flex-1 bg-white dark:bg-slate-950">
         {/* Header */}
-        <View className="p-4 flex-row items-center justify-between border-b border-slate-100">
+        <View className="p-4 flex-row items-center justify-between border-b border-slate-100 dark:border-slate-800">
           <Pressable onPress={onClose} className="p-2 -ml-2">
             <X size={24} color="#64748b" />
           </Pressable>
           <View className="items-center flex-1">
             <View className="flex-row items-center gap-1">
               <BookOpen size={12} color="#4f46e5" />
-              <Text className="text-xs font-bold text-indigo-600 uppercase tracking-widest">
+              <Text className="text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-widest">
                 Grammar Refresher
               </Text>
             </View>
             <Text
-              className="text-sm font-semibold text-slate-800"
+              className="text-sm font-semibold text-slate-800 dark:text-white"
               numberOfLines={1}
             >
               {topicLabel}
@@ -109,10 +109,10 @@ export function GrammarExplainer({
               </View>
             </View>
             <View className="items-center gap-2">
-              <Text className="text-lg font-bold text-slate-800">
+              <Text className="text-lg font-bold text-slate-800 dark:text-white">
                 Loading refresher...
               </Text>
-              <Text className="text-slate-500 text-sm text-center max-w-[240px]">
+              <Text className="text-slate-500 dark:text-slate-400 text-sm text-center max-w-[240px]">
                 AI is preparing a grammar explanation for you.
               </Text>
             </View>
@@ -154,21 +154,21 @@ function MarkdownText({ text }: { text: string }) {
         // Headers
         if (trimmed.startsWith("### ")) {
           return (
-            <Text key={i} className="text-base font-bold text-slate-800 mt-2">
+            <Text key={i} className="text-base font-bold text-slate-800 dark:text-white mt-2">
               {cleanMarkdown(trimmed.slice(4))}
             </Text>
           );
         }
         if (trimmed.startsWith("## ")) {
           return (
-            <Text key={i} className="text-lg font-bold text-slate-800 mt-3">
+            <Text key={i} className="text-lg font-bold text-slate-800 dark:text-indigo-400 mt-3">
               {cleanMarkdown(trimmed.slice(3))}
             </Text>
           );
         }
         if (trimmed.startsWith("# ")) {
           return (
-            <Text key={i} className="text-xl font-bold text-slate-800 mt-3">
+            <Text key={i} className="text-xl font-bold text-slate-800 dark:text-indigo-500 mt-3">
               {cleanMarkdown(trimmed.slice(2))}
             </Text>
           );
@@ -179,7 +179,7 @@ function MarkdownText({ text }: { text: string }) {
           return (
             <View key={i} className="flex-row gap-2 pl-2">
               <Text className="text-slate-400">â€¢</Text>
-              <Text className="text-sm text-slate-700 leading-5 flex-1">
+              <Text className="text-sm text-slate-700 dark:text-slate-300 leading-5 flex-1">
                 {cleanMarkdown(trimmed.slice(2))}
               </Text>
             </View>
@@ -191,10 +191,10 @@ function MarkdownText({ text }: { text: string }) {
         if (numberedMatch) {
           return (
             <View key={i} className="flex-row gap-2 pl-2">
-              <Text className="text-sm text-indigo-500 font-bold min-w-[20px]">
+              <Text className="text-sm text-indigo-500 dark:text-indigo-400 font-bold min-w-[20px]">
                 {numberedMatch[1]}.
               </Text>
-              <Text className="text-sm text-slate-700 leading-5 flex-1">
+              <Text className="text-sm text-slate-700 dark:text-slate-300 leading-5 flex-1">
                 {cleanMarkdown(numberedMatch[2])}
               </Text>
             </View>
@@ -211,16 +211,15 @@ function MarkdownText({ text }: { text: string }) {
           return (
             <View
               key={i}
-              className="flex-row border-b border-slate-100 py-1 px-2"
+              className="flex-row border-b border-slate-100 dark:border-slate-800 py-1 px-2"
             >
               {cells.map((cell, ci) => (
                 <Text
                   key={ci}
-                  className={`flex-1 text-sm ${
-                    i === 0
-                      ? "font-bold text-slate-700"
-                      : "text-slate-600"
-                  }`}
+                  className={`flex-1 text-sm ${i === 0
+                      ? "font-bold text-slate-700 dark:text-slate-200"
+                      : "text-slate-600 dark:text-slate-400"
+                    }`}
                 >
                   {cleanMarkdown(cell)}
                 </Text>
@@ -231,7 +230,7 @@ function MarkdownText({ text }: { text: string }) {
 
         // Regular paragraph
         return (
-          <Text key={i} className="text-sm text-slate-700 leading-5">
+          <Text key={i} className="text-sm text-slate-700 dark:text-slate-300 leading-5">
             {cleanMarkdown(trimmed)}
           </Text>
         );
diff --git a/expo-app/src/components/Grammar/GrammarSummary.tsx b/expo-app/src/components/Grammar/GrammarSummary.tsx
index 11f22d4..648e712 100644
--- a/expo-app/src/components/Grammar/GrammarSummary.tsx
+++ b/expo-app/src/components/Grammar/GrammarSummary.tsx
@@ -22,34 +22,30 @@ export function GrammarSummary({
 
   return (
     <ScrollView
-      className="flex-1 bg-slate-50"
+      className="flex-1 bg-slate-50 dark:bg-slate-950"
       contentContainerClassName="p-6 gap-6 items-center"
     >
       {/* Hero */}
       <View
-        className={`w-full p-8 rounded-3xl items-center gap-4 ${
-          passed ? "bg-emerald-50" : "bg-red-50"
-        }`}
+        className={`w-full p-8 rounded-3xl items-center gap-4 ${passed ? "bg-emerald-50 dark:bg-emerald-900/20" : "bg-red-50 dark:bg-red-900/20"
+          }`}
       >
         <View
-          className={`w-24 h-24 rounded-full items-center justify-center ${
-            passed ? "bg-emerald-100" : "bg-red-100"
-          }`}
+          className={`w-24 h-24 rounded-full items-center justify-center ${passed ? "bg-emerald-100 dark:bg-emerald-900/30" : "bg-red-100 dark:bg-red-900/30"
+            }`}
         >
           <Award size={40} color={passed ? "#059669" : "#dc2626"} />
         </View>
         <View className="items-center gap-1">
           <Text
-            className={`text-3xl font-black ${
-              passed ? "text-emerald-700" : "text-red-700"
-            }`}
+            className={`text-3xl font-black ${passed ? "text-emerald-700 dark:text-emerald-400" : "text-red-700 dark:text-red-400"
+              }`}
           >
             {result.scorePercent}%
           </Text>
           <Text
-            className={`text-sm font-bold uppercase tracking-widest ${
-              passed ? "text-emerald-600" : "text-red-600"
-            }`}
+            className={`text-sm font-bold uppercase tracking-widest ${passed ? "text-emerald-600 dark:text-emerald-300" : "text-red-600 dark:text-red-400"
+              }`}
           >
             {passed ? "Great Job!" : "Keep Practicing"}
           </Text>
@@ -71,7 +67,7 @@ export function GrammarSummary({
           return (
             <View
               key={question.id}
-              className="bg-white p-4 rounded-xl border border-slate-100 gap-2"
+              className="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 gap-2"
             >
               <View className="flex-row items-center justify-between">
                 <Text className="text-xs text-slate-400 font-bold">
@@ -83,7 +79,7 @@ export function GrammarSummary({
                   <XCircle size={18} color="#dc2626" />
                 )}
               </View>
-              <Text className="text-sm text-slate-700" numberOfLines={2}>
+              <Text className="text-sm text-slate-700 dark:text-slate-200" numberOfLines={2}>
                 {question.sentence}
               </Text>
               {!isCorrect && answer && (
@@ -119,13 +115,13 @@ export function GrammarSummary({
 
         <Pressable
           onPress={onHome}
-          className="w-full py-4 bg-white border border-slate-200 rounded-2xl flex-row items-center justify-center gap-2"
+          className="w-full py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl flex-row items-center justify-center gap-2"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.98 : 1 }],
           })}
         >
-          <Home size={18} color="#64748b" />
-          <Text className="text-slate-600 font-semibold">Back to Home</Text>
+          <Home size={18} color={passed ? "#64748b" : "#94a3b8"} />
+          <Text className="text-slate-600 dark:text-slate-300 font-semibold">Back to Home</Text>
         </Pressable>
       </View>
     </ScrollView>
diff --git a/expo-app/src/components/Grammar/QuestionCard.tsx b/expo-app/src/components/Grammar/QuestionCard.tsx
index ffc998f..f3f2a50 100644
--- a/expo-app/src/components/Grammar/QuestionCard.tsx
+++ b/expo-app/src/components/Grammar/QuestionCard.tsx
@@ -18,13 +18,13 @@ export function QuestionCard({
 }: QuestionCardProps) {
   return (
     <Animated.View entering={FadeInDown.duration(400)} className="gap-6">
-      <View className="bg-white p-5 rounded-2xl border border-slate-100">
+      <View className="bg-white dark:bg-slate-900 p-5 rounded-2xl border border-slate-100 dark:border-slate-800">
         <Text className="text-[10px] font-bold text-indigo-500 uppercase tracking-widest mb-2">
           {question.type === "fill-in-the-blank"
             ? "Fill in the blank"
             : "Multiple Choice"}
         </Text>
-        <Text className="text-lg font-semibold text-slate-800 leading-7">
+        <Text className="text-lg font-semibold text-slate-800 dark:text-white leading-7">
           {question.sentence}
         </Text>
       </View>
@@ -44,32 +44,28 @@ export function QuestionCard({
               key={option}
               onPress={() => !disabled && onAnswer(option)}
               disabled={disabled}
-              className={`p-4 rounded-xl border-2 flex-row items-center gap-3 ${
-                isSelected
-                  ? "bg-indigo-50 border-indigo-400"
-                  : "bg-white border-slate-100"
-              }`}
+              className={`p-4 rounded-xl border-2 flex-row items-center gap-3 ${isSelected
+                  ? "bg-indigo-50 dark:bg-indigo-950/30 border-indigo-400"
+                  : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                }`}
               style={({ pressed }) => ({
                 transform: [{ scale: pressed && !disabled ? 0.98 : 1 }],
               })}
             >
               <View
-                className={`w-8 h-8 rounded-full items-center justify-center ${
-                  isSelected ? "bg-indigo-500" : "bg-slate-100"
-                }`}
+                className={`w-8 h-8 rounded-full items-center justify-center ${isSelected ? "bg-indigo-500" : "bg-slate-100 dark:bg-slate-800"
+                  }`}
               >
                 <Text
-                  className={`text-sm font-bold ${
-                    isSelected ? "text-white" : "text-slate-500"
-                  }`}
+                  className={`text-sm font-bold ${isSelected ? "text-white" : "text-slate-500"
+                    }`}
                 >
                   {letter}
                 </Text>
               </View>
               <Text
-                className={`text-sm font-medium flex-1 ${
-                  isSelected ? "text-indigo-700" : "text-slate-700"
-                }`}
+                className={`text-sm font-medium flex-1 ${isSelected ? "text-indigo-700 dark:text-indigo-300" : "text-slate-700 dark:text-slate-300"
+                  }`}
               >
                 {option}
               </Text>
diff --git a/expo-app/src/components/Grammar/TopicSelector.tsx b/expo-app/src/components/Grammar/TopicSelector.tsx
index ad797a3..d491372 100644
--- a/expo-app/src/components/Grammar/TopicSelector.tsx
+++ b/expo-app/src/components/Grammar/TopicSelector.tsx
@@ -29,23 +29,23 @@ interface TopicSelectorProps {
 }
 
 const TOPIC_COLORS: Record<string, { bg: string; border: string; text: string; badge: string }> = {
-  emerald: { bg: "bg-emerald-50", border: "border-emerald-300", text: "text-emerald-700", badge: "bg-emerald-100" },
-  blue: { bg: "bg-blue-50", border: "border-blue-300", text: "text-blue-700", badge: "bg-blue-100" },
-  violet: { bg: "bg-violet-50", border: "border-violet-300", text: "text-violet-700", badge: "bg-violet-100" },
-  rose: { bg: "bg-rose-50", border: "border-rose-300", text: "text-rose-700", badge: "bg-rose-100" },
-  amber: { bg: "bg-amber-50", border: "border-amber-300", text: "text-amber-700", badge: "bg-amber-100" },
-  cyan: { bg: "bg-cyan-50", border: "border-cyan-300", text: "text-cyan-700", badge: "bg-cyan-100" },
-  indigo: { bg: "bg-indigo-50", border: "border-indigo-300", text: "text-indigo-700", badge: "bg-indigo-100" },
-  pink: { bg: "bg-pink-50", border: "border-pink-300", text: "text-pink-700", badge: "bg-pink-100" },
-  teal: { bg: "bg-teal-50", border: "border-teal-300", text: "text-teal-700", badge: "bg-teal-100" },
-  orange: { bg: "bg-orange-50", border: "border-orange-300", text: "text-orange-700", badge: "bg-orange-100" },
-  lime: { bg: "bg-lime-50", border: "border-lime-300", text: "text-lime-700", badge: "bg-lime-100" },
-  sky: { bg: "bg-sky-50", border: "border-sky-300", text: "text-sky-700", badge: "bg-sky-100" },
-  fuchsia: { bg: "bg-fuchsia-50", border: "border-fuchsia-300", text: "text-fuchsia-700", badge: "bg-fuchsia-100" },
-  red: { bg: "bg-red-50", border: "border-red-300", text: "text-red-700", badge: "bg-red-100" },
-  yellow: { bg: "bg-yellow-50", border: "border-yellow-300", text: "text-yellow-700", badge: "bg-yellow-100" },
-  stone: { bg: "bg-stone-50", border: "border-stone-300", text: "text-stone-700", badge: "bg-stone-100" },
-  purple: { bg: "bg-purple-50", border: "border-purple-300", text: "text-purple-700", badge: "bg-purple-100" },
+  emerald: { bg: "bg-emerald-50 dark:bg-emerald-950/20", border: "border-emerald-300 dark:border-emerald-800", text: "text-emerald-700 dark:text-emerald-400", badge: "bg-emerald-100 dark:bg-emerald-900/40" },
+  blue: { bg: "bg-blue-50 dark:bg-blue-950/20", border: "border-blue-300 dark:border-blue-800", text: "text-blue-700 dark:text-blue-400", badge: "bg-blue-100 dark:bg-blue-900/40" },
+  violet: { bg: "bg-violet-50 dark:bg-violet-950/20", border: "border-violet-300 dark:border-violet-800", text: "text-violet-700 dark:text-violet-400", badge: "bg-violet-100 dark:bg-violet-900/40" },
+  rose: { bg: "bg-rose-50 dark:bg-rose-950/20", border: "border-rose-300 dark:border-rose-800", text: "text-rose-700 dark:text-rose-400", badge: "bg-rose-100 dark:bg-rose-900/40" },
+  amber: { bg: "bg-amber-50 dark:bg-amber-950/20", border: "border-amber-300 dark:border-amber-800", text: "text-amber-700 dark:text-amber-400", badge: "bg-amber-100 dark:bg-amber-900/40" },
+  cyan: { bg: "bg-cyan-50 dark:bg-cyan-950/20", border: "border-cyan-300 dark:border-cyan-800", text: "text-cyan-700 dark:text-cyan-400", badge: "bg-cyan-100 dark:bg-cyan-900/40" },
+  indigo: { bg: "bg-indigo-50 dark:bg-indigo-950/20", border: "border-indigo-300 dark:border-indigo-800", text: "text-indigo-700 dark:text-indigo-400", badge: "bg-indigo-100 dark:bg-indigo-900/40" },
+  pink: { bg: "bg-pink-50 dark:bg-pink-950/20", border: "border-pink-300 dark:border-pink-800", text: "text-pink-700 dark:text-pink-400", badge: "bg-pink-100 dark:bg-pink-900/40" },
+  teal: { bg: "bg-teal-50 dark:bg-teal-950/20", border: "border-teal-300 dark:border-teal-800", text: "text-teal-700 dark:text-teal-400", badge: "bg-teal-100 dark:bg-teal-900/40" },
+  orange: { bg: "bg-orange-50 dark:bg-orange-950/20", border: "border-orange-300 dark:border-orange-800", text: "text-orange-700 dark:text-orange-400", badge: "bg-orange-100 dark:bg-orange-900/40" },
+  lime: { bg: "bg-lime-50 dark:bg-lime-950/20", border: "border-lime-300 dark:border-lime-800", text: "text-lime-700 dark:text-lime-400", badge: "bg-lime-100 dark:bg-lime-900/40" },
+  sky: { bg: "bg-sky-50 dark:bg-sky-950/20", border: "border-sky-300 dark:border-sky-800", text: "text-sky-700 dark:text-sky-400", badge: "bg-sky-100 dark:bg-sky-900/40" },
+  fuchsia: { bg: "bg-fuchsia-50 dark:bg-fuchsia-950/20", border: "border-fuchsia-300 dark:border-fuchsia-800", text: "text-fuchsia-700 dark:text-fuchsia-400", badge: "bg-fuchsia-100 dark:bg-fuchsia-900/40" },
+  red: { bg: "bg-red-50 dark:bg-red-950/20", border: "border-red-300 dark:border-red-800", text: "text-red-700 dark:text-red-400", badge: "bg-red-100 dark:bg-red-900/40" },
+  yellow: { bg: "bg-yellow-50 dark:bg-yellow-950/20", border: "border-yellow-300 dark:border-yellow-800", text: "text-yellow-700 dark:text-yellow-400", badge: "bg-yellow-100 dark:bg-yellow-900/40" },
+  stone: { bg: "bg-stone-50 dark:bg-stone-950/20", border: "border-stone-300 dark:border-stone-800", text: "text-stone-700 dark:text-stone-400", badge: "bg-stone-100 dark:bg-stone-900/40" },
+  purple: { bg: "bg-purple-50 dark:bg-purple-950/20", border: "border-purple-300 dark:border-purple-800", text: "text-purple-700 dark:text-purple-400", badge: "bg-purple-100 dark:bg-purple-900/40" },
 };
 
 const QUESTION_COUNT_OPTIONS = [5, 10, 15, 20];
@@ -132,16 +132,15 @@ export function TopicSelector({
             }}
             placeholder="e.g. possessive pronouns, conjunctions..."
             placeholderTextColor="#94a3b8"
-            className="flex-1 px-4 py-3 rounded-xl border-2 border-slate-200 bg-white text-sm text-slate-800"
+            className="flex-1 px-4 py-3 rounded-xl border-2 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-sm text-slate-800 dark:text-white"
           />
           <Pressable
             onPress={handleGenerateTitle}
             disabled={customTopic.trim().length < 4 || isGeneratingTitle}
-            className={`px-3 py-3 rounded-xl border-2 flex-row items-center gap-1.5 ${
-              customTopic.trim().length >= 4 && !isGeneratingTitle
-                ? "bg-indigo-50 border-indigo-300"
-                : "bg-slate-50 border-slate-200"
-            }`}
+            className={`px-3 py-3 rounded-xl border-2 flex-row items-center gap-1.5 ${customTopic.trim().length >= 4 && !isGeneratingTitle
+                ? "bg-indigo-50 dark:bg-indigo-900/20 border-indigo-300 dark:border-indigo-800"
+                : "bg-slate-50 dark:bg-slate-900 border-slate-200 dark:border-slate-800"
+              }`}
           >
             {isGeneratingTitle ? (
               <ActivityIndicator size="small" color="#4f46e5" />
@@ -152,11 +151,10 @@ export function TopicSelector({
               />
             )}
             <Text
-              className={`text-xs font-semibold ${
-                customTopic.trim().length >= 4 && !isGeneratingTitle
+              className={`text-xs font-semibold ${customTopic.trim().length >= 4 && !isGeneratingTitle
                   ? "text-indigo-600"
                   : "text-slate-400"
-              }`}
+                }`}
             >
               AI Title
             </Text>
@@ -165,12 +163,12 @@ export function TopicSelector({
 
         {/* Suggested title row */}
         {suggestedTitle && (
-          <View className="mt-2 p-3 rounded-xl bg-indigo-50 border border-indigo-200">
+          <View className="mt-2 p-3 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800">
             <Text className="text-xs text-indigo-500 mb-1 font-medium">
               Suggested title:
             </Text>
             <View className="flex-row items-center justify-between gap-2">
-              <Text className="flex-1 text-sm font-semibold text-indigo-800">
+              <Text className="flex-1 text-sm font-semibold text-indigo-800 dark:text-indigo-300">
                 {suggestedTitle}
               </Text>
               <Pressable
@@ -190,20 +188,18 @@ export function TopicSelector({
           <Pressable
             onPress={handleSaveTopic}
             disabled={savedFeedback}
-            className={`mt-2 flex-row items-center gap-2 px-4 py-2.5 rounded-xl border-2 self-start ${
-              savedFeedback
-                ? "bg-emerald-50 border-emerald-300"
-                : "bg-white border-slate-200"
-            }`}
+            className={`mt-2 flex-row items-center gap-2 px-4 py-2.5 rounded-xl border-2 self-start ${savedFeedback
+                ? "bg-emerald-50 dark:bg-emerald-900/20 border-emerald-300 dark:border-emerald-800"
+                : "bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800"
+              }`}
           >
             <Bookmark
               size={14}
               color={savedFeedback ? "#059669" : "#64748b"}
             />
             <Text
-              className={`text-xs font-semibold ${
-                savedFeedback ? "text-emerald-600" : "text-slate-500"
-              }`}
+              className={`text-xs font-semibold ${savedFeedback ? "text-emerald-600" : "text-slate-500"
+                }`}
             >
               {savedFeedback ? "Saved!" : "Save Topic"}
             </Text>
@@ -225,20 +221,18 @@ export function TopicSelector({
                 <Pressable
                   key={topic.id}
                   onPress={() => onSelectSavedTopic(topic)}
-                  className={`p-3 rounded-xl border-2 flex-row items-center justify-between ${
-                    isSelected
+                  className={`p-3 rounded-xl border-2 flex-row items-center justify-between ${isSelected
                       ? `${colors.bg} ${colors.border}`
-                      : "bg-white border-slate-100"
-                  }`}
+                      : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                    }`}
                   style={({ pressed }) => ({
                     transform: [{ scale: pressed ? 0.98 : 1 }],
                   })}
                 >
                   <View className="flex-1 mr-2">
                     <Text
-                      className={`text-sm font-bold ${
-                        isSelected ? colors.text : "text-slate-800"
-                      }`}
+                      className={`text-sm font-bold ${isSelected ? colors.text : "text-slate-800 dark:text-white"
+                        }`}
                     >
                       {topic.title}
                     </Text>
@@ -293,11 +287,10 @@ export function TopicSelector({
                   onSelectTopic(topic.id);
                   onChangeCustomTopic("");
                 }}
-                className={`p-4 rounded-2xl border-2 ${
-                  isSelected
+                className={`p-4 rounded-2xl border-2 ${isSelected
                     ? `${colors.bg} ${colors.border}`
-                    : "bg-white border-slate-100"
-                }`}
+                    : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                  }`}
                 style={({ pressed }) => ({
                   transform: [{ scale: pressed ? 0.98 : 1 }],
                 })}
@@ -306,21 +299,18 @@ export function TopicSelector({
                   <View className="flex-1 gap-1">
                     <View className="flex-row items-center gap-2">
                       <Text
-                        className={`font-bold ${
-                          isSelected ? colors.text : "text-slate-800"
-                        }`}
+                        className={`font-bold ${isSelected ? colors.text : "text-slate-800 dark:text-white"
+                          }`}
                       >
                         {topic.label}
                       </Text>
                       <View
-                        className={`px-2 py-0.5 rounded-full ${
-                          isSelected ? colors.badge : "bg-slate-100"
-                        }`}
+                        className={`px-2 py-0.5 rounded-full ${isSelected ? colors.badge : "bg-slate-100"
+                          }`}
                       >
                         <Text
-                          className={`text-[10px] font-bold ${
-                            isSelected ? colors.text : "text-slate-500"
-                          }`}
+                          className={`text-[10px] font-bold ${isSelected ? colors.text : "text-slate-500"
+                            }`}
                         >
                           {topic.labelDa}
                         </Text>
@@ -362,19 +352,17 @@ export function TopicSelector({
               <Pressable
                 key={count}
                 onPress={() => onChangeQuestionCount(count)}
-                className={`flex-1 py-3 rounded-xl border-2 items-center ${
-                  isSelected
-                    ? "bg-indigo-50 border-indigo-400"
-                    : "bg-white border-slate-100"
-                }`}
+                className={`flex-1 py-3 rounded-xl border-2 items-center ${isSelected
+                    ? "bg-indigo-50 dark:bg-indigo-900/20 border-indigo-400 dark:border-indigo-700"
+                    : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                  }`}
                 style={({ pressed }) => ({
                   transform: [{ scale: pressed ? 0.96 : 1 }],
                 })}
               >
                 <Text
-                  className={`text-base font-bold ${
-                    isSelected ? "text-indigo-600" : "text-slate-600"
-                  }`}
+                  className={`text-base font-bold ${isSelected ? "text-indigo-600" : "text-slate-600"
+                    }`}
                 >
                   {count}
                 </Text>
@@ -388,17 +376,15 @@ export function TopicSelector({
       <Pressable
         onPress={onStart}
         disabled={!canStart}
-        className={`w-full py-4 rounded-2xl items-center flex-row justify-center gap-2 ${
-          canStart ? "bg-indigo-500" : "bg-slate-200"
-        }`}
+        className={`w-full py-4 rounded-2xl items-center flex-row justify-center gap-2 ${canStart ? "bg-indigo-500" : "bg-slate-200 dark:bg-slate-800"
+          }`}
         style={({ pressed }) => ({
           transform: [{ scale: pressed && canStart ? 0.98 : 1 }],
         })}
       >
         <Text
-          className={`font-semibold ${
-            canStart ? "text-white" : "text-slate-400"
-          }`}
+          className={`font-semibold ${canStart ? "text-white" : "text-slate-400"
+            }`}
         >
           Start Quiz ({questionCount} questions)
         </Text>
diff --git a/expo-app/src/components/LanguagePicker.tsx b/expo-app/src/components/LanguagePicker.tsx
index 12d2efe..e3ae3cc 100644
--- a/expo-app/src/components/LanguagePicker.tsx
+++ b/expo-app/src/components/LanguagePicker.tsx
@@ -22,9 +22,9 @@ export function LanguagePicker({ value, onChange, label }: LanguagePickerProps)
         </Text>
         <Pressable
           onPress={() => setOpen(true)}
-          className="bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 flex-row items-center justify-between"
+          className="bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-4 py-3 flex-row items-center justify-between"
         >
-          <Text className="text-sm font-medium">
+          <Text className="text-sm font-medium dark:text-white">
             {selected?.flag} {selected?.label}
           </Text>
           <ChevronDown size={16} color="#94a3b8" />
@@ -36,7 +36,7 @@ export function LanguagePicker({ value, onChange, label }: LanguagePickerProps)
           className="flex-1 bg-black/40"
           onPress={() => setOpen(false)}
         />
-        <View className="bg-white rounded-t-3xl p-6 pb-10">
+        <View className="bg-white dark:bg-slate-900 rounded-t-3xl p-6 pb-10">
           <Text className="font-bold text-lg mb-4">{label}</Text>
           {LANGUAGES.map((lang) => (
             <Pressable
@@ -45,9 +45,9 @@ export function LanguagePicker({ value, onChange, label }: LanguagePickerProps)
                 onChange(lang.value);
                 setOpen(false);
               }}
-              className="flex-row items-center justify-between py-4 border-b border-slate-100"
+              className="flex-row items-center justify-between py-4 border-b border-slate-100 dark:border-slate-800"
             >
-              <Text className="text-base font-medium">
+              <Text className="text-base font-medium dark:text-white">
                 {lang.flag} {lang.label}
               </Text>
               {lang.value === value && <Check size={20} color="#4f46e5" />}
diff --git a/expo-app/src/components/StudySession.tsx b/expo-app/src/components/StudySession.tsx
index e774582..0b4018c 100644
--- a/expo-app/src/components/StudySession.tsx
+++ b/expo-app/src/components/StudySession.tsx
@@ -45,9 +45,9 @@ export function StudySession({
   };
 
   return (
-    <View className="flex-1 bg-slate-50">
+    <View className="flex-1 bg-slate-50 dark:bg-slate-950">
       {/* Header */}
-      <View className="p-4 flex-row items-center justify-between bg-white border-b border-slate-100">
+      <View className="p-4 flex-row items-center justify-between bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <Pressable onPress={onCancel} className="p-2 -ml-2">
           <X size={24} color="#64748b" />
         </Pressable>
@@ -55,7 +55,7 @@ export function StudySession({
           <Text className="text-xs font-bold text-slate-400 uppercase tracking-widest">
             Studying
           </Text>
-          <Text className="font-semibold text-sm" numberOfLines={1}>
+          <Text className="font-semibold text-sm text-slate-900 dark:text-white" numberOfLines={1}>
             {deck.title}
           </Text>
         </View>
@@ -63,7 +63,7 @@ export function StudySession({
       </View>
 
       {/* Progress */}
-      <View className="px-6 py-4 bg-white">
+      <View className="px-6 py-4 bg-white dark:bg-slate-900">
         <View className="flex-row justify-between items-center mb-2">
           <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-tight">
             Progress
@@ -72,7 +72,7 @@ export function StudySession({
             {currentIndex + 1} / {deck.cards.length}
           </Text>
         </View>
-        <View className="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
+        <View className="h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
           <View
             style={{ width: `${progress}%` }}
             className="h-full bg-indigo-500 rounded-full"
@@ -96,10 +96,10 @@ export function StudySession({
       </View>
 
       {/* Footer */}
-      <View className="p-8 flex-row gap-4 bg-white border-t border-slate-100">
+      <View className="p-8 flex-row gap-4 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800">
         <Pressable
           onPress={() => handleSwipe(false)}
-          className="flex-1 items-center justify-center gap-2 py-6 rounded-2xl bg-red-50 border border-red-100"
+          className="flex-1 items-center justify-center gap-2 py-6 rounded-2xl bg-red-50 dark:bg-red-950/20 border border-red-100 dark:border-red-900/50"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.95 : 1 }],
           })}
@@ -111,7 +111,7 @@ export function StudySession({
         </Pressable>
         <Pressable
           onPress={() => handleSwipe(true)}
-          className="flex-1 items-center justify-center gap-2 py-6 rounded-2xl bg-green-50 border border-green-100"
+          className="flex-1 items-center justify-center gap-2 py-6 rounded-2xl bg-green-50 dark:bg-green-950/20 border border-green-100 dark:border-green-900/50"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.95 : 1 }],
           })}
diff --git a/expo-app/src/components/Summary.tsx b/expo-app/src/components/Summary.tsx
index da27e61..e66676d 100644
--- a/expo-app/src/components/Summary.tsx
+++ b/expo-app/src/components/Summary.tsx
@@ -27,53 +27,53 @@ export function Summary({ results, deckTitle, onHome, onRetry }: SummaryProps) {
   }));
 
   return (
-    <View className="flex-1 bg-white p-6">
+    <View className="flex-1 bg-white dark:bg-slate-950 p-6">
       <View className="flex-1 items-center justify-center gap-8">
         <Animated.View
           style={iconStyle}
-          className="w-24 h-24 bg-green-50 rounded-full items-center justify-center"
+          className="w-24 h-24 bg-green-50 dark:bg-green-900/20 rounded-full items-center justify-center"
         >
           <Award size={48} color="#22c55e" />
         </Animated.View>
 
         <View className="items-center gap-2">
-          <Text className="text-3xl font-bold text-slate-900">
+          <Text className="text-3xl font-bold text-slate-900 dark:text-white">
             Session Complete!
           </Text>
-          <Text className="text-slate-500">
+          <Text className="text-slate-500 dark:text-slate-400">
             You've finished studying{" "}
-            <Text className="font-semibold text-indigo-600">{deckTitle}</Text>
+            <Text className="font-semibold text-indigo-600 dark:text-indigo-400">{deckTitle}</Text>
           </Text>
         </View>
 
         <View className="flex-row gap-4 w-full max-w-[384px]">
-          <View className="flex-1 bg-slate-50 p-6 rounded-3xl border border-slate-100 items-center">
+          <View className="flex-1 bg-slate-50 dark:bg-slate-900 p-6 rounded-3xl border border-slate-100 dark:border-slate-800 items-center">
             <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">
               Score
             </Text>
-            <Text className="text-2xl font-bold text-slate-800">
+            <Text className="text-2xl font-bold text-slate-800 dark:text-white">
               {percentage}%
             </Text>
           </View>
-          <View className="flex-1 bg-slate-50 p-6 rounded-3xl border border-slate-100 items-center">
+          <View className="flex-1 bg-slate-50 dark:bg-slate-900 p-6 rounded-3xl border border-slate-100 dark:border-slate-800 items-center">
             <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">
               Correct
             </Text>
-            <Text className="text-2xl font-bold text-slate-800">
+            <Text className="text-2xl font-bold text-slate-800 dark:text-white">
               {results.correct}/{results.total}
             </Text>
           </View>
         </View>
 
-        <View className="w-full max-w-[384px] p-5 bg-indigo-50 border border-indigo-100 rounded-2xl flex-row items-center gap-4">
-          <View className="p-2 bg-indigo-100 rounded-lg">
+        <View className="w-full max-w-[384px] p-5 bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-100 dark:border-indigo-900/30 rounded-2xl flex-row items-center gap-4">
+          <View className="p-2 bg-indigo-100 dark:bg-indigo-900/40 rounded-lg">
             <TrendingUp size={20} color="#4f46e5" />
           </View>
           <View className="flex-1">
             <Text className="text-xs font-bold text-indigo-400 uppercase tracking-tight">
               Next Step
             </Text>
-            <Text className="text-sm font-medium text-indigo-800">
+            <Text className="text-sm font-medium text-indigo-800 dark:text-indigo-300">
               Review your incorrect cards later today.
             </Text>
           </View>
@@ -91,11 +91,11 @@ export function Summary({ results, deckTitle, onHome, onRetry }: SummaryProps) {
         </Pressable>
         <Pressable
           onPress={onHome}
-          className="w-full bg-slate-50 py-4 rounded-2xl flex-row items-center justify-center gap-2"
+          className="w-full bg-slate-50 dark:bg-slate-900 py-4 rounded-2xl flex-row items-center justify-center gap-2"
           style={({ pressed }) => ({ opacity: pressed ? 0.9 : 1 })}
         >
           <Home size={20} color="#475569" />
-          <Text className="text-slate-600 font-semibold">Back to Home</Text>
+          <Text className="text-slate-600 dark:text-slate-300 font-semibold">Back to Home</Text>
         </Pressable>
       </View>
     </View>
diff --git a/expo-app/src/components/TestMode.tsx b/expo-app/src/components/TestMode.tsx
index c8336f6..431def6 100644
--- a/expo-app/src/components/TestMode.tsx
+++ b/expo-app/src/components/TestMode.tsx
@@ -336,7 +336,7 @@ Return ONLY the JSON array.`,
 
     const isCorrect = isWrittenInput
       ? answer.trim().toLowerCase() ===
-        current.correctAnswer.trim().toLowerCase()
+      current.correctAnswer.trim().toLowerCase()
       : answer === current.correctAnswer;
 
     if (isCorrect) setCorrectCount((prev) => prev + 1);
@@ -358,7 +358,7 @@ Return ONLY the JSON array.`,
 
   if (loading) {
     return (
-      <View className="flex-1 items-center justify-center p-8 gap-6">
+      <View className="flex-1 bg-white dark:bg-slate-950 items-center justify-center p-8 gap-6">
         <View className="relative items-center justify-center">
           <Animated.View
             style={[
@@ -370,6 +370,7 @@ Return ONLY the JSON array.`,
                 borderWidth: 4,
                 borderColor: "#e0e7ff",
                 borderTopColor: "#4f46e5",
+                backgroundColor: "transparent",
               },
             ]}
           />
@@ -378,7 +379,7 @@ Return ONLY the JSON array.`,
           </View>
         </View>
         <View className="items-center gap-2">
-          <Text className="text-xl font-bold text-slate-800">
+          <Text className="text-xl font-bold text-slate-800 dark:text-white">
             AI is crafting your test...
           </Text>
           <Text className="text-slate-500 text-sm text-center max-w-[240px]">
@@ -399,13 +400,13 @@ Return ONLY the JSON array.`,
 
   const isAnswerCorrect = isWrittenInput
     ? userAnswer.trim().toLowerCase() ===
-      current.correctAnswer.trim().toLowerCase()
+    current.correctAnswer.trim().toLowerCase()
     : userAnswer === current.correctAnswer;
 
   return (
-    <View className="flex-1 bg-slate-50">
+    <View className="flex-1 bg-slate-50 dark:bg-slate-950">
       {/* Header */}
-      <View className="p-4 flex-row items-center justify-between bg-white border-b border-slate-100">
+      <View className="p-4 flex-row items-center justify-between bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <Pressable
           onPress={() => {
             Speech.stop();
@@ -422,7 +423,7 @@ Return ONLY the JSON array.`,
               AI Test Mode
             </Text>
           </View>
-          <Text className="font-semibold text-sm" numberOfLines={1}>
+          <Text className="font-semibold text-sm text-slate-900 dark:text-white" numberOfLines={1}>
             {deck.title}
           </Text>
         </View>
@@ -430,7 +431,7 @@ Return ONLY the JSON array.`,
       </View>
 
       {/* Progress */}
-      <View className="px-6 py-4 bg-white border-b border-slate-100">
+      <View className="px-6 py-4 bg-white dark:bg-slate-900 border-b border-slate-100 dark:border-slate-800">
         <View className="flex-row justify-between items-center mb-2">
           <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-tight">
             Progress
@@ -439,7 +440,7 @@ Return ONLY the JSON array.`,
             {currentIndex + 1} / {questions.length}
           </Text>
         </View>
-        <View className="h-1 w-full bg-slate-100 rounded-full overflow-hidden">
+        <View className="h-1 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
           <View
             style={{ width: `${progressPercent}%` }}
             className="h-full bg-indigo-500 rounded-full"
@@ -455,7 +456,7 @@ Return ONLY the JSON array.`,
       >
         <View className="w-full max-w-[384px] gap-8">
           <View className="items-center gap-4">
-            <View className="px-3 py-1 bg-indigo-50 rounded-full">
+            <View className="px-3 py-1 bg-indigo-50 dark:bg-indigo-950/30 rounded-full">
               <Text className="text-indigo-600 text-[10px] font-bold uppercase tracking-widest">
                 {current.type === "sound"
                   ? "listening"
@@ -465,7 +466,7 @@ Return ONLY the JSON array.`,
 
             {/* Non-sound prompt */}
             {current.type !== "sound" && (
-              <Text className="text-2xl font-bold text-slate-800 text-center leading-relaxed">
+              <Text className="text-2xl font-bold text-slate-800 dark:text-white text-center leading-relaxed">
                 {current.prompt}
               </Text>
             )}
@@ -473,7 +474,7 @@ Return ONLY the JSON array.`,
             {/* Sound prompt: speaker button */}
             {current.type === "sound" && (
               <View className="items-center gap-4">
-                <Text className="text-base text-slate-500 text-center">
+                <Text className="text-base text-slate-500 dark:text-slate-400 text-center">
                   {current.prompt}
                 </Text>
                 <Pressable
@@ -524,15 +525,16 @@ Return ONLY the JSON array.`,
                     key={idx}
                     disabled={showFeedback}
                     onPress={() => handleAnswer(option)}
-                    className={`w-full p-4 rounded-2xl border-2 ${
-                      showFeedback
-                        ? isCorrectOption
-                          ? "bg-green-50 border-green-500"
-                          : isSelected
-                          ? "bg-red-50 border-red-500"
-                          : "bg-white border-slate-100"
-                        : "bg-white border-slate-100"
-                    }`}
+                    className={`w-full p-4 rounded-2xl border-2 ${showFeedback
+                      ? isCorrectOption
+                        ? "bg-green-50 dark:bg-green-950/20 border-green-500"
+                        : isSelected
+                          ? "bg-red-50 dark:bg-red-900/20 border-red-500"
+                          : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                      : isSelected
+                        ? "bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500"
+                        : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                      }`}
                     style={({ pressed }) =>
                       !showFeedback
                         ? { transform: [{ scale: pressed ? 0.98 : 1 }] }
@@ -541,15 +543,14 @@ Return ONLY the JSON array.`,
                   >
                     <View className="flex-row items-center justify-between">
                       <Text
-                        className={`font-medium ${
-                          showFeedback
-                            ? isCorrectOption
-                              ? "text-green-700"
-                              : isSelected
-                              ? "text-red-700"
-                              : "text-slate-400"
-                            : "text-slate-800"
-                        }`}
+                        className={`font-medium ${showFeedback
+                          ? isCorrectOption
+                            ? "text-green-700 dark:text-green-400"
+                            : isSelected
+                              ? "text-red-700 dark:text-red-400"
+                              : "text-slate-400 dark:text-slate-600"
+                          : "text-slate-800 dark:text-white"
+                          }`}
                       >
                         {option}
                       </Text>
@@ -575,15 +576,14 @@ Return ONLY the JSON array.`,
                       key={val}
                       disabled={showFeedback}
                       onPress={() => handleAnswer(val)}
-                      className={`flex-1 p-6 rounded-2xl border-2 items-center ${
-                        showFeedback
-                          ? isCorrectVal
-                            ? "bg-green-50 border-green-500"
-                            : isSelected
-                            ? "bg-red-50 border-red-500"
-                            : "bg-white border-slate-100"
-                          : "bg-white border-slate-100"
-                      }`}
+                      className={`flex-1 p-6 rounded-2xl border-2 items-center ${showFeedback
+                        ? isCorrectVal
+                          ? "bg-green-50 dark:bg-green-950/20 border-green-500"
+                          : isSelected
+                            ? "bg-red-50 dark:bg-red-950/20 border-red-500"
+                            : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                        : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                        }`}
                       style={({ pressed }) =>
                         !showFeedback
                           ? { transform: [{ scale: pressed ? 0.98 : 1 }] }
@@ -591,15 +591,14 @@ Return ONLY the JSON array.`,
                       }
                     >
                       <Text
-                        className={`font-bold capitalize ${
-                          showFeedback
-                            ? isCorrectVal
-                              ? "text-green-700"
-                              : isSelected
-                              ? "text-red-700"
-                              : "text-slate-400"
-                            : "text-slate-700"
-                        }`}
+                        className={`font-bold capitalize ${showFeedback
+                          ? isCorrectVal
+                            ? "text-green-700"
+                            : isSelected
+                              ? "text-red-700 dark:text-red-400"
+                              : "text-slate-400 dark:text-slate-600"
+                          : "text-slate-700 dark:text-white"
+                          }`}
                       >
                         {val}
                       </Text>
@@ -621,13 +620,12 @@ Return ONLY the JSON array.`,
                   returnKeyType="done"
                   placeholder="Type the answer..."
                   placeholderTextColor="#94a3b8"
-                  className={`w-full p-4 rounded-2xl border-2 text-base ${
-                    showFeedback
-                      ? isAnswerCorrect
-                        ? "bg-green-50 border-green-500 text-green-700"
-                        : "bg-red-50 border-red-500 text-red-700"
-                      : "bg-white border-slate-200 text-slate-900"
-                  }`}
+                  className={`w-full p-4 rounded-2xl border-2 text-base ${showFeedback
+                    ? isAnswerCorrect
+                      ? "bg-green-50 dark:bg-green-950/20 border-green-500 text-green-700 dark:text-green-400"
+                      : "bg-red-50 dark:bg-red-950/20 border-red-500 text-red-700 dark:text-red-400"
+                    : "bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white"
+                    }`}
                 />
                 {!showFeedback && (
                   <Pressable
@@ -656,15 +654,16 @@ Return ONLY the JSON array.`,
                     key={idx}
                     disabled={showFeedback}
                     onPress={() => handleAnswer(option)}
-                    className={`w-full p-4 rounded-2xl border-2 ${
-                      showFeedback
-                        ? isCorrectOption
-                          ? "bg-green-50 border-green-500"
-                          : isSelected
-                          ? "bg-red-50 border-red-500"
-                          : "bg-white border-slate-100"
-                        : "bg-white border-slate-100"
-                    }`}
+                    className={`w-full p-4 rounded-2xl border-2 ${showFeedback
+                      ? isCorrectOption
+                        ? "bg-green-50 dark:bg-green-950/20 border-green-500"
+                        : isSelected
+                          ? "bg-red-50 dark:bg-red-950/20 border-red-500"
+                          : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                      : isSelected
+                        ? "bg-indigo-50 dark:bg-indigo-950/20 border-indigo-500"
+                        : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                      }`}
                     style={({ pressed }) =>
                       !showFeedback
                         ? { transform: [{ scale: pressed ? 0.98 : 1 }] }
@@ -673,15 +672,14 @@ Return ONLY the JSON array.`,
                   >
                     <View className="flex-row items-center justify-between">
                       <Text
-                        className={`font-medium ${
-                          showFeedback
-                            ? isCorrectOption
-                              ? "text-green-700"
-                              : isSelected
-                              ? "text-red-700"
-                              : "text-slate-400"
-                            : "text-slate-800"
-                        }`}
+                        className={`font-medium ${showFeedback
+                          ? isCorrectOption
+                            ? "text-green-700 dark:text-green-400"
+                            : isSelected
+                              ? "text-red-700 dark:text-red-400"
+                              : "text-slate-400 dark:text-slate-600"
+                          : "text-slate-800 dark:text-white"
+                          }`}
                       >
                         {option}
                       </Text>
@@ -708,13 +706,12 @@ Return ONLY the JSON array.`,
                     returnKeyType="done"
                     placeholder="Type what you heard..."
                     placeholderTextColor="#94a3b8"
-                    className={`w-full p-4 rounded-2xl border-2 text-base ${
-                      showFeedback
-                        ? isAnswerCorrect
-                          ? "bg-green-50 border-green-500 text-green-700"
-                          : "bg-red-50 border-red-500 text-red-700"
-                        : "bg-white border-slate-200 text-slate-900"
-                    }`}
+                    className={`w-full p-4 rounded-2xl border-2 text-base ${showFeedback
+                      ? isAnswerCorrect
+                        ? "bg-green-50 dark:bg-green-950/20 border-green-500 text-green-700 dark:text-green-400"
+                        : "bg-red-50 dark:bg-red-950/20 border-red-500 text-red-700 dark:text-red-400"
+                      : "bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 text-slate-900 dark:text-white"
+                      }`}
                   />
                   {!showFeedback && (
                     <Pressable
@@ -737,11 +734,10 @@ Return ONLY the JSON array.`,
           {showFeedback && (
             <Animated.View
               entering={FadeIn.duration(300)}
-              className={`p-6 rounded-3xl border-2 gap-2 ${
-                isAnswerCorrect
-                  ? "bg-green-50 border-green-100"
-                  : "bg-red-50 border-red-100"
-              }`}
+              className={`p-6 rounded-3xl border-2 gap-2 ${isAnswerCorrect
+                ? "bg-green-50 dark:bg-green-950/20 border-green-100 dark:border-green-900/50"
+                : "bg-red-50 dark:bg-red-950/20 border-red-100 dark:border-red-900/50"
+                }`}
             >
               <View className="flex-row items-center gap-2">
                 {isAnswerCorrect ? (
@@ -750,29 +746,27 @@ Return ONLY the JSON array.`,
                   <AlertCircle size={14} color="#991b1b" />
                 )}
                 <Text
-                  className={`font-bold uppercase tracking-widest text-[10px] ${
-                    isAnswerCorrect ? "text-green-800" : "text-red-800"
-                  }`}
+                  className={`font-bold uppercase tracking-widest text-[10px] ${isAnswerCorrect ? "text-green-800 dark:text-green-300" : "text-red-800 dark:text-red-300"
+                    }`}
                 >
                   {isAnswerCorrect ? "Brilliant!" : "Not quite"}
                 </Text>
               </View>
               <Text
-                className={`text-sm font-medium leading-relaxed ${
-                  isAnswerCorrect ? "text-green-800" : "text-red-800"
-                }`}
+                className={`text-sm font-medium leading-relaxed ${isAnswerCorrect ? "text-green-800 dark:text-green-300" : "text-red-800 dark:text-red-300"
+                  }`}
               >
                 {current.explanation}
               </Text>
               <Pressable
                 onPress={nextQuestion}
-                className="mt-4 w-full py-3 bg-white border border-slate-200 rounded-xl flex-row items-center justify-center gap-2"
+                className="mt-4 w-full py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl flex-row items-center justify-center gap-2"
                 style={({ pressed }) => ({
                   transform: [{ scale: pressed ? 0.95 : 1 }],
                 })}
               >
-                <Text className="text-slate-800 font-bold">Next Question</Text>
-                <ChevronRight size={18} color="#1e293b" />
+                <Text className="text-slate-800 dark:text-white font-bold">Next Question</Text>
+                <ChevronRight size={18} color={isAnswerCorrect ? "#166534" : "#991b1b"} />
               </Pressable>
             </Animated.View>
           )}
diff --git a/expo-app/src/components/WritingTest/EvaluationFeedback.tsx b/expo-app/src/components/WritingTest/EvaluationFeedback.tsx
index 6c0fe67..5807953 100644
--- a/expo-app/src/components/WritingTest/EvaluationFeedback.tsx
+++ b/expo-app/src/components/WritingTest/EvaluationFeedback.tsx
@@ -44,21 +44,18 @@ export function EvaluationFeedback({
     <Animated.View entering={FadeIn.duration(300)} className="gap-4">
       {/* Score */}
       <View
-        className={`p-6 rounded-3xl border-2 items-center gap-3 ${
-          passed
-            ? "bg-emerald-50 border-emerald-100"
-            : "bg-red-50 border-red-100"
-        }`}
+        className={`p-6 rounded-3xl border-2 items-center gap-3 ${passed
+            ? "bg-emerald-50 dark:bg-emerald-950/20 border-emerald-100 dark:border-emerald-900/50"
+            : "bg-red-50 dark:bg-red-950/20 border-red-100 dark:border-red-900/50"
+          }`}
       >
         <View
-          className={`w-20 h-20 rounded-full items-center justify-center border-4 ${
-            passed ? "border-emerald-400" : "border-red-400"
-          }`}
+          className={`w-20 h-20 rounded-full items-center justify-center border-4 ${passed ? "border-emerald-400" : "border-red-400"
+            }`}
         >
           <Text
-            className={`text-2xl font-black ${
-              passed ? "text-emerald-700" : "text-red-700"
-            }`}
+            className={`text-2xl font-black ${passed ? "text-emerald-700 dark:text-emerald-400" : "text-red-700 dark:text-red-400"
+              }`}
           >
             {evaluation.score}
           </Text>
@@ -70,17 +67,15 @@ export function EvaluationFeedback({
             <X size={16} color="#991b1b" />
           )}
           <Text
-            className={`font-bold uppercase tracking-widest text-xs ${
-              passed ? "text-emerald-800" : "text-red-800"
-            }`}
+            className={`font-bold uppercase tracking-widest text-xs ${passed ? "text-emerald-800 dark:text-emerald-300" : "text-red-800 dark:text-red-400"
+              }`}
           >
             {passed ? "Passed" : "Not yet"}
           </Text>
         </View>
         <Text
-          className={`text-sm text-center leading-relaxed ${
-            passed ? "text-emerald-700" : "text-red-700"
-          }`}
+          className={`text-sm text-center leading-relaxed ${passed ? "text-emerald-700 dark:text-emerald-300" : "text-red-700 dark:text-red-400"
+            }`}
         >
           {evaluation.feedback.overall}
         </Text>
@@ -91,16 +86,16 @@ export function EvaluationFeedback({
         {CRITERIA_CONFIG.map(({ key, label, Icon }) => (
           <View
             key={key}
-            className="bg-white p-4 rounded-xl border border-slate-100 flex-row gap-3"
+            className="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 flex-row gap-3"
           >
-            <View className="w-8 h-8 bg-slate-50 rounded-lg items-center justify-center mt-0.5">
+            <View className="w-8 h-8 bg-slate-50 dark:bg-slate-800 rounded-lg items-center justify-center mt-0.5">
               <Icon size={16} color="#64748b" />
             </View>
             <View className="flex-1 gap-0.5">
               <Text className="text-xs font-bold text-slate-500 uppercase tracking-widest">
                 {label}
               </Text>
-              <Text className="text-sm text-slate-700 leading-relaxed">
+              <Text className="text-sm text-slate-700 dark:text-slate-300 leading-relaxed">
                 {evaluation.feedback[key]}
               </Text>
             </View>
@@ -113,7 +108,7 @@ export function EvaluationFeedback({
         <View>
           <Pressable
             onPress={() => setShowCorrected((v) => !v)}
-            className="flex-row items-center justify-between bg-white p-4 rounded-xl border border-slate-100"
+            className="flex-row items-center justify-between bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800"
           >
             <Text className="text-xs font-bold text-slate-500 uppercase tracking-widest">
               Corrected Version
@@ -125,12 +120,12 @@ export function EvaluationFeedback({
             )}
           </Pressable>
           {showCorrected && (
-            <View className="bg-slate-50 p-4 rounded-b-xl border border-t-0 border-slate-100 gap-3">
+            <View className="bg-slate-50 dark:bg-slate-950 p-4 rounded-b-xl border border-t-0 border-slate-100 dark:border-slate-800 gap-3">
               <View>
                 <Text className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">
                   Your text
                 </Text>
-                <Text className="text-sm text-slate-500 leading-relaxed">
+                <Text className="text-sm text-slate-500 dark:text-slate-400 leading-relaxed">
                   {userText}
                 </Text>
               </View>
@@ -138,7 +133,7 @@ export function EvaluationFeedback({
                 <Text className="text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-1">
                   Suggested correction
                 </Text>
-                <Text className="text-sm text-slate-800 leading-relaxed">
+                <Text className="text-sm text-slate-800 dark:text-white leading-relaxed">
                   {evaluation.correctedText}
                 </Text>
               </View>
@@ -156,7 +151,7 @@ export function EvaluationFeedback({
           {evaluation.highlightedErrors.map((err, i) => (
             <View
               key={i}
-              className="bg-white p-3 rounded-xl border border-slate-100 flex-row gap-3 items-center"
+              className="bg-white dark:bg-slate-900 p-3 rounded-xl border border-slate-100 dark:border-slate-800 flex-row gap-3 items-center"
             >
               <View className="items-center gap-0.5">
                 <Text className="text-sm text-red-500 line-through font-medium">
@@ -166,7 +161,7 @@ export function EvaluationFeedback({
                   {err.suggestion}
                 </Text>
               </View>
-              <Text className="text-xs text-slate-500 flex-1">
+              <Text className="text-xs text-slate-500 dark:text-slate-400 flex-1">
                 {err.reason}
               </Text>
             </View>
@@ -177,12 +172,12 @@ export function EvaluationFeedback({
       {/* Next button */}
       <Pressable
         onPress={onNext}
-        className="w-full py-4 bg-white border border-slate-200 rounded-2xl flex-row items-center justify-center gap-2"
+        className="w-full py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl flex-row items-center justify-center gap-2"
         style={({ pressed }) => ({
           transform: [{ scale: pressed ? 0.95 : 1 }],
         })}
       >
-        <Text className="text-slate-800 font-bold">
+        <Text className="text-slate-800 dark:text-white font-bold">
           {isLast ? "See Results" : "Next Prompt"}
         </Text>
         <ChevronRight size={18} color="#1e293b" />
diff --git a/expo-app/src/components/WritingTest/LevelSelector.tsx b/expo-app/src/components/WritingTest/LevelSelector.tsx
index 2b89cc4..31342b1 100644
--- a/expo-app/src/components/WritingTest/LevelSelector.tsx
+++ b/expo-app/src/components/WritingTest/LevelSelector.tsx
@@ -16,10 +16,10 @@ interface LevelSelectorProps {
 }
 
 const LEVEL_COLORS: Record<string, { bg: string; border: string; text: string; badge: string }> = {
-  emerald: { bg: "bg-emerald-50", border: "border-emerald-300", text: "text-emerald-700", badge: "bg-emerald-100" },
-  blue: { bg: "bg-blue-50", border: "border-blue-300", text: "text-blue-700", badge: "bg-blue-100" },
-  violet: { bg: "bg-violet-50", border: "border-violet-300", text: "text-violet-700", badge: "bg-violet-100" },
-  rose: { bg: "bg-rose-50", border: "border-rose-300", text: "text-rose-700", badge: "bg-rose-100" },
+  emerald: { bg: "bg-emerald-50 dark:bg-emerald-950/20", border: "border-emerald-300 dark:border-emerald-800", text: "text-emerald-700 dark:text-emerald-400", badge: "bg-emerald-100 dark:bg-emerald-900/40" },
+  blue: { bg: "bg-blue-50 dark:bg-blue-950/20", border: "border-blue-300 dark:border-blue-800", text: "text-blue-700 dark:text-blue-400", badge: "bg-blue-100 dark:bg-blue-900/40" },
+  violet: { bg: "bg-violet-50 dark:bg-violet-950/20", border: "border-violet-300 dark:border-violet-800", text: "text-violet-700 dark:text-violet-400", badge: "bg-violet-100 dark:bg-violet-900/40" },
+  rose: { bg: "bg-rose-50 dark:bg-rose-950/20", border: "border-rose-300 dark:border-rose-800", text: "text-rose-700 dark:text-rose-400", badge: "bg-rose-100 dark:bg-rose-900/40" },
 };
 
 const SUGGESTED_TOPICS = [
@@ -62,11 +62,10 @@ export function LevelSelector({
               <Pressable
                 key={level.value}
                 onPress={() => onSelectLevel(level.value)}
-                className={`p-4 rounded-2xl border-2 ${
-                  isSelected
+                className={`p-4 rounded-2xl border-2 ${isSelected
                     ? `${colors.bg} ${colors.border}`
-                    : "bg-white border-slate-100"
-                }`}
+                    : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                  }`}
                 style={({ pressed }) => ({
                   transform: [{ scale: pressed ? 0.98 : 1 }],
                 })}
@@ -75,21 +74,18 @@ export function LevelSelector({
                   <View className="flex-1 gap-1">
                     <View className="flex-row items-center gap-2">
                       <Text
-                        className={`font-bold ${
-                          isSelected ? colors.text : "text-slate-800"
-                        }`}
+                        className={`font-bold ${isSelected ? colors.text : "text-slate-800 dark:text-white"
+                          }`}
                       >
                         {level.label}
                       </Text>
                       <View
-                        className={`px-2 py-0.5 rounded-full ${
-                          isSelected ? colors.badge : "bg-slate-100"
-                        }`}
+                        className={`px-2 py-0.5 rounded-full ${isSelected ? colors.badge : "bg-slate-100"
+                          }`}
                       >
                         <Text
-                          className={`text-[10px] font-bold ${
-                            isSelected ? colors.text : "text-slate-500"
-                          }`}
+                          className={`text-[10px] font-bold ${isSelected ? colors.text : "text-slate-500"
+                            }`}
                         >
                           {level.sublabel}
                         </Text>
@@ -126,23 +122,21 @@ export function LevelSelector({
           onChangeText={onChangeTopic}
           placeholder="e.g. familie, mad, ferie..."
           placeholderTextColor="#94a3b8"
-          className="w-full px-4 py-3 rounded-xl border-2 border-slate-200 bg-white text-sm text-slate-800 mb-3"
+          className="w-full px-4 py-3 rounded-xl border-2 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-sm text-slate-800 dark:text-white mb-3"
         />
         <View className="flex-row flex-wrap gap-2">
           {SUGGESTED_TOPICS.map((t) => (
             <Pressable
               key={t}
               onPress={() => onChangeTopic(topic === t ? "" : t)}
-              className={`px-3 py-1.5 rounded-full border ${
-                topic === t
-                  ? "bg-amber-100 border-amber-300"
-                  : "bg-white border-slate-200"
-              }`}
+              className={`px-3 py-1.5 rounded-full border ${topic === t
+                  ? "bg-amber-100 dark:bg-amber-900/40 border-amber-300 dark:border-amber-800"
+                  : "bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800"
+                }`}
             >
               <Text
-                className={`text-xs font-medium ${
-                  topic === t ? "text-amber-700" : "text-slate-600"
-                }`}
+                className={`text-xs font-medium ${topic === t ? "text-amber-700 dark:text-amber-400" : "text-slate-600 dark:text-slate-400"
+                  }`}
               >
                 {t}
               </Text>
@@ -163,16 +157,14 @@ export function LevelSelector({
           <View className="gap-2">
             <Pressable
               onPress={() => onSelectDeck(null)}
-              className={`p-3 rounded-xl border-2 ${
-                selectedDeckId === null
-                  ? "bg-amber-50 border-amber-300"
-                  : "bg-white border-slate-100"
-              }`}
+              className={`p-3 rounded-xl border-2 ${selectedDeckId === null
+                  ? "bg-amber-50 dark:bg-amber-950/20 border-amber-300 dark:border-amber-800"
+                  : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                }`}
             >
               <Text
-                className={`text-sm font-medium ${
-                  selectedDeckId === null ? "text-amber-700" : "text-slate-600"
-                }`}
+                className={`text-sm font-medium ${selectedDeckId === null ? "text-amber-700 dark:text-amber-400" : "text-slate-600 dark:text-slate-400"
+                  }`}
               >
                 No deck â€” generic prompts
               </Text>
@@ -181,18 +173,16 @@ export function LevelSelector({
               <Pressable
                 key={deck.id}
                 onPress={() => onSelectDeck(deck.id)}
-                className={`p-3 rounded-xl border-2 ${
-                  selectedDeckId === deck.id
-                    ? "bg-amber-50 border-amber-300"
-                    : "bg-white border-slate-100"
-                }`}
+                className={`p-3 rounded-xl border-2 ${selectedDeckId === deck.id
+                    ? "bg-amber-50 dark:bg-amber-950/20 border-amber-300 dark:border-amber-800"
+                    : "bg-white dark:bg-slate-900 border-slate-100 dark:border-slate-800"
+                  }`}
               >
                 <Text
-                  className={`text-sm font-medium ${
-                    selectedDeckId === deck.id
-                      ? "text-amber-700"
-                      : "text-slate-600"
-                  }`}
+                  className={`text-sm font-medium ${selectedDeckId === deck.id
+                      ? "text-amber-700 dark:text-amber-400"
+                      : "text-slate-600 dark:text-slate-400"
+                    }`}
                 >
                   {deck.title}
                 </Text>
@@ -208,17 +198,15 @@ export function LevelSelector({
       <Pressable
         onPress={onStart}
         disabled={!selectedLevel}
-        className={`w-full py-4 rounded-2xl items-center flex-row justify-center gap-2 ${
-          selectedLevel ? "bg-amber-500" : "bg-slate-200"
-        }`}
+        className={`w-full py-4 rounded-2xl items-center flex-row justify-center gap-2 ${selectedLevel ? "bg-amber-500" : "bg-slate-200 dark:bg-slate-800"
+          }`}
         style={({ pressed }) => ({
           transform: [{ scale: pressed && selectedLevel ? 0.98 : 1 }],
         })}
       >
         <Text
-          className={`font-semibold ${
-            selectedLevel ? "text-white" : "text-slate-400"
-          }`}
+          className={`font-semibold ${selectedLevel ? "text-white" : "text-slate-400"
+            }`}
         >
           Start Writing Exam
         </Text>
diff --git a/expo-app/src/components/WritingTest/WritingPromptCard.tsx b/expo-app/src/components/WritingTest/WritingPromptCard.tsx
index 342ef2d..09d5177 100644
--- a/expo-app/src/components/WritingTest/WritingPromptCard.tsx
+++ b/expo-app/src/components/WritingTest/WritingPromptCard.tsx
@@ -28,9 +28,9 @@ export function WritingPromptCard({
 
   return (
     <View className="gap-5">
-      <View className="bg-white rounded-2xl p-5 border border-slate-100 gap-4">
+      <View className="bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-100 dark:border-slate-800 gap-4">
         {/* Danish instruction */}
-        <Text className="text-lg font-bold text-slate-800 leading-relaxed">
+        <Text className="text-lg font-bold text-slate-800 dark:text-white leading-relaxed">
           {prompt.instruction}
         </Text>
 
@@ -52,8 +52,8 @@ export function WritingPromptCard({
               )}
             </Pressable>
             {showTranslation && (
-              <View className="mt-2 p-3 bg-indigo-50 rounded-xl border border-indigo-100">
-                <Text className="text-sm text-indigo-700 leading-relaxed">
+              <View className="mt-2 p-3 bg-indigo-50 dark:bg-indigo-950/30 rounded-xl border border-indigo-100 dark:border-indigo-900/50">
+                <Text className="text-sm text-indigo-700 dark:text-indigo-300 leading-relaxed">
                   {prompt.instructionDa}
                 </Text>
               </View>
@@ -68,8 +68,8 @@ export function WritingPromptCard({
             </Text>
             <View className="flex-row flex-wrap gap-2">
               {prompt.contextWords.map((word, i) => (
-                <View key={i} className="bg-amber-50 px-3 py-1 rounded-full">
-                  <Text className="text-amber-700 text-xs font-medium">
+                <View key={i} className="bg-amber-50 dark:bg-amber-950/30 px-3 py-1 rounded-full border border-amber-100 dark:border-amber-900/50">
+                  <Text className="text-amber-700 dark:text-amber-300 text-xs font-medium">
                     {word}
                   </Text>
                 </View>
@@ -98,7 +98,7 @@ export function WritingPromptCard({
             {showHints && (
               <View className="mt-2 gap-1">
                 {prompt.hints.map((hint, i) => (
-                  <Text key={i} className="text-xs text-slate-500 italic">
+                  <Text key={i} className="text-xs text-slate-500 dark:text-slate-400 italic">
                     {hint}
                   </Text>
                 ))}
@@ -118,14 +118,13 @@ export function WritingPromptCard({
           placeholder="Skriv dit svar pÃ¥ dansk..."
           placeholderTextColor="#94a3b8"
           textAlignVertical="top"
-          className="w-full p-4 rounded-2xl border-2 border-slate-200 bg-white text-base text-slate-900 min-h-[160px]"
+          className="w-full p-4 rounded-2xl border-2 border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-base text-slate-900 dark:text-white min-h-[160px]"
         />
 
         <View className="flex-row items-center justify-between px-1">
           <Text
-            className={`text-xs font-medium ${
-              meetsMinWords ? "text-emerald-600" : "text-slate-400"
-            }`}
+            className={`text-xs font-medium ${meetsMinWords ? "text-emerald-600" : "text-slate-400"
+              }`}
           >
             {wordCount} / {prompt.minWords} words
           </Text>
@@ -139,9 +138,8 @@ export function WritingPromptCard({
         <Pressable
           onPress={onSubmit}
           disabled={isSubmitting || wordCount === 0}
-          className={`w-full py-4 rounded-2xl items-center flex-row justify-center gap-2 ${
-            isSubmitting || wordCount === 0 ? "bg-slate-200" : "bg-amber-500"
-          }`}
+          className={`w-full py-4 rounded-2xl items-center flex-row justify-center gap-2 ${isSubmitting || wordCount === 0 ? "bg-slate-200 dark:bg-slate-800" : "bg-amber-500"
+            }`}
           style={({ pressed }) => ({
             transform: [
               { scale: pressed && !isSubmitting && wordCount > 0 ? 0.98 : 1 },
@@ -149,16 +147,15 @@ export function WritingPromptCard({
           })}
         >
           {isSubmitting ? (
-            <Text className="text-slate-400 font-semibold">
+            <Text className="text-slate-400 dark:text-slate-500 font-semibold">
               Evaluating your writing...
             </Text>
           ) : (
             <>
               <Send size={16} color={wordCount === 0 ? "#94a3b8" : "#fff"} />
               <Text
-                className={`font-semibold ${
-                  wordCount === 0 ? "text-slate-400" : "text-white"
-                }`}
+                className={`font-semibold ${wordCount === 0 ? "text-slate-400" : "text-white"
+                  }`}
               >
                 Submit Answer
               </Text>
diff --git a/expo-app/src/components/WritingTest/WritingSummary.tsx b/expo-app/src/components/WritingTest/WritingSummary.tsx
index efebbc5..04ce78d 100644
--- a/expo-app/src/components/WritingTest/WritingSummary.tsx
+++ b/expo-app/src/components/WritingTest/WritingSummary.tsx
@@ -25,34 +25,30 @@ export function WritingSummary({
 
   return (
     <ScrollView
-      className="flex-1 bg-slate-50"
+      className="flex-1 bg-slate-50 dark:bg-slate-950"
       contentContainerClassName="p-6 gap-6 items-center"
     >
       {/* Hero */}
       <View
-        className={`w-full p-8 rounded-3xl items-center gap-4 ${
-          passed ? "bg-emerald-50" : "bg-red-50"
-        }`}
+        className={`w-full p-8 rounded-3xl items-center gap-4 ${passed ? "bg-emerald-50 dark:bg-emerald-900/20" : "bg-red-50 dark:bg-red-900/20"
+          }`}
       >
         <View
-          className={`w-24 h-24 rounded-full items-center justify-center ${
-            passed ? "bg-emerald-100" : "bg-red-100"
-          }`}
+          className={`w-24 h-24 rounded-full items-center justify-center ${passed ? "bg-emerald-100 dark:bg-emerald-900/30" : "bg-red-100 dark:bg-red-900/30"
+            }`}
         >
           <Award size={40} color={passed ? "#059669" : "#dc2626"} />
         </View>
         <View className="items-center gap-1">
           <Text
-            className={`text-3xl font-black ${
-              passed ? "text-emerald-700" : "text-red-700"
-            }`}
+            className={`text-3xl font-black ${passed ? "text-emerald-700 dark:text-emerald-400" : "text-red-700 dark:text-red-400"
+              }`}
           >
             {Math.round(result.overallScore)}%
           </Text>
           <Text
-            className={`text-sm font-bold uppercase tracking-widest ${
-              passed ? "text-emerald-600" : "text-red-600"
-            }`}
+            className={`text-sm font-bold uppercase tracking-widest ${passed ? "text-emerald-600 dark:text-emerald-300" : "text-red-600 dark:text-red-400"
+              }`}
           >
             {passed ? "Exam Passed!" : "Keep Practicing"}
           </Text>
@@ -78,39 +74,36 @@ export function WritingSummary({
           return (
             <View
               key={resp.promptId}
-              className="bg-white p-4 rounded-xl border border-slate-100 gap-2"
+              className="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-800 gap-2"
             >
               <View className="flex-row items-center justify-between">
                 <Text className="text-xs text-slate-400 font-bold">
                   Prompt {i + 1}
                 </Text>
                 <View
-                  className={`px-2 py-0.5 rounded-full ${
-                    evalPassed ? "bg-emerald-100" : "bg-red-100"
-                  }`}
+                  className={`px-2 py-0.5 rounded-full ${evalPassed ? "bg-emerald-100 dark:bg-emerald-900/30" : "bg-red-100 dark:bg-red-900/30"
+                    }`}
                 >
                   <Text
-                    className={`text-xs font-bold ${
-                      evalPassed ? "text-emerald-700" : "text-red-700"
-                    }`}
+                    className={`text-xs font-bold ${evalPassed ? "text-emerald-700 dark:text-emerald-400" : "text-red-700 dark:text-red-400"
+                      }`}
                   >
                     {resp.evaluation.score}%
                   </Text>
                 </View>
               </View>
-              <Text className="text-sm text-slate-700" numberOfLines={2}>
+              <Text className="text-sm text-slate-700 dark:text-slate-200" numberOfLines={2}>
                 {prompt?.instruction}
               </Text>
               <Text className="text-xs text-slate-500">
                 {resp.evaluation.feedback.overall}
               </Text>
               {/* Score bar */}
-              <View className="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
+              <View className="h-1.5 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
                 <View
                   style={{ width: `${resp.evaluation.score}%` }}
-                  className={`h-full rounded-full ${
-                    evalPassed ? "bg-emerald-400" : "bg-red-400"
-                  }`}
+                  className={`h-full rounded-full ${evalPassed ? "bg-emerald-400" : "bg-red-400"
+                    }`}
                 />
               </View>
             </View>
@@ -148,13 +141,13 @@ export function WritingSummary({
 
         <Pressable
           onPress={onHome}
-          className="w-full py-4 bg-white border border-slate-200 rounded-2xl flex-row items-center justify-center gap-2"
+          className="w-full py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl flex-row items-center justify-center gap-2"
           style={({ pressed }) => ({
             transform: [{ scale: pressed ? 0.98 : 1 }],
           })}
         >
           <Home size={18} color="#64748b" />
-          <Text className="text-slate-600 font-semibold">Back to Home</Text>
+          <Text className="text-slate-600 dark:text-slate-300 font-semibold">Back to Home</Text>
         </Pressable>
       </View>
     </ScrollView>
diff --git a/expo-app/src/store/useChatLanguages.ts b/expo-app/src/store/useChatLanguages.ts
index e1215fe..c20e6c5 100644
--- a/expo-app/src/store/useChatLanguages.ts
+++ b/expo-app/src/store/useChatLanguages.ts
@@ -1,37 +1,62 @@
 import { useState, useEffect } from "react";
-import AsyncStorage from "@react-native-async-storage/async-storage";
+import { doc, onSnapshot, setDoc } from "firebase/firestore";
+import { db } from "../firebase/config";
+import { useAuth } from "../context/AuthContext";
 import { Language } from "../types";
 
-const STUDY_KEY = "chat_study_lang";
-const NATIVE_KEY = "chat_native_lang";
+import { sanitize } from "../utils/firestore";
 
 const DEFAULT_STUDY: Language = "da-DK";
 const DEFAULT_NATIVE: Language = "en-US";
 
 export function useChatLanguages() {
+  const { user } = useAuth();
   const [studyLang, setStudyLang] = useState<Language>(DEFAULT_STUDY);
   const [nativeLang, setNativeLang] = useState<Language>(DEFAULT_NATIVE);
   const [loaded, setLoaded] = useState(false);
 
   useEffect(() => {
-    Promise.all([
-      AsyncStorage.getItem(STUDY_KEY),
-      AsyncStorage.getItem(NATIVE_KEY),
-    ]).then(([study, native]) => {
-      if (study) setStudyLang(study as Language);
-      if (native) setNativeLang(native as Language);
+    if (!user) {
+      setStudyLang(DEFAULT_STUDY);
+      setNativeLang(DEFAULT_NATIVE);
+      setLoaded(false);
+      return;
+    }
+
+    const ref = doc(db, "users", user.uid, "settings", "languages");
+    const unsub = onSnapshot(ref, (snap) => {
+      if (snap.exists()) {
+        const data = snap.data();
+        setStudyLang((data.studyLang as Language) ?? DEFAULT_STUDY);
+        setNativeLang((data.nativeLang as Language) ?? DEFAULT_NATIVE);
+      }
+      setLoaded(true);
+    }, (error) => {
+      console.error("Error in useChatLanguages listener:", error);
       setLoaded(true);
     });
-  }, []);
 
-  const changeStudyLang = (lang: Language) => {
+    return unsub;
+  }, [user]);
+
+  const changeStudyLang = async (lang: Language) => {
     setStudyLang(lang);
-    AsyncStorage.setItem(STUDY_KEY, lang);
+    if (!user) return;
+    await setDoc(
+      doc(db, "users", user.uid, "settings", "languages"),
+      sanitize({ studyLang: lang, nativeLang }),
+      { merge: true }
+    );
   };
 
-  const changeNativeLang = (lang: Language) => {
+  const changeNativeLang = async (lang: Language) => {
     setNativeLang(lang);
-    AsyncStorage.setItem(NATIVE_KEY, lang);
+    if (!user) return;
+    await setDoc(
+      doc(db, "users", user.uid, "settings", "languages"),
+      sanitize({ studyLang, nativeLang: lang }),
+      { merge: true }
+    );
   };
 
   return { studyLang, nativeLang, changeStudyLang, changeNativeLang, loaded };
diff --git a/expo-app/src/store/useChatNotes.ts b/expo-app/src/store/useChatNotes.ts
index ea21f7e..c4ecdc7 100644
--- a/expo-app/src/store/useChatNotes.ts
+++ b/expo-app/src/store/useChatNotes.ts
@@ -1,31 +1,50 @@
 import { useState, useEffect, useCallback } from "react";
-import AsyncStorage from "@react-native-async-storage/async-storage";
+import { doc, onSnapshot, setDoc } from "firebase/firestore";
+import { db } from "../firebase/config";
+import { useAuth } from "../context/AuthContext";
 import { ChatNote } from "../types";
 
-const STORAGE_KEY = "chat_notes";
+import { sanitize } from "../utils/firestore";
 
 export function useChatNotes() {
+  const { user } = useAuth();
   const [notes, setNotes] = useState<ChatNote[]>([]);
   const [loaded, setLoaded] = useState(false);
 
   useEffect(() => {
-    AsyncStorage.getItem(STORAGE_KEY).then((raw) => {
-      if (raw) {
-        try {
-          setNotes(JSON.parse(raw));
-        } catch {}
+    if (!user) {
+      setNotes([]);
+      setLoaded(false);
+      return;
+    }
+
+    const ref = doc(db, "users", user.uid, "data", "chatNotes");
+    const unsub = onSnapshot(ref, (snap) => {
+      if (snap.exists()) {
+        setNotes((snap.data().notes as ChatNote[]) ?? []);
+      } else {
+        setNotes([]);
       }
       setLoaded(true);
+    }, (error) => {
+      console.error("Error in useChatNotes listener:", error);
+      setLoaded(true);
     });
-  }, []);
 
-  useEffect(() => {
-    if (!loaded) return;
-    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(notes));
-  }, [notes, loaded]);
+    return unsub;
+  }, [user]);
+
+  // Helper: write notes array back to Firestore
+  const persist = useCallback(
+    async (next: ChatNote[]) => {
+      if (!user) return;
+      await setDoc(doc(db, "users", user.uid, "data", "chatNotes"), sanitize({ notes: next }));
+    },
+    [user]
+  );
 
   const addNote = useCallback(
-    (text: string, options?: { title?: string; sourceMessageId?: string }) => {
+    async (text: string, options?: { title?: string; sourceMessageId?: string }) => {
       const newNote: ChatNote = {
         id: Math.random().toString(36).substr(2, 9),
         text,
@@ -33,22 +52,29 @@ export function useChatNotes() {
         timestamp: new Date().toISOString(),
         sourceMessageId: options?.sourceMessageId,
       };
-      setNotes((prev) => [newNote, ...prev]);
+      const next = [newNote, ...notes];
+      setNotes(next);
+      await persist(next);
     },
-    []
+    [notes, persist]
   );
 
-  const deleteNote = useCallback((id: string) => {
-    setNotes((prev) => prev.filter((n) => n.id !== id));
-  }, []);
+  const deleteNote = useCallback(
+    async (id: string) => {
+      const next = notes.filter((n) => n.id !== id);
+      setNotes(next);
+      await persist(next);
+    },
+    [notes, persist]
+  );
 
   const updateNote = useCallback(
-    (id: string, changes: Partial<Pick<ChatNote, "title" | "text">>) => {
-      setNotes((prev) =>
-        prev.map((n) => (n.id === id ? { ...n, ...changes } : n))
-      );
+    async (id: string, changes: Partial<Pick<ChatNote, "title" | "text">>) => {
+      const next = notes.map((n) => (n.id === id ? { ...n, ...changes } : n));
+      setNotes(next);
+      await persist(next);
     },
-    []
+    [notes, persist]
   );
 
   return { notes, addNote, deleteNote, updateNote, loaded };
diff --git a/expo-app/src/store/useCustomGrammarTopics.ts b/expo-app/src/store/useCustomGrammarTopics.ts
index db4f4ff..67f8d7f 100644
--- a/expo-app/src/store/useCustomGrammarTopics.ts
+++ b/expo-app/src/store/useCustomGrammarTopics.ts
@@ -1,47 +1,56 @@
 import { useState, useEffect, useCallback } from "react";
-import AsyncStorage from "@react-native-async-storage/async-storage";
+import { doc, onSnapshot, setDoc } from "firebase/firestore";
+import { db } from "../firebase/config";
+import { useAuth } from "../context/AuthContext";
 import { SavedCustomTopic } from "../types";
 
-const STORAGE_KEY = "grammar_custom_topics";
+import { sanitize } from "../utils/firestore";
+
 const TOPIC_COLORS = [
-  "purple",
-  "teal",
-  "orange",
-  "rose",
-  "sky",
-  "amber",
-  "lime",
-  "fuchsia",
-  "cyan",
-  "indigo",
+  "purple", "teal", "orange", "rose", "sky",
+  "amber", "lime", "fuchsia", "cyan", "indigo",
 ];
 
 export function useCustomGrammarTopics() {
+  const { user } = useAuth();
   const [topics, setTopics] = useState<SavedCustomTopic[]>([]);
   const [loaded, setLoaded] = useState(false);
 
   useEffect(() => {
-    AsyncStorage.getItem(STORAGE_KEY).then((raw) => {
-      if (raw) {
-        try {
-          setTopics(JSON.parse(raw));
-        } catch {}
+    if (!user) {
+      setTopics([]);
+      setLoaded(false);
+      return;
+    }
+
+    const ref = doc(db, "users", user.uid, "data", "grammarTopics");
+    const unsub = onSnapshot(ref, (snap) => {
+      if (snap.exists()) {
+        setTopics((snap.data().topics as SavedCustomTopic[]) ?? []);
+      } else {
+        setTopics([]);
       }
       setLoaded(true);
+    }, (error) => {
+      console.error("Error in useCustomGrammarTopics listener:", error);
+      setLoaded(true);
     });
-  }, []);
 
-  useEffect(() => {
-    if (!loaded) return;
-    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(topics));
-  }, [topics, loaded]);
+    return unsub;
+  }, [user]);
 
-  const saveTopic = useCallback((title: string, description: string) => {
-    setTopics((prev) => {
-      if (prev.some((t) => t.title.toLowerCase() === title.toLowerCase())) {
-        return prev;
-      }
-      const color = TOPIC_COLORS[prev.length % TOPIC_COLORS.length];
+  const persist = useCallback(
+    async (next: SavedCustomTopic[]) => {
+      if (!user) return;
+      await setDoc(doc(db, "users", user.uid, "data", "grammarTopics"), sanitize({ topics: next }));
+    },
+    [user]
+  );
+
+  const saveTopic = useCallback(
+    async (title: string, description: string) => {
+      if (topics.some((t) => t.title.toLowerCase() === title.toLowerCase())) return;
+      const color = TOPIC_COLORS[topics.length % TOPIC_COLORS.length];
       const newTopic: SavedCustomTopic = {
         id: Math.random().toString(36).substr(2, 9),
         title,
@@ -49,21 +58,32 @@ export function useCustomGrammarTopics() {
         createdAt: new Date().toISOString(),
         color,
       };
-      return [newTopic, ...prev];
-    });
-  }, []);
+      const next = [newTopic, ...topics];
+      setTopics(next);
+      await persist(next);
+    },
+    [topics, persist]
+  );
 
-  const deleteTopic = useCallback((id: string) => {
-    setTopics((prev) => prev.filter((t) => t.id !== id));
-  }, []);
+  const deleteTopic = useCallback(
+    async (id: string) => {
+      const next = topics.filter((t) => t.id !== id);
+      setTopics(next);
+      await persist(next);
+    },
+    [topics, persist]
+  );
 
-  const markTopicUsed = useCallback((id: string) => {
-    setTopics((prev) =>
-      prev.map((t) =>
+  const markTopicUsed = useCallback(
+    async (id: string) => {
+      const next = topics.map((t) =>
         t.id === id ? { ...t, lastUsedAt: new Date().toISOString() } : t
-      )
-    );
-  }, []);
+      );
+      setTopics(next);
+      await persist(next);
+    },
+    [topics, persist]
+  );
 
   return { topics, saveTopic, deleteTopic, markTopicUsed, loaded };
 }
diff --git a/expo-app/src/store/useDailyProgress.ts b/expo-app/src/store/useDailyProgress.ts
index b1ee2c0..9728669 100644
--- a/expo-app/src/store/useDailyProgress.ts
+++ b/expo-app/src/store/useDailyProgress.ts
@@ -1,16 +1,24 @@
 import { useState, useEffect, useCallback, useMemo } from "react";
-import AsyncStorage from "@react-native-async-storage/async-storage";
+import {
+  doc,
+  collection,
+  onSnapshot,
+  setDoc,
+  getDoc,
+  getDocs,
+} from "firebase/firestore";
+import { db } from "../firebase/config";
+import { useAuth } from "../context/AuthContext";
 import {
   ChecklistItem,
   ChecklistItemId,
   CustomTask,
   DailyProgress,
-  ProgressStore,
   SubCheckItem,
   TimeOfDay,
 } from "../types";
 
-const STORAGE_KEY = "daily_progress";
+import { sanitize } from "../utils/firestore";
 
 const DEFAULT_ITEMS: ChecklistItem[] = [
   { id: "study_deck", label: "Study a Deck", sublabel: "Review your flashcards", timeOfDay: "morning" },
@@ -39,114 +47,30 @@ function freshDay(date: string): DailyProgress {
   return { date, items: freshItems(), customItems: [] };
 }
 
-function emptyStore(): ProgressStore {
-  return { days: {}, streakCount: 0, recurringTasks: [], hiddenDefaultItems: [] };
-}
-
-/** Get JS day-of-week number (0=Sun..6=Sat) for a YYYY-MM-DD string */
 function getDayOfWeek(dateStr: string): number {
   return new Date(dateStr + "T00:00:00").getDay();
 }
 
-/** Ensure ChecklistItem has timeOfDay (migration) */
-function migrateChecklistItem(item: any): ChecklistItem {
-  if (item.timeOfDay) return item;
-  const defaults: Record<string, TimeOfDay> = {
-    study_deck: "morning",
-    grammar_quiz: "morning",
-    writing_test: "afternoon",
-    chat_session: "afternoon",
-  };
-  return { ...item, timeOfDay: defaults[item.id] ?? "morning" };
-}
-
-/** Ensure CustomTask has timeOfDay (migration) */
-function migrateCustomTask(task: any): CustomTask {
-  return { ...task, timeOfDay: task.timeOfDay ?? "morning" };
-}
-
-/** Migrate old flat DailyProgress format to new ProgressStore */
-function migrateIfNeeded(raw: any): ProgressStore {
-  if (raw && raw.days) {
-    // Migrate items inside each day
-    const days: Record<string, DailyProgress> = {};
-    for (const [date, day] of Object.entries(raw.days as Record<string, any>)) {
-      days[date] = {
-        date: (day as any).date,
-        items: ((day as any).items ?? []).map(migrateChecklistItem),
-        customItems: ((day as any).customItems ?? []).map(migrateCustomTask),
-      };
-    }
-    return {
-      days,
-      streakCount: raw.streakCount ?? 0,
-      lastCompletedDate: raw.lastCompletedDate,
-      recurringTasks: (raw.recurringTasks ?? []).map(migrateCustomTask),
-      hiddenDefaultItems: raw.hiddenDefaultItems ?? [],
-    };
-  }
-  // Old format: { date, items, streakCount, lastCompletedDate }
-  if (raw && raw.date && raw.items) {
-    return {
-      days: {
-        [raw.date]: {
-          date: raw.date,
-          items: (raw.items as any[]).map(migrateChecklistItem),
-          customItems: [],
-        },
-      },
-      streakCount: raw.streakCount ?? 0,
-      lastCompletedDate: raw.lastCompletedDate,
-      recurringTasks: [],
-    };
-  }
-  return emptyStore();
-}
-
-function updateStreakIfNeeded(
-  store: ProgressStore,
-  date: string,
-  day: DailyProgress
-): Pick<ProgressStore, "streakCount" | "lastCompletedDate"> {
-  const coreAllDone = day.items.every((i) => i.completedAt);
-  if (!coreAllDone || store.lastCompletedDate === date) {
-    return { streakCount: store.streakCount, lastCompletedDate: store.lastCompletedDate };
-  }
-  const prevDate = store.lastCompletedDate;
-  const streakContinues = prevDate && isConsecutiveDay(prevDate, date);
-  return {
-    streakCount: streakContinues ? store.streakCount + 1 : 1,
-    lastCompletedDate: date,
-  };
-}
-
 /** Inject recurring tasks into a day's customItems if not already present */
 function injectRecurringTasks(day: DailyProgress, recurringTasks: CustomTask[], dateStr?: string): DailyProgress {
   if (!recurringTasks || recurringTasks.length === 0) return day;
-
   const dayOfWeek = getDayOfWeek(dateStr ?? day.date);
-
   const existingRecurringIds = new Set(
     day.customItems.filter((t) => t.recurring).map((t) => t.id)
   );
-
   const toInject = recurringTasks.filter((rt) => {
     if (existingRecurringIds.has(rt.id)) return false;
-    // Filter by active days if specified
     if (rt.activeDays && rt.activeDays.length > 0) {
       return rt.activeDays.includes(dayOfWeek);
     }
-    return true; // undefined/empty = every day
+    return true;
   });
   if (toInject.length === 0) return day;
-
   const freshRecurring = toInject.map((rt) => ({
     ...rt,
     completedAt: undefined,
-    // Reset sub-checklist items to unchecked for new day
     subChecklist: rt.subChecklist?.map((s) => ({ ...s, checked: false })),
   }));
-
   return {
     ...day,
     customItems: [...day.customItems, ...freshRecurring],
@@ -154,392 +78,260 @@ function injectRecurringTasks(day: DailyProgress, recurringTasks: CustomTask[],
 }
 
 export function useDailyProgress() {
-  const [store, setStore] = useState<ProgressStore>(emptyStore());
+  const { user } = useAuth();
+  const [streakCount, setStreakCount] = useState(0);
+  const [lastCompletedDate, setLastCompletedDate] = useState<string | undefined>(undefined);
+  const [recurringTasks, setRecurringTasks] = useState<CustomTask[]>([]);
+  const [hiddenDefaultItems, setHiddenDefaultItems] = useState<ChecklistItemId[]>([]);
+
   const [selectedDate, setSelectedDate] = useState(getToday());
+  const [daysMap, setDaysMap] = useState<Record<string, DailyProgress>>({});
   const [loaded, setLoaded] = useState(false);
-  const [crossReferenced, setCrossReferenced] = useState(false);
 
-  // Load effect
+  // 1. Listen to global progress data
   useEffect(() => {
-    AsyncStorage.getItem(STORAGE_KEY).then((raw) => {
-      if (raw) {
-        try {
-          const parsed = JSON.parse(raw);
-          const migrated = migrateIfNeeded(parsed);
-          setStore(migrated);
-        } catch {
-          // corrupted
-        }
+    if (!user) return;
+    const ref = doc(db, "users", user.uid, "data", "progress");
+    const unsub = onSnapshot(ref, (snap) => {
+      if (snap.exists()) {
+        const data = snap.data();
+        setStreakCount(data.streakCount ?? 0);
+        setLastCompletedDate(data.lastCompletedDate);
+        setRecurringTasks(data.recurringTasks ?? []);
+        setHiddenDefaultItems(data.hiddenDefaultItems ?? []);
       }
       setLoaded(true);
+    }, (error) => {
+      console.error("Error in global progress listener:", error);
+      setLoaded(true);
     });
-  }, []);
+    return unsub;
+  }, [user]);
 
-  // Cross-reference effect â€” auto-complete items from other stores (today only)
+  // 2. Listen to ALL days (to support calendar/summary)
   useEffect(() => {
-    if (!loaded || crossReferenced) return;
-    setCrossReferenced(true);
+    if (!user) return;
+    const colRef = collection(db, "users", user.uid, "days");
+    const unsub = onSnapshot(colRef, (snap) => {
+      const map: Record<string, DailyProgress> = {};
+      snap.docs.forEach(d => {
+        map[d.id] = d.data() as DailyProgress;
+      });
+      setDaysMap(map);
+    }, (error) => {
+      console.error("Error in days collection listener:", error);
+    });
+    return unsub;
+  }, [user]);
+
+  // 3. Cross-reference auto-complete (Today only)
+  useEffect(() => {
+    if (!user || !loaded || selectedDate !== getToday()) return;
 
     const today = getToday();
+    const dayProgress = daysMap[today] ?? freshDay(today);
 
-    Promise.all([
-      AsyncStorage.getItem("mindset_decks"),
-      AsyncStorage.getItem("grammar_last_result"),
-      AsyncStorage.getItem("writing_test_last_result"),
-    ]).then(([decksRaw, grammarRaw, writingRaw]) => {
+    const checkAutoComplete = async () => {
+      const now = new Date().toISOString();
       const autoCompleted: Partial<Record<ChecklistItemId, boolean>> = {};
 
-      if (decksRaw) {
-        try {
-          const decks = JSON.parse(decksRaw) as Array<{ lastStudied?: string }>;
-          if (decks.some((d) => d.lastStudied && d.lastStudied.startsWith(today))) {
-            autoCompleted.study_deck = true;
-          }
-        } catch { }
+      const decksSnap = await getDocs(collection(db, "users", user.uid, "decks"));
+      if (decksSnap.docs.some(d => d.data().lastStudied?.startsWith(today))) {
+        autoCompleted.study_deck = true;
       }
 
-      if (grammarRaw) {
-        try {
-          const result = JSON.parse(grammarRaw) as { completedAt?: string };
-          if (result.completedAt && result.completedAt.startsWith(today)) {
-            autoCompleted.grammar_quiz = true;
-          }
-        } catch { }
+      const grammarSnap = await getDoc(doc(db, "users", user.uid, "results", "grammar"));
+      if (grammarSnap.exists() && grammarSnap.data().completedAt?.startsWith(today)) {
+        autoCompleted.grammar_quiz = true;
       }
 
-      if (writingRaw) {
-        try {
-          const result = JSON.parse(writingRaw) as { completedAt?: string };
-          if (result.completedAt && result.completedAt.startsWith(today)) {
-            autoCompleted.writing_test = true;
-          }
-        } catch { }
+      const writingSnap = await getDoc(doc(db, "users", user.uid, "results", "writing"));
+      if (writingSnap.exists() && writingSnap.data().completedAt?.startsWith(today)) {
+        autoCompleted.writing_test = true;
       }
 
       if (Object.keys(autoCompleted).length > 0) {
-        setStore((prev) => {
-          const now = new Date().toISOString();
-          const day = prev.days[today] ?? freshDay(today);
-          const updatedItems = day.items.map((item) =>
-            autoCompleted[item.id] && !item.completedAt
-              ? { ...item, completedAt: now }
-              : item
-          );
-          const updatedDay = { ...day, items: updatedItems };
-          const streak = updateStreakIfNeeded(prev, today, updatedDay);
-          return {
-            ...prev,
-            ...streak,
-            days: { ...prev.days, [today]: updatedDay },
-          };
-        });
+        const updatedItems = dayProgress.items.map(item =>
+          autoCompleted[item.id] && !item.completedAt
+            ? { ...item, completedAt: now }
+            : item
+        );
+        const updatedDay = { ...dayProgress, items: updatedItems };
+        // Avoid infinite loop by only updating if something actually changed
+        if (updatedItems.some((item, idx) => item.completedAt !== dayProgress.items[idx].completedAt)) {
+          await setDoc(doc(db, "users", user.uid, "days", today), sanitize(updatedDay));
+        }
       }
-    });
-  }, [loaded, crossReferenced]);
-
-  // Persist effect
-  useEffect(() => {
-    if (!loaded) return;
-    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(store));
-  }, [store, loaded]);
+    };
 
-  const hiddenDefaultItems = useMemo(
-    () => store.hiddenDefaultItems ?? [],
-    [store.hiddenDefaultItems]
-  );
+    checkAutoComplete();
+  }, [user, loaded, selectedDate, daysMap]);
 
-  // Get day for selected date with recurring tasks injected & hidden items filtered
-  const dayProgress = useMemo((): DailyProgress => {
-    const base = store.days[selectedDate] ?? freshDay(selectedDate);
-    const withRecurring = injectRecurringTasks(base, store.recurringTasks ?? [], selectedDate);
-    // Filter out hidden default items
-    const hidden = new Set(store.hiddenDefaultItems ?? []);
+  const dayProgressRaw = useMemo(() => daysMap[selectedDate] ?? freshDay(selectedDate), [daysMap, selectedDate]);
+  const dayProgress = useMemo(() => {
+    const withRec = injectRecurringTasks(dayProgressRaw, recurringTasks, selectedDate);
+    const hidden = new Set(hiddenDefaultItems);
     return {
-      ...withRecurring,
-      items: withRecurring.items.filter((i) => !hidden.has(i.id)),
+      ...withRec,
+      items: withRec.items.filter(i => !hidden.has(i.id))
+    };
+  }, [dayProgressRaw, recurringTasks, selectedDate, hiddenDefaultItems]);
+
+  const updateDayInFirestore = useCallback(async (day: DailyProgress) => {
+    if (!user) return;
+    const dayRef = doc(db, "users", user.uid, "days", day.date);
+    await setDoc(dayRef, sanitize(day));
+
+    // Update streak if needed
+    const coreAllDone = day.items.every(i => i.completedAt);
+    if (coreAllDone && lastCompletedDate !== day.date) {
+      const streakContinues = lastCompletedDate && isConsecutiveDay(lastCompletedDate, day.date);
+      const newStreak = streakContinues ? streakCount + 1 : 1;
+      await setDoc(doc(db, "users", user.uid, "data", "progress"), sanitize({
+        streakCount: newStreak,
+        lastCompletedDate: day.date,
+        recurringTasks,
+        hiddenDefaultItems
+      }), { merge: true });
+    }
+  }, [user, streakCount, lastCompletedDate, recurringTasks, hiddenDefaultItems]);
+
+  const completeItem = useCallback(async (id: ChecklistItemId) => {
+    // Note: ChecklistItem completion still uses the raw storage to avoid saving injected items into the core items list unnecessarily
+    // but here we use dayProgress to ensure we have the right context.
+    const updatedItems = dayProgress.items.map(item =>
+      item.id === id ? { ...item, completedAt: new Date().toISOString() } : item
+    );
+    // Since dayProgress.items is already filtered, we need to be careful.
+    // Actually, it's better to update dayProgressRaw and save that.
+    const rawItems = dayProgressRaw.items.map(item =>
+      item.id === id ? { ...item, completedAt: new Date().toISOString() } : item
+    );
+    await updateDayInFirestore({ ...dayProgressRaw, items: rawItems });
+  }, [dayProgress, dayProgressRaw, updateDayInFirestore]);
+
+  const uncompleteItem = useCallback(async (id: ChecklistItemId) => {
+    const rawItems = dayProgressRaw.items.map(item =>
+      item.id === id ? { ...item, completedAt: undefined } : item
+    );
+    await updateDayInFirestore({ ...dayProgressRaw, items: rawItems });
+  }, [dayProgressRaw, updateDayInFirestore]);
+
+  const addCustomTask = useCallback(async (
+    label: string,
+    sublabel: string | undefined,
+    timeOfDay: TimeOfDay,
+    recurring?: boolean,
+    subChecklist?: SubCheckItem[],
+    activeDays?: number[]
+  ) => {
+    if (!user) return;
+    const task: CustomTask = {
+      id: Math.random().toString(36).substr(2, 9),
+      label,
+      sublabel,
+      timeOfDay,
+      recurring,
+      activeDays: recurring && activeDays?.length ? activeDays : undefined,
+      subChecklist: subChecklist?.length ? subChecklist : undefined,
     };
-  }, [store.days, store.recurringTasks, store.hiddenDefaultItems, selectedDate]);
-
-  const completeItem = useCallback(
-    (id: ChecklistItemId) => {
-      setStore((prev) => {
-        const day = prev.days[selectedDate] ?? freshDay(selectedDate);
-        const updatedItems = day.items.map((item) =>
-          item.id === id ? { ...item, completedAt: new Date().toISOString() } : item
-        );
-        const updatedDay = { ...day, items: updatedItems };
-        const streak = updateStreakIfNeeded(prev, selectedDate, updatedDay);
-        return {
-          ...prev,
-          ...streak,
-          days: { ...prev.days, [selectedDate]: updatedDay },
-        };
-      });
-    },
-    [selectedDate]
-  );
-
-  const uncompleteItem = useCallback(
-    (id: ChecklistItemId) => {
-      setStore((prev) => {
-        const day = prev.days[selectedDate] ?? freshDay(selectedDate);
-        const updatedItems = day.items.map((item) =>
-          item.id === id ? { ...item, completedAt: undefined } : item
-        );
-        let { streakCount, lastCompletedDate } = prev;
-        if (lastCompletedDate === selectedDate) {
-          streakCount = Math.max(0, streakCount - 1);
-          lastCompletedDate = undefined;
-        }
-        return {
-          ...prev,
-          streakCount,
-          lastCompletedDate,
-          days: { ...prev.days, [selectedDate]: { ...day, items: updatedItems } },
-        };
-      });
-    },
-    [selectedDate]
-  );
-
-  const addCustomTask = useCallback(
-    (
-      label: string,
-      sublabel: string | undefined,
-      timeOfDay: TimeOfDay,
-      recurring?: boolean,
-      subChecklist?: SubCheckItem[],
-      activeDays?: number[]
-    ) => {
-      setStore((prev) => {
-        const day = prev.days[selectedDate] ?? freshDay(selectedDate);
-        const task: CustomTask = {
-          id: Math.random().toString(36).substr(2, 9),
-          label,
-          sublabel,
-          timeOfDay,
-          recurring,
-          activeDays: recurring && activeDays?.length ? activeDays : undefined,
-          subChecklist: subChecklist?.length ? subChecklist : undefined,
-        };
-
-        const updatedStore: ProgressStore = {
-          ...prev,
-          days: {
-            ...prev.days,
-            [selectedDate]: { ...day, customItems: [...day.customItems, task] },
-          },
-        };
-
-        // If recurring, also add to recurring templates
-        if (recurring) {
-          updatedStore.recurringTasks = [...(prev.recurringTasks ?? []), task];
-        }
-
-        return updatedStore;
-      });
-    },
-    [selectedDate]
-  );
-
-  const removeCustomTask = useCallback(
-    (taskId: string) => {
-      setStore((prev) => {
-        const day = prev.days[selectedDate] ?? freshDay(selectedDate);
-        return {
-          ...prev,
-          days: {
-            ...prev.days,
-            [selectedDate]: {
-              ...day,
-              customItems: day.customItems.filter((t) => t.id !== taskId),
-            },
-          },
-        };
-      });
-    },
-    [selectedDate]
-  );
-
-  /** Remove a recurring task template (stops it from appearing on future days) */
-  const removeRecurringTask = useCallback(
-    (taskId: string) => {
-      setStore((prev) => {
-        const day = prev.days[selectedDate] ?? freshDay(selectedDate);
-        return {
-          ...prev,
-          recurringTasks: (prev.recurringTasks ?? []).filter((t) => t.id !== taskId),
-          days: {
-            ...prev.days,
-            [selectedDate]: {
-              ...day,
-              customItems: day.customItems.filter((t) => t.id !== taskId),
-            },
-          },
-        };
-      });
-    },
-    [selectedDate]
-  );
-
-  const toggleCustomTask = useCallback(
-    (taskId: string) => {
-      setStore((prev) => {
-        const base = prev.days[selectedDate] ?? freshDay(selectedDate);
-        const day = injectRecurringTasks(base, prev.recurringTasks ?? [], selectedDate);
-        const updatedCustom = day.customItems.map((t) =>
-          t.id === taskId
-            ? { ...t, completedAt: t.completedAt ? undefined : new Date().toISOString() }
-            : t
-        );
-        return {
-          ...prev,
-          days: {
-            ...prev.days,
-            [selectedDate]: { ...day, customItems: updatedCustom },
-          },
-        };
-      });
-    },
-    [selectedDate]
-  );
-
-  /** Toggle a sub-checklist item within a custom task */
-  const toggleSubCheckItem = useCallback(
-    (taskId: string, subItemId: string) => {
-      setStore((prev) => {
-        const base = prev.days[selectedDate] ?? freshDay(selectedDate);
-        const day = injectRecurringTasks(base, prev.recurringTasks ?? [], selectedDate);
-        const updatedCustom = day.customItems.map((t) => {
-          if (t.id !== taskId || !t.subChecklist) return t;
-          return {
-            ...t,
-            subChecklist: t.subChecklist.map((s) =>
-              s.id === subItemId ? { ...s, checked: !s.checked } : s
-            ),
-          };
-        });
-        return {
-          ...prev,
-          days: {
-            ...prev.days,
-            [selectedDate]: { ...day, customItems: updatedCustom },
-          },
-        };
-      });
-    },
-    [selectedDate]
-  );
 
-  /** Edit a custom task's label, sublabel, timeOfDay, recurring, subChecklist, and activeDays */
-  const editCustomTask = useCallback(
-    (
-      taskId: string,
-      updates: {
-        label?: string;
-        sublabel?: string;
-        timeOfDay?: TimeOfDay;
-        recurring?: boolean;
-        subChecklist?: SubCheckItem[];
-        activeDays?: number[];
-      }
-    ) => {
-      setStore((prev) => {
-        const base = prev.days[selectedDate] ?? freshDay(selectedDate);
-        const day = injectRecurringTasks(base, prev.recurringTasks ?? [], selectedDate);
-        const updatedCustom = day.customItems.map((t) =>
-          t.id === taskId ? { ...t, ...updates } : t
-        );
-        const updatedStore: ProgressStore = {
-          ...prev,
-          days: {
-            ...prev.days,
-            [selectedDate]: { ...day, customItems: updatedCustom },
-          },
-        };
-
-        // Also update recurring template if the task is recurring
-        const task = day.customItems.find((t) => t.id === taskId);
-        if (task?.recurring || updates.recurring) {
-          const recurringTasks = [...(prev.recurringTasks ?? [])];
-          const idx = recurringTasks.findIndex((t) => t.id === taskId);
-          if (idx >= 0) {
-            recurringTasks[idx] = { ...recurringTasks[idx], ...updates };
-          } else if (updates.recurring) {
-            const updated = updatedCustom.find((t) => t.id === taskId);
-            if (updated) recurringTasks.push(updated);
-          }
-          // If recurring was turned off, remove from templates
-          if (updates.recurring === false) {
-            updatedStore.recurringTasks = recurringTasks.filter((t) => t.id !== taskId);
-          } else {
-            updatedStore.recurringTasks = recurringTasks;
-          }
-        }
+    const updatedDay = { ...dayProgress, customItems: [...dayProgress.customItems, task] };
+    await setDoc(doc(db, "users", user.uid, "days", selectedDate), sanitize(updatedDay));
 
-        return updatedStore;
-      });
-    },
-    [selectedDate]
-  );
+    if (recurring) {
+      const nextRecurring = [...recurringTasks, task];
+      await setDoc(doc(db, "users", user.uid, "data", "progress"), sanitize({ recurringTasks: nextRecurring }), { merge: true });
+    }
+  }, [user, dayProgress, selectedDate, recurringTasks]);
+
+  const removeCustomTask = useCallback(async (taskId: string) => {
+    if (!user) return;
+    const updatedCustom = dayProgress.customItems.filter(t => t.id !== taskId);
+    await setDoc(doc(db, "users", user.uid, "days", selectedDate), sanitize({ ...dayProgress, customItems: updatedCustom }));
+  }, [user, dayProgress, selectedDate]);
+
+  const removeRecurringTask = useCallback(async (taskId: string) => {
+    if (!user) return;
+    const nextRecurring = recurringTasks.filter(t => t.id !== taskId);
+    await setDoc(doc(db, "users", user.uid, "data", "progress"), sanitize({ recurringTasks: nextRecurring }), { merge: true });
+
+    const updatedCustom = dayProgress.customItems.filter(t => t.id !== taskId);
+    await setDoc(doc(db, "users", user.uid, "days", selectedDate), sanitize({ ...dayProgress, customItems: updatedCustom }));
+  }, [user, recurringTasks, dayProgress, selectedDate]);
+
+  const toggleCustomTask = useCallback(async (taskId: string) => {
+    if (!user) return;
+    const existsInRaw = dayProgressRaw.customItems.some(t => t.id === taskId);
+    const baseItems = existsInRaw ? dayProgressRaw.customItems : dayProgress.customItems;
+
+    const updatedCustom = baseItems.map(t =>
+      t.id === taskId ? { ...t, completedAt: t.completedAt ? undefined : new Date().toISOString() } : t
+    );
+    await setDoc(doc(db, "users", user.uid, "days", selectedDate), sanitize({ ...dayProgressRaw, customItems: updatedCustom }));
+  }, [user, dayProgressRaw, dayProgress, selectedDate]);
+
+  const toggleSubCheckItem = useCallback(async (taskId: string, subItemId: string) => {
+    if (!user) return;
+    const existsInRaw = dayProgressRaw.customItems.some(t => t.id === taskId);
+    const baseItems = existsInRaw ? dayProgressRaw.customItems : dayProgress.customItems;
+
+    const updatedCustom = baseItems.map(t => {
+      if (t.id !== taskId || !t.subChecklist) return t;
+      return {
+        ...t,
+        subChecklist: t.subChecklist.map(s =>
+          s.id === subItemId ? { ...s, checked: !s.checked } : s
+        ),
+      };
+    });
+    await setDoc(doc(db, "users", user.uid, "days", selectedDate), sanitize({ ...dayProgressRaw, customItems: updatedCustom }));
+  }, [user, dayProgressRaw, dayProgress, selectedDate]);
 
-  const completedCount = useMemo(() => {
-    const coreCompleted = dayProgress.items.filter((i) => i.completedAt).length;
-    const customCompleted = dayProgress.customItems.filter((i) => i.completedAt).length;
-    return coreCompleted + customCompleted;
-  }, [dayProgress]);
+  const editCustomTask = useCallback(async (taskId: string, updates: Partial<CustomTask>) => {
+    if (!user) return;
+    const existsInRaw = dayProgressRaw.customItems.some(t => t.id === taskId);
+    const baseItems = existsInRaw ? dayProgressRaw.customItems : dayProgress.customItems;
 
-  const totalCount = useMemo(
-    () => dayProgress.items.length + dayProgress.customItems.length,
-    [dayProgress]
-  );
+    const updatedCustom = baseItems.map(t => t.id === taskId ? { ...t, ...updates } : t);
+    await setDoc(doc(db, "users", user.uid, "days", selectedDate), sanitize({ ...dayProgressRaw, customItems: updatedCustom }));
 
-  const allCoreDone = useMemo(
-    () => dayProgress.items.every((i) => i.completedAt),
-    [dayProgress]
-  );
+    if (updates.recurring !== undefined || recurringTasks.some(t => t.id === taskId)) {
+      const nextRecurring = recurringTasks.map(t => t.id === taskId ? { ...t, ...updates } : t);
+      await setDoc(doc(db, "users", user.uid, "data", "progress"), sanitize({ recurringTasks: nextRecurring }), { merge: true });
+    }
+  }, [user, dayProgressRaw, dayProgress, selectedDate, recurringTasks]);
 
-  const allDone = completedCount === totalCount && totalCount > 0;
+  const toggleDefaultItemVisibility = useCallback(async (itemId: ChecklistItemId) => {
+    if (!user) return;
+    const isHidden = hiddenDefaultItems.includes(itemId);
+    const nextHidden = isHidden ? hiddenDefaultItems.filter(id => id !== itemId) : [...hiddenDefaultItems, itemId];
+    await setDoc(doc(db, "users", user.uid, "data", "progress"), sanitize({ hiddenDefaultItems: nextHidden }), { merge: true });
+  }, [user, hiddenDefaultItems]);
 
   const hasTasksForDate = useCallback(
     (date: string): boolean => {
-      const day = store.days[date];
-      if (!day) return (store.recurringTasks ?? []).length > 0;
+      const day = daysMap[date];
+      if (!day) return (recurringTasks ?? []).length > 0;
       return day.items.some((i) => i.completedAt) || day.customItems.length > 0;
     },
-    [store.days, store.recurringTasks]
-  );
-
-  const toggleDefaultItemVisibility = useCallback(
-    (itemId: ChecklistItemId) => {
-      setStore((prev) => {
-        const hidden = prev.hiddenDefaultItems ?? [];
-        const isHidden = hidden.includes(itemId);
-        return {
-          ...prev,
-          hiddenDefaultItems: isHidden
-            ? hidden.filter((id) => id !== itemId)
-            : [...hidden, itemId],
-        };
-      });
-    },
-    []
+    [daysMap, recurringTasks]
   );
 
   const getDateProgress = useCallback(
     (date: string): { completed: number; total: number } => {
-      const hidden = new Set(store.hiddenDefaultItems ?? []);
-      const base = store.days[date];
+      const hidden = new Set(hiddenDefaultItems);
+      const base = daysMap[date];
       if (!base) {
         const visibleCoreCount = DEFAULT_ITEMS.filter((i) => !hidden.has(i.id)).length;
         const dayOfWeek = getDayOfWeek(date);
-        const recurringCount = (store.recurringTasks ?? []).filter((rt) => {
+        const recurringCount = (recurringTasks ?? []).filter((rt) => {
           if (rt.activeDays && rt.activeDays.length > 0) return rt.activeDays.includes(dayOfWeek);
           return true;
         }).length;
         return { completed: 0, total: visibleCoreCount + recurringCount };
       }
-      const day = injectRecurringTasks(base, store.recurringTasks ?? [], date);
+      const day = injectRecurringTasks(base, recurringTasks, date);
       const visibleItems = day.items.filter((i) => !hidden.has(i.id));
       const coreCompleted = visibleItems.filter((i) => i.completedAt).length;
       const customCompleted = day.customItems.filter((i) => i.completedAt).length;
@@ -548,12 +340,22 @@ export function useDailyProgress() {
         total: visibleItems.length + day.customItems.length,
       };
     },
-    [store.days, store.recurringTasks, store.hiddenDefaultItems]
+    [daysMap, recurringTasks, hiddenDefaultItems]
   );
 
+  const completedCount = useMemo(() => {
+    const core = dayProgress.items.filter(i => i.completedAt).length;
+    const custom = dayProgress.customItems.filter(i => i.completedAt).length;
+    return core + custom;
+  }, [dayProgress]);
+
+  const totalCount = useMemo(() => dayProgress.items.length + dayProgress.customItems.length, [dayProgress]);
+  const allCoreDone = useMemo(() => dayProgress.items.every(i => i.completedAt), [dayProgress]);
+  const allDone = completedCount === totalCount && totalCount > 0;
+
   return {
     dayProgress,
-    streakCount: store.streakCount,
+    streakCount,
     loaded,
     selectedDate,
     setSelectedDate,
@@ -569,10 +371,10 @@ export function useDailyProgress() {
     totalCount,
     allDone,
     allCoreDone,
-    hasTasksForDate,
-    getDateProgress,
     hiddenDefaultItems,
     toggleDefaultItemVisibility,
     defaultItems: DEFAULT_ITEMS,
+    hasTasksForDate,
+    getDateProgress,
   };
 }
diff --git a/expo-app/src/store/useDecks.ts b/expo-app/src/store/useDecks.ts
index 260bbc2..bd60791 100644
--- a/expo-app/src/store/useDecks.ts
+++ b/expo-app/src/store/useDecks.ts
@@ -1,12 +1,21 @@
 import { useState, useEffect, useCallback } from "react";
-import AsyncStorage from "@react-native-async-storage/async-storage";
+import {
+  collection,
+  doc,
+  onSnapshot,
+  setDoc,
+  addDoc,
+  deleteDoc,
+} from "firebase/firestore";
+import { db } from "../firebase/config";
+import { useAuth } from "../context/AuthContext";
 import { Deck } from "../types";
 
-const STORAGE_KEY = "mindset_decks";
+import { sanitize } from "../utils/firestore";
 
 const INITIAL_DECKS: Deck[] = [
   {
-    id: "1",
+    id: "starter",
     title: "Basic Phrases",
     description: "Multi-language starter set.",
     frontLang: "en-US",
@@ -22,52 +31,77 @@ const INITIAL_DECKS: Deck[] = [
 ];
 
 export function useDecks() {
-  const [decks, setDecks] = useState<Deck[]>(INITIAL_DECKS);
+  const { user } = useAuth();
+  const [decks, setDecks] = useState<Deck[]>([]);
   const [loaded, setLoaded] = useState(false);
+  const [seeded, setSeeded] = useState(false);
 
   useEffect(() => {
-    AsyncStorage.getItem(STORAGE_KEY).then((raw) => {
-      if (raw) {
-        try {
-          setDecks(JSON.parse(raw));
-        } catch {}
+    if (!user) {
+      setDecks([]);
+      setLoaded(false);
+      setSeeded(false);
+      return;
+    }
+
+    const colRef = collection(db, "users", user.uid, "decks");
+    const unsub = onSnapshot(colRef, (snap) => {
+      const fetched: Deck[] = snap.docs.map((d) => ({
+        ...(d.data() as Omit<Deck, "id">),
+        id: d.id,
+      }));
+      setDecks(fetched);
+      setLoaded(true);
+
+      // Seed starter deck for brand-new users
+      if (!seeded && fetched.length === 0) {
+        setSeeded(true);
+        const starterRef = doc(colRef, "starter");
+        setDoc(starterRef, sanitize(INITIAL_DECKS[0])).catch(() => { });
+      } else {
+        setSeeded(true);
       }
+    }, (error) => {
+      console.error("Error in useDecks listener:", error);
       setLoaded(true);
     });
-  }, []);
 
-  useEffect(() => {
-    if (!loaded) return;
-    AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(decks));
-  }, [decks, loaded]);
+    return unsub;
+  }, [user]);
 
   const saveDeck = useCallback(
-    (deckData: Deck, existingId?: string | null) => {
+    async (deckData: Deck, existingId?: string | null) => {
+      if (!user) return;
+      const colRef = collection(db, "users", user.uid, "decks");
       if (existingId) {
-        setDecks((prev) =>
-          prev.map((d) => (d.id === existingId ? deckData : d))
-        );
+        await setDoc(doc(colRef, existingId), sanitize(deckData));
       } else {
-        setDecks((prev) => [
-          ...prev,
-          { ...deckData, id: Math.random().toString(36).substr(2, 9) },
-        ]);
+        const { id: _ignore, ...rest } = deckData;
+        await addDoc(colRef, sanitize(rest));
       }
     },
-    []
+    [user]
   );
 
-  const deleteDeck = useCallback((id: string) => {
-    setDecks((prev) => prev.filter((d) => d.id !== id));
-  }, []);
+  const deleteDeck = useCallback(
+    async (id: string) => {
+      if (!user) return;
+      await deleteDoc(doc(db, "users", user.uid, "decks", id));
+    },
+    [user]
+  );
 
-  const markStudied = useCallback((id: string) => {
-    setDecks((prev) =>
-      prev.map((d) =>
-        d.id === id ? { ...d, lastStudied: new Date().toISOString() } : d
-      )
-    );
-  }, []);
+  const markStudied = useCallback(
+    async (id: string) => {
+      if (!user) return;
+      const ref = doc(db, "users", user.uid, "decks", id);
+      const deck = decks.find((d) => d.id === id);
+      if (deck) {
+        await setDoc(ref, sanitize({ ...deck, lastStudied: new Date().toISOString() }));
+      }
+    },
+    [user, decks]
+  );
 
   const getDeck = useCallback(
     (id: string) => decks.find((d) => d.id === id),
diff --git a/expo-app/tailwind.config.js b/expo-app/tailwind.config.js
index a5756c5..0b0f841 100644
--- a/expo-app/tailwind.config.js
+++ b/expo-app/tailwind.config.js
@@ -1,6 +1,7 @@
 /** @type {import('tailwindcss').Config} */
 module.exports = {
   content: ["./app/**/*.{js,jsx,ts,tsx}", "./src/**/*.{js,jsx,ts,tsx}"],
+  darkMode: "class",
   presets: [require("nativewind/preset")],
   theme: {
     extend: {},
